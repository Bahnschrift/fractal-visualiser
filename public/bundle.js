!function(t){var e={};function n(r){if(e[r])return e[r].exports;var u=e[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var u in t)n.d(r,u,function(e){return t[e]}.bind(null,u));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u}));new class{getBytes(e,n,r){if(e=Array.isArray(e)?e.join(""):e,null!=n&&null!=r?e=e.substring(n,n+r):null!=n&&(e=e.substring(n)),void 0!==t){const n=t.from(e,"utf16le");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return function(t){const e=new Uint8Array(2*t.length),n=new DataView(e.buffer);for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);n.setUint16(2*e,r,!0)}return e}(e)}getString(e,n,r){const u=ArrayBuffer.isView(e)?e:Uint8Array.from(e);let o=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);return null!=n&&null!=r?o=o.subarray(n,n+r):null!=n&&(o=o.subarray(n)),"undefined"!=typeof TextDecoder?new TextDecoder("utf-16le").decode(o):void 0!==t?t.from(o).toString("utf16le"):function(t){const e=ArrayBuffer.isView(t)?t:Uint8Array.from(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=new Array(n.byteLength/2);for(let t=0;t<r.length;t++){const e=n.getUint16(2*t,!0);r[t]=String.fromCharCode(e)}return r.join("")}(o)}};const r=new class{getBytes(e,n,r){if(e=Array.isArray(e)?e.join(""):e,null!=n&&null!=r?e=e.substring(n,n+r):null!=n&&(e=e.substring(n)),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);if(void 0!==t){const n=t.from(e,"utf8");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return function(t){let e=0,n=new Uint8Array(3*t.length);for(let r=0;r<t.length;r++){let u=t.charCodeAt(r);if(u>=55296&&u<=56319){const o=r<t.length?t.charCodeAt(r+1):0;o>=56320&&o<=57343?(r+=1,u=1024*(u-55296)+o-56320+65536,u>65535&&(n[e++]=240|u>>>18,n[e++]=128|u>>>12&63,n[e++]=128|u>>>6&63,n[e++]=128|63&u)):(n[e++]=239,n[e++]=191,n[e++]=189)}else u<=127?n[e++]=0|u:u<=2047?(n[e++]=192|u>>>6,n[e++]=128|63&u):(n[e++]=224|u>>>12,n[e++]=128|u>>>6&63,n[e++]=128|63&u)}return n=new Uint8Array(n.buffer.slice(0,e)),n}(e)}getString(e,n,r){const u=ArrayBuffer.isView(e)?e:Uint8Array.from(e);let o=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);return null!=n&&null!=r?o=o.subarray(n,n+r):null!=n&&(o=o.subarray(n)),"undefined"!=typeof TextDecoder?(new TextDecoder).decode(o):void 0!==t?t.from(o).toString("utf8"):function(t){let e=0;const n=()=>{const n=t[e++];if(0==(128&n))return n;if(192==(224&n)){return(31&n)<<6|63&t[e++]}if(224==(240&n)){return(15&n)<<12|(63&t[e++])<<6|63&t[e++]}if(240==(248&n)){return(7&n)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++]}throw new RangeError("Invalid UTF8 byte: "+n)},r=new Array;for(;e<t.length;){const t=n();r.push(String.fromCodePoint(t))}return r.join("")}(o)}};function u(){return r}}).call(this,n(1).Buffer)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(3),u=n(4),o=n(5);function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return a(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=y(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),u=(t=l(t,r)).write(e,n);u!==r&&(t=t.slice(0,u));return t}(t,e,n):function(t,e){if(s.isBuffer(e)){var n=0|h(e.length);return 0===(t=l(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?l(t,0):y(t,e);if("Buffer"===e.type&&o(e.data))return y(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e){if(f(e),t=l(t,e<0?0:0|h(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function y(t,e){var n=e.length<0?0:0|h(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function d(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function w(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,u){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=u?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(u)return-1;n=t.length-1}else if(n<0){if(!u)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,u);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,u);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,u){var o,i=1,l=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;i=2,l/=2,s/=2,n/=2}function c(t,e){return 1===i?t[e]:t.readUInt16BE(e*i)}if(u){var f=-1;for(o=n;o<l;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*i}else-1!==f&&(o-=o-f),f=-1}else for(n+s>l&&(n=l-s),o=n;o>=0;o--){for(var a=!0,y=0;y<s;y++)if(c(t,o+y)!==c(e,y)){a=!1;break}if(a)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var u=t.length-n;r?(r=Number(r))>u&&(r=u):r=u;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var i=0;i<r;++i){var l=parseInt(e.substr(2*i,2),16);if(isNaN(l))return i;t[n+i]=l}return i}function x(t,e,n,r){return G(F(e,t.length-n),t,n,r)}function b(t,e,n,r){return G(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return b(t,e,n,r)}function E(t,e,n,r){return G(N(e),t,n,r)}function z(t,e,n,r){return G(function(t,e){for(var n,r,u,o=[],i=0;i<t.length&&!((e-=2)<0);++i)n=t.charCodeAt(i),r=n>>8,u=n%256,o.push(u),o.push(r);return o}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],u=e;u<n;){var o,i,l,s,c=t[u],f=null,a=c>239?4:c>223?3:c>191?2:1;if(u+a<=n)switch(a){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[u+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=t[u+1],i=t[u+2],128==(192&o)&&128==(192&i)&&(s=(15&c)<<12|(63&o)<<6|63&i)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=t[u+1],i=t[u+2],l=t[u+3],128==(192&o)&&128==(192&i)&&128==(192&l)&&(s=(15&c)<<18|(63&o)<<12|(63&i)<<6|63&l)>65535&&s<1114112&&(f=s)}null===f?(f=65533,a=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),u+=a}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return c(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?l(t,e):void 0!==n?"string"==typeof r?l(t,e).fill(n,r):l(t,e).fill(n):l(t,e)}(null,t,e,n)},s.allocUnsafe=function(t){return a(null,t)},s.allocUnsafeSlow=function(t){return a(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,u=0,o=Math.min(n,r);u<o;++u)if(t[u]!==e[u]){n=t[u],r=e[u];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),u=0;for(n=0;n<t.length;++n){var i=t[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,u),u+=i.length}return r},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):w.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,u){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===u&&(u=this.length),e<0||n>t.length||r<0||u>this.length)throw new RangeError("out of range index");if(r>=u&&e>=n)return 0;if(r>=u)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(u>>>=0)-(r>>>=0),i=(n>>>=0)-(e>>>=0),l=Math.min(o,i),c=this.slice(r,u),f=t.slice(e,n),a=0;a<l;++a)if(c[a]!==f[a]){o=c[a],i=f[a];break}return o<i?-1:i<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var u=this.length-e;if((void 0===n||n>u)&&(n=u),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(t,e,n){var r="";n=Math.min(t.length,n);for(var u=e;u<n;++u)r+=String.fromCharCode(127&t[u]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var u=e;u<n;++u)r+=String.fromCharCode(t[u]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var u="",o=e;o<n;++o)u+=j(t[o]);return u}function _(t,e,n){for(var r=t.slice(e,n),u="",o=0;o<r.length;o+=2)u+=String.fromCharCode(r[o]+256*r[o+1]);return u}function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,u,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>u||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var u=0,o=Math.min(t.length-n,2);u<o;++u)t[n+u]=(e&255<<8*(r?u:1-u))>>>8*(r?u:1-u)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var u=0,o=Math.min(t.length-n,4);u<o;++u)t[n+u]=e>>>8*(r?u:3-u)&255}function O(t,e,n,r,u,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,o){return o||O(t,0,n,4),u.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||O(t,0,n,8),u.write(t,e,n,r,52,8),n+8}s.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=s.prototype;else{var u=e-t;n=new s(u,void 0);for(var o=0;o<u;++o)n[o]=this[o+t]}return n},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],u=1,o=0;++o<e&&(u*=256);)r+=this[t+o]*u;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t+--e],u=1;e>0&&(u*=256);)r+=this[t+--e]*u;return r},s.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],u=1,o=0;++o<e&&(u*=256);)r+=this[t+o]*u;return r>=(u*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=e,u=1,o=this[t+--r];r>0&&(u*=256);)o+=this[t+--r]*u;return o>=(u*=128)&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),u.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),u.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),u.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),u.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var u=1,o=0;for(this[e]=255&t;++o<n&&(u*=256);)this[e+o]=t/u&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var u=n-1,o=1;for(this[e+u]=255&t;--u>=0&&(o*=256);)this[e+u]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var u=Math.pow(2,8*n-1);M(this,t,e,n,u-1,-u)}var o=0,i=1,l=0;for(this[e]=255&t;++o<n&&(i*=256);)t<0&&0===l&&0!==this[e+o-1]&&(l=1),this[e+o]=(t/i>>0)-l&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var u=Math.pow(2,8*n-1);M(this,t,e,n,u-1,-u)}var o=n-1,i=1,l=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===l&&0!==this[e+o+1]&&(l=1),this[e+o]=(t/i>>0)-l&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var u,o=r-n;if(this===t&&n<e&&e<r)for(u=o-1;u>=0;--u)t[u+e]=this[u+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(u=0;u<o;++u)t[u+e]=this[u+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var u=t.charCodeAt(0);u<256&&(t=u)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var i=s.isBuffer(t)?t:F(new s(t,r).toString()),l=i.length;for(o=0;o<n-e;++o)this[o+e]=i[o%l]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,u=null,o=[],i=0;i<r;++i){if((n=t.charCodeAt(i))>55295&&n<57344){if(!u){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(e-=3)>-1&&o.push(239,191,189);continue}u=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),u=n;continue}n=65536+(u-55296<<10|n-56320)}else u&&(e-=3)>-1&&o.push(239,191,189);if(u=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,n,r){for(var u=0;u<r&&!(u+n>=e.length||u>=t.length);++u)e[u+n]=t[u];return u}}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),i=r[0],l=r[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,l)),f=0,a=l>0?i-4:i;for(n=0;n<a;n+=4)e=u[t.charCodeAt(n)]<<18|u[t.charCodeAt(n+1)]<<12|u[t.charCodeAt(n+2)]<<6|u[t.charCodeAt(n+3)],s[f++]=e>>16&255,s[f++]=e>>8&255,s[f++]=255&e;2===l&&(e=u[t.charCodeAt(n)]<<2|u[t.charCodeAt(n+1)]>>4,s[f++]=255&e);1===l&&(e=u[t.charCodeAt(n)]<<10|u[t.charCodeAt(n+1)]<<4|u[t.charCodeAt(n+2)]>>2,s[f++]=e>>8&255,s[f++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,u=n%3,o=[],i=0,l=n-u;i<l;i+=16383)o.push(f(t,i,i+16383>l?l:i+16383));1===u?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===u&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],u=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,s=i.length;l<s;++l)r[l]=i[l],u[i.charCodeAt(l)]=l;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var u,o,i=[],l=e;l<n;l+=3)u=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]),i.push(r[(o=u)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,u){var o,i,l=8*u-r-1,s=(1<<l)-1,c=s>>1,f=-7,a=n?u-1:0,y=n?-1:1,h=t[e+a];for(a+=y,o=h&(1<<-f)-1,h>>=-f,f+=l;f>0;o=256*o+t[e+a],a+=y,f-=8);for(i=o&(1<<-f)-1,o>>=-f,f+=r;f>0;i=256*i+t[e+a],a+=y,f-=8);if(0===o)o=1-c;else{if(o===s)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),o-=c}return(h?-1:1)*i*Math.pow(2,o-r)},e.write=function(t,e,n,r,u,o){var i,l,s,c=8*o-u-1,f=(1<<c)-1,a=f>>1,y=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,w=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,i=f):(i=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-i))<1&&(i--,s*=2),(e+=i+a>=1?y/s:y*Math.pow(2,1-a))*s>=2&&(i++,s/=2),i+a>=f?(l=0,i=f):i+a>=1?(l=(e*s-1)*Math.pow(2,u),i+=a):(l=e*Math.pow(2,a-1)*Math.pow(2,u),i=0));u>=8;t[n+h]=255&l,h+=d,l/=256,u-=8);for(i=i<<u|l,c+=u;c>0;t[n+h]=255&i,h+=d,i/=256,c-=8);t[n+h-d]|=128*w}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var r;function u(t,e){switch(e){case 8:return t?[0,255]:[-128,127];case 16:return t?[0,65535]:[-32768,32767];case 32:return t?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function o(t,e,n){const u=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(t.replace(/_/g,""));if(null!=u){const[,,t,o]=u;if(!function(t){switch(t){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n=n||function(t,e){if(e&r.AllowHexSpecifier)return 16;switch(t){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(t,e)).test(o))return function(t,e){const[,n,r,u]=t;return{sign:n||"",prefix:r||"",digits:u,radix:e}}(u,n)}return null}function i(t,e,n,r,i){const l=o(t,e,i);if(null!=l){let t=Number.parseInt(l.sign+l.digits,l.radix);if(!Number.isNaN(t)){const[e,o]=u(!0,r);!n&&10!==l.radix&&t>=e&&t<=o&&(t=t<<32-r>>32-r);const[i,s]=u(n,r);if(t>=i&&t<=s)return t}}throw new Error("Input string was not in a correct format.")}n.r(e),n.d(e,"WIDTH",(function(){return Or})),n.d(e,"HEIGHT",(function(){return Br})),n.d(e,"juliaPresets",(function(){return Ur})),n.d(e,"getDivElement",(function(){return qr})),n.d(e,"divPallette",(function(){return jr})),n.d(e,"divMandelbox",(function(){return Fr})),n.d(e,"divJulia",(function(){return Nr})),n.d(e,"getInputElement",(function(){return Gr})),n.d(e,"fieldZoom",(function(){return Lr})),n.d(e,"fieldX",(function(){return Yr})),n.d(e,"fieldY",(function(){return Hr})),n.d(e,"fieldPalletteOffset",(function(){return Xr})),n.d(e,"fieldFractal",(function(){return Jr})),n.d(e,"fieldMandelbrot",(function(){return Vr})),n.d(e,"fieldMandelbox",(function(){return Zr})),n.d(e,"fieldMandelboxScale",(function(){return Wr})),n.d(e,"fieldJulia",(function(){return Qr})),n.d(e,"fieldJuliaX",(function(){return $r})),n.d(e,"fieldJuliaY",(function(){return Kr})),n.d(e,"fieldUseDoub",(function(){return tu})),n.d(e,"fieldJuliaPresets",(function(){return eu})),n.d(e,"getButtonElement",(function(){return nu})),n.d(e,"buttonFullscreen",(function(){return ru})),n.d(e,"buttonPallette",(function(){return uu})),n.d(e,"buttonCentre",(function(){return ou})),n.d(e,"buttonReset",(function(){return iu})),n.d(e,"buttonSaveImage",(function(){return lu})),n.d(e,"cookieX",(function(){return su})),n.d(e,"cookieY",(function(){return cu})),n.d(e,"cookieZoom",(function(){return fu})),n.d(e,"cookiePalletteOffset",(function(){return au})),n.d(e,"cookieGenerator",(function(){return yu})),n.d(e,"cookieMandelboxScale",(function(){return hu})),n.d(e,"cookieJuliaX",(function(){return du})),n.d(e,"cookieJuliaY",(function(){return wu})),n.d(e,"cookieUseDoub",(function(){return gu})),n.d(e,"setupCookies",(function(){return pu})),n.d(e,"zoom",(function(){return vu})),n.d(e,"x",(function(){return mu})),n.d(e,"y",(function(){return xu})),n.d(e,"palletteOffset",(function(){return bu})),n.d(e,"generator",(function(){return Su})),n.d(e,"mandelboxScale",(function(){return Eu})),n.d(e,"juliaX",(function(){return zu})),n.d(e,"juliaY",(function(){return Au})),n.d(e,"useDoub",(function(){return Pu})),n.d(e,"canv",(function(){return Cu})),n.d(e,"gl",(function(){return ku})),n.d(e,"shaderProgram",(function(){return _u})),n.d(e,"pallette",(function(){return Tu})),n.d(e,"update",(function(){return Mu})),n.d(e,"keysDown",(function(){return Iu})),function(t){t[t.AllowHexSpecifier=512]="AllowHexSpecifier"}(r||(r={}));const l=Symbol("numeric");function s(t){return"number"==typeof t||(null==t?void 0:t[l])}function c(t,e){return"number"==typeof t?t*e:t[l]().multiply(e)}function f(t,e){return"number"==typeof t?t.toFixed(e):t[l]().toFixed(e)}function a(t,e){return"number"==typeof t?t.toPrecision(e):t[l]().toPrecision(e)}function y(t,e){return"number"==typeof t?t.toExponential(e):t[l]().toExponential(e)}function h(t){return"number"==typeof t?(Number(t)>>>0).toString(16):t[l]().toHex()}var d=null;try{d=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function w(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function g(t){return!0===(t&&t.__isLong__)}w.prototype.GetHashCode=function(){let t=this.unsigned?1:0;return t=(t<<5)+t^this.high,t=(t<<5)+t^this.low,t},w.prototype.Equals=function(t){return L(this,t)},w.prototype.CompareTo=function(t){return J(this,t)},w.prototype.toString=function(t){return j(this,t)},w.prototype.toJSON=function(){return j(this)},w.prototype[l]=function(){const t=this;return{multiply:e=>Q(t,e),toPrecision:e=>String(t)+(0).toPrecision(e).substr(1),toExponential:e=>String(t)+(0).toExponential(e).substr(1),toFixed:e=>String(t)+(0).toFixed(e).substr(1),toHex:()=>j(t.unsigned?t:ut(rt(t),!0),16)}},w.prototype.__isLong__,Object.defineProperty(w.prototype,"__isLong__",{value:!0});var p={},v={};function m(t,e){var n,r,u;return e?(u=0<=(t>>>=0)&&t<256)&&(r=v[t])?r:(n=b(t,(0|t)<0?-1:0,!0),u&&(v[t]=n),n):(u=-128<=(t|=0)&&t<128)&&(r=p[t])?r:(n=b(t,t<0?-1:0,!1),u&&(p[t]=n),n)}function x(t,e){if(isNaN(t))return e?_:R;if(e){if(t<0)return _;if(t>=P)return O}else{if(t<=-C)return B;if(t+1>=C)return D}return t<0?V(x(-t,e)):b(t%A|0,t/A|0,e)}function b(t,e,n){return new w(t,e,n)}var S=Math.pow;function E(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return R;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r=t.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return V(E(t.substring(1),e,n));for(var u=x(S(n,8)),o=R,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+l),n);if(l<8)o=Z(Q(o,x(S(n,l))),x(s));else o=Z(o=Q(o,u),x(s))}return o.unsigned=e,o}function z(t,e){return"number"==typeof t?x(t,e):"string"==typeof t?E(t,e):b(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}var A=4294967296,P=A*A,C=P/2,k=m(1<<24),R=m(0),_=m(0,!0),T=m(1),M=m(1,!0),I=m(-1),D=b(-1,2147483647,!1),O=b(-1,-1,!0),B=b(0,-2147483648,!1);function U(t){return t.unsigned?t.low>>>0:t.low}function q(t){return t.unsigned?(t.high>>>0)*A+(t.low>>>0):t.high*A+(t.low>>>0)}function j(t,e){if((e=e||10)<2||36<e)throw RangeError("radix");if(F(t))return"0";if(N(t)){if(L(t,B)){var n=x(e),r=$(t,n),u=W(Q(r,n),t);return j(r,e)+U(u).toString(e)}return"-"+j(V(t),e)}for(var o=x(S(e,6),t.unsigned),i=t,l="";;){var s=$(i,o),c=(U(W(i,Q(s,o)))>>>0).toString(e);if(F(i=s))return c+l;for(;c.length<6;)c="0"+c;l=""+c+l}}function F(t){return 0===t.high&&0===t.low}function N(t){return!t.unsigned&&t.high<0}function G(t){return 1==(1&t.low)}function L(t,e){return g(e)||(e=z(e)),(t.unsigned===e.unsigned||t.high>>>31!=1||e.high>>>31!=1)&&(t.high===e.high&&t.low===e.low)}function Y(t,e){return J(t,e)<0}function H(t,e){return J(t,e)>0}function X(t,e){return J(t,e)>=0}function J(t,e){if(g(e)||(e=z(e)),L(t,e))return 0;var n=N(t),r=N(e);return n&&!r?-1:!n&&r?1:t.unsigned?e.high>>>0>t.high>>>0||e.high===t.high&&e.low>>>0>t.low>>>0?-1:1:N(W(t,e))?-1:1}function V(t){return!t.unsigned&&L(t,B)?B:Z(K(t),T)}function Z(t,e){g(e)||(e=z(e));var n=t.high>>>16,r=65535&t.high,u=t.low>>>16,o=65535&t.low,i=e.high>>>16,l=65535&e.high,s=e.low>>>16,c=0,f=0,a=0,y=0;return a+=(y+=o+(65535&e.low))>>>16,f+=(a+=u+s)>>>16,c+=(f+=r+l)>>>16,c+=n+i,b((a&=65535)<<16|(y&=65535),(c&=65535)<<16|(f&=65535),t.unsigned)}function W(t,e){return g(e)||(e=z(e)),Z(t,V(e))}function Q(t,e){if(F(t))return t.unsigned?_:R;if(g(e)||(e=z(e)),d)return b(d.mul(t.low,t.high,e.low,e.high),d.get_high(),t.unsigned);if(F(e))return t.unsigned?_:R;if(L(t,B))return G(e)?B:R;if(L(e,B))return G(t)?B:R;if(N(t))return N(e)?Q(V(t),V(e)):V(Q(V(t),e));if(N(e))return V(Q(t,V(e)));if(Y(t,k)&&Y(e,k))return x(q(t)*q(e),t.unsigned);var n=t.high>>>16,r=65535&t.high,u=t.low>>>16,o=65535&t.low,i=e.high>>>16,l=65535&e.high,s=e.low>>>16,c=65535&e.low,f=0,a=0,y=0,h=0;return y+=(h+=o*c)>>>16,a+=(y+=u*c)>>>16,y&=65535,a+=(y+=o*s)>>>16,f+=(a+=r*c)>>>16,a&=65535,f+=(a+=u*s)>>>16,a&=65535,f+=(a+=o*l)>>>16,f+=n*c+r*s+u*l+o*i,b((y&=65535)<<16|(h&=65535),(f&=65535)<<16|(a&=65535),t.unsigned)}function $(t,e){if(g(e)||(e=z(e)),F(e))throw Error("division by zero");var n,r,u;if(d)return t.unsigned||-2147483648!==t.high||-1!==e.low||-1!==e.high?b((t.unsigned?d.div_u:d.div_s)(t.low,t.high,e.low,e.high),d.get_high(),t.unsigned):t;if(F(t))return t.unsigned?_:R;if(t.unsigned){if(e.unsigned||(e=function(t){return t.unsigned?t:b(t.low,t.high,!0)}(e)),H(e,t))return _;if(H(e,nt(t,1)))return M;u=_}else{if(L(t,B))return L(e,T)||L(e,I)?B:L(e,B)?T:L(n=tt($(et(t,1),e),1),R)?N(e)?T:I:u=Z(n,$(r=W(t,Q(e,n)),e));if(L(e,B))return t.unsigned?_:R;if(N(t))return N(e)?$(V(t),V(e)):V($(V(t),e));if(N(e))return V($(t,V(e)));u=R}for(r=t;X(r,e);){n=Math.max(1,Math.floor(q(r)/q(e)));for(var o=Math.ceil(Math.log(n)/Math.LN2),i=o<=48?1:S(2,o-48),l=x(n),s=Q(l,e);N(s)||H(s,r);)s=Q(l=x(n-=i,t.unsigned),e);F(l)&&(l=T),u=Z(u,l),r=W(r,s)}return u}function K(t){return b(~t.low,~t.high,t.unsigned)}function tt(t,e){return g(e)&&(e=U(e)),0==(e&=63)?t:e<32?b(t.low<<e,t.high<<e|t.low>>>32-e,t.unsigned):b(0,t.low<<e-32,t.unsigned)}function et(t,e){return g(e)&&(e=U(e)),0==(e&=63)?t:e<32?b(t.low>>>e|t.high<<32-e,t.high>>e,t.unsigned):b(t.high>>e-32,t.high>=0?0:-1,t.unsigned)}function nt(t,e){if(g(e)&&(e=U(e)),0===(e&=63))return t;var n=t.high;return e<32?b(t.low>>>e|n<<32-e,n>>>e,t.unsigned):b(32===e?n:n>>>e-32,0,t.unsigned)}function rt(t,e){return e?function(t){var e=t.high,n=t.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}(t):function(t){var e=t.high,n=t.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,n>>>24,n>>>16&255,n>>>8&255,255&n]}(t)}function ut(t,e,n){return n?function(t,e){return new w(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)}(t,e):function(t,e){return new w(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}(t,e)}function ot(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function it(t){return"function"==typeof t.GetHashCode}function lt(t,e){return Object.getPrototypeOf(t).constructor===Object.getPrototypeOf(e).constructor}function st(t,e){let n=t.toString(10);for(;n.length<e;)n="0"+n;return n}function ct(t){const e=t;return"number"==typeof e.offset?e.offset:1===t.kind?0:-6e4*t.getTimezoneOffset()}function ft(t,e){return(t=t<0&&null!=e&&10!==e?4294967295+t+1:t).toString(e)}class at{static id(t){return at.idMap.has(t)||at.idMap.set(t,++at.count),at.idMap.get(t)}}function yt(t){let e=0,n=5381;const r=t.length;for(;e<r;)n=33*n^t.charCodeAt(e++);return n}function ht(t){return 2654435761*t|0}function dt(t){return 0===t.length?0:t.reduce((t,e)=>(t<<5)+t^e)}function wt(t){if(null==t)return 0;switch(typeof t){case"boolean":return t?1:0;case"number":return ht(t);case"string":return yt(t);default:if(it(t))return t.GetHashCode();if(ot(t))return function(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r++)n[r]=wt(t[r]);return dt(n)}(t);if(t instanceof Date)return function(t){return t.getTime()}(t);if(Object.getPrototypeOf(t).constructor===Object){return dt(Object.values(t).map(t=>wt(t)))}return ht(at.id(t))}}function gt(t,e,n){if(null==t)return null==e;if(null==e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function pt(t,e){return gt(t,e,vt)}function vt(t,e){return t===e||(null==t?null==e:null!=e&&("object"==typeof t&&(function(t){return"function"==typeof t.Equals}(t)?t.Equals(e):ot(t)?ot(e)&&pt(t,e):t instanceof Date?e instanceof Date&&0===mt(t,e):Object.getPrototypeOf(t).constructor===Object&&function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let u=0;u<n.length;u++)if(n[u]!==r[u]||!vt(t[n[u]],e[r[u]]))return!1;return!0}(t,e))))}function mt(t,e){let n,r;return"offset"in t&&"offset"in e?(n=t.getTime(),r=e.getTime()):(n=t.getTime()+ct(t),r=e.getTime()+ct(e)),n===r?0:n<r?-1:1}function xt(t,e){return t===e?0:t<e?-1:1}function bt(t,e){return function(t,e,n){if(null==t)return null==e?0:1;if(null==e)return-1;if(t.length!==e.length)return t.length<e.length?-1:1;for(let r=0,u=0;r<t.length;r++)if(u=n(t[r],e[r]),0!==u)return u;return 0}(t,e,St)}function St(t,e){return t===e?0:null==t?null==e?0:-1:null==e?1:"object"!=typeof t?t<e?-1:1:function(t){return"function"==typeof t.CompareTo}(t)?t.CompareTo(e):ot(t)?ot(e)?bt(t,e):-1:t instanceof Date?e instanceof Date?mt(t,e):-1:Object.getPrototypeOf(t).constructor===Object?function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let u=0,o=0;u<n.length;u++){const i=n[u];if(i!==r[u])return i<r[u]?-1:1;if(o=St(t[i],e[i]),0!==o)return o}return 0}(t,e):-1}function Et(t){let e=t;return(t,n)=>n?void(e=t):e}at.idMap=new WeakMap,at.count=0;function zt(t){const e=t<0,n=(t=Math.abs(t))%36e5/6e4;return(e?"-":"+")+st(~~(t/36e5),2)+":"+st(n,2)}function At(t,e){const n=t.toISOString();return"first"===e?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Pt(t,e,n){return e.replace(/(\w)\1*/g,e=>{let r=Number.NaN;switch(e.substring(0,1)){case"y":const u=n?t.getUTCFullYear():t.getFullYear();r=e.length<4?u%100:u;break;case"M":r=(n?t.getUTCMonth():t.getMonth())+1;break;case"d":r=n?t.getUTCDate():t.getDate();break;case"H":r=n?t.getUTCHours():t.getHours();break;case"h":const o=n?t.getUTCHours():t.getHours();r=o>12?o%12:o;break;case"m":r=n?t.getUTCMinutes():t.getMinutes();break;case"s":r=n?t.getUTCSeconds():t.getSeconds();break;case"f":r=n?t.getUTCMilliseconds():t.getMilliseconds()}return Number.isNaN(r)?e:r<10&&e.length>1?"0"+r:""+r})}function Ct(t,e){var n,r,u;const o=new Date(t.getTime()+(null!==(n=t.offset)&&void 0!==n?n:0));if("string"!=typeof e)return o.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+zt(null!==(r=t.offset)&&void 0!==r?r:0);if(1!==e.length)return Pt(o,e,!0);switch(e){case"D":case"d":return At(o,"first");case"T":case"t":return At(o,"second");case"O":case"o":return function(t,e){const n=t.toISOString();return n.substring(0,n.length-1)+zt(e)}(o,null!==(u=t.offset)&&void 0!==u?u:0);default:throw new Error("Unrecognized Date print format")}}function kt(t,e){const n=1===t.kind;if("string"!=typeof e)return n?t.toUTCString():t.toLocaleString();if(1!==e.length)return Pt(t,e,n);switch(e){case"D":case"d":return n?At(t,"first"):t.toLocaleDateString();case"T":case"t":return n?At(t,"second"):t.toLocaleTimeString();case"O":case"o":return function(t,e){if(e)return t.toISOString();{const e=null==t.kind||2===t.kind;return st(t.getFullYear(),4)+"-"+st(t.getMonth()+1,2)+"-"+st(t.getDate(),2)+"T"+st(t.getHours(),2)+":"+st(t.getMinutes(),2)+":"+st(t.getSeconds(),2)+"."+st(t.getMilliseconds(),3)+(e?zt(-6e4*t.getTimezoneOffset()):"")}}(t,n);default:throw new Error("Unrecognized Date print format")}}function Rt(t,e,n){return null!=t.offset?Ct(t,e):kt(t,e)}function _t(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Tt(t){let e=0,n="[";for(const r of t){if(0===e)n+=Mt(r);else{if(100===e){n+="; ...";break}n+="; "+Mt(r)}e++}return n+"]"}function Mt(t,e=0){if(null!=t&&"object"==typeof t){if("function"==typeof t.toString)return t.toString();if(Symbol.iterator in t)return Tt(t);{const n=Object.getPrototypeOf(t).constructor;return n===Object&&e<10?"{ "+Object.entries(t).map(([t,n])=>t+" = "+Mt(n,e+1)).join("\n  ")+" }":n.name}}return String(t)}function It(t,e){if(t===e)return 0;if(null==e)return-1;for(;null!=t.tail;){if(null==e.tail)return 1;const n=St(t.head,e.head);if(0!==n)return n;t=t.tail,e=e.tail}return null==e.tail?0:-1}class Dt{constructor(t,e){this.head=t,this.tail=e}[Symbol.iterator](){let t=this;return{next:()=>{const e=null==t?void 0:t.head,n=null==(null==t?void 0:t.tail);return t=null==t?void 0:t.tail,{done:n,value:e}}}}toJSON(){return Array.from(this)}toString(){return Tt(this)}GetHashCode(){return dt(Array.from(this).map(wt))}Equals(t){return 0===It(this,t)}CompareTo(t){return It(this,t)}}class Ot{get name(){return this.cases()[this.tag]}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}toString(){if(0===this.fields.length)return this.name;{let t="",e=!0;if(1===this.fields.length){const n=Mt(this.fields[0]);e=n.indexOf(" ")>=0,t=n}else t=this.fields.map(t=>Mt(t)).join(", ");return this.name+(e?" (":" ")+t+(e?")":"")}}GetHashCode(){const t=this.fields.map(t=>wt(t));return t.splice(0,0,ht(this.tag)),dt(t)}Equals(t){return this===t||!!lt(this,t)&&(this.tag===t.tag&&pt(this.fields,t.fields))}CompareTo(t){return this===t?0:lt(this,t)?this.tag===t.tag?bt(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function Bt(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}function Ut(t){return"{ "+Object.entries(t).map(([t,e])=>t+" = "+Mt(e)).join("\n  ")+" }"}function qt(t){return dt(Object.values(t).map(t=>wt(t)))}function jt(t,e){if(t===e)return!0;if(lt(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++)if(!vt(t[n[r]],e[n[r]]))return!1;return!0}return!1}function Ft(t,e){if(t===e)return 0;if(lt(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++){const u=St(t[n[r]],e[n[r]]);if(0!==u)return u}return 0}return-1}class Nt{toJSON(){return Bt(this)}toString(){return Ut(this)}GetHashCode(){return qt(this)}Equals(t){return jt(this,t)}CompareTo(t){return Ft(this,t)}}class Gt{constructor(t,e){"function"==typeof e?(this.getter=t,this.setter=e):(this.getter=()=>t,this.setter=e=>{t=e})}get contents(){return this.getter()}set contents(t){this.setter(t)}}const Lt=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/,Yt=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Ht(t,e){return function(t,e){return"number"==typeof t?t<e?-1:t>e?1:0:t.CompareTo(e)}(t,e)<0}function Xt(t){return{input:t,cont:(e=t,t=>Lt.test(e)?function t(e,n,r=new Gt(null)){return(...u)=>{let o=e;for(const t of u)o=Wt(o,t,r);return Lt.test(o)?t(o,n,r):n(o.replace(/%%/g,"%"))}}(e,t):t(e))};var e}function Jt(t,e){return"string"==typeof e?t(e):e.cont(t)}function Vt(t){return Jt(t=>t,t)}function Zt(t,e,n,r,u,o){let i="";if(n=n||"",o=o||"",s(t))switch("x"!==o.toLowerCase()&&(Ht(t,0)?(t=c(t,-1),i="-"):n.indexOf(" ")>=0?i=" ":n.indexOf("+")>=0&&(i="+")),u=null==u?null:parseInt(u,10),o){case"f":case"F":t=f(t,u=null!=u?u:6);break;case"g":case"G":t=null!=u?a(t,u):a(t);break;case"e":case"E":t=null!=u?y(t,u):y(t);break;case"x":t=h(t);break;case"X":t=h(t).toUpperCase();break;default:t=String(t)}else t=t instanceof Date?Rt(t):Mt(t);if(r="number"==typeof r?r:parseInt(r,10),isNaN(r))t=i+t;else{const e=n.indexOf("0")>=0,u=n.indexOf("-")>=0,o=u||!e?" ":"0";t="0"===o?i+(t=Kt(t,r-i.length,o,u)):Kt(i+t,r,o,u)}return e?e+t:t}function Wt(t,e,n){return t.replace(Lt,(t,r,u,o,i,l)=>{if(null!=n.contents)o=n.contents,n.contents=null;else if("*"===o){if(e<0)throw new Error("Non-negative number required");return n.contents=e,t}return Zt(e,r,u,o,i,l).replace(/%/g,"%%")})}function Qt(t,...e){return"object"==typeof t&&e.length>0&&(t=e[0],e.shift()),t.replace(Yt,(t,n,r,u,o,i)=>{let l=e[n];if(s(l))switch(o=null==o?null:parseInt(o,10),u){case"f":case"F":l=f(l,o=null!=o?o:2);break;case"g":case"G":l=null!=o?a(l,o):a(l);break;case"e":case"E":l=null!=o?y(l,o):y(l);break;case"p":case"P":o=null!=o?o:2,l=f(c(l,100),o)+" %";break;case"d":case"D":l=null!=o?Kt(String(l),o,"0"):String(l);break;case"x":case"X":l=null!=o?Kt(h(l),o,"0"):h(l),"X"===u&&(l=l.toUpperCase());break;default:if(i){let t="";l=i.replace(/(0+)(\.0+)?/,(e,n,r)=>(Ht(l,0)&&(l=c(l,-1),t="-"),l=f(l,null!=r?r.length-1:0),Kt(l,(n||"").length-t.length+(null!=r?r.length:0),"0"))),l=t+l}}else l=l instanceof Date?Rt(l,i||u):Mt(l);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(l=Kt(String(l),Math.abs(r)," ",r<0)),l})}function $t(t,e){return Array.isArray(e)?e.join(t):Array.from(e).join(t)}function Kt(t,e,n,r){n=n||" ",e-=t.length;for(let u=0;u<e;u++)t=r?t+n:n+t;return t}class te{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return wt(this.value)}Equals(t){return null!=t&&vt(this.value,t instanceof te?t.value:t)}CompareTo(t){return null==t?1:St(this.value,t instanceof te?t.value:t)}}function ee(t){return null==t||t instanceof te?new te(t):t}function ne(t){if(null==t)throw new Error("Option has no value");return t instanceof te?t.value:t}var re={GetHashCode(){return dt([this.s,this.e].concat(this.c))},Equals(t){return!this.cmp(t)},CompareTo(t){return this.cmp(t)},[l](){const t=this;return{multiply:e=>t.mul(e),toPrecision:e=>t.toPrecision(e),toExponential:e=>t.toExponential(e),toFixed:e=>t.toFixed(e),toHex:()=>(Number(t)>>>0).toString(16)}}},ue="[big.js] ",oe=ue+"Invalid ",ie=oe+"decimal places",le=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function se(t,e){var n,r,u;if(0===e&&1/e<0)e="-0";else if(!le.test(e+=""))throw Error(oe+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),u=e.length,r=0;r<n&&r<u&&"0"==e.charAt(r);)++r;if(r==u)t.c=[t.e=0];else for(t.e=n-r-1,t.c=[],n=0;r<u;)t.c[n++]=+e.charAt(r++);return t=ce(t,ae.DP,ae.RM)}function ce(t,e,n,r){var u=t.c,o=t.e+e+1;if(o<u.length){if(1===n)r=u[o]>=5;else if(2===n)r=u[o]>5||5==u[o]&&(r||o<0||void 0!==u[o+1]||1&u[o-1]);else if(3===n)r=r||!!u[0];else if(r=!1,0!==n)throw Error("[big.js] Invalid rounding mode");if(o<1)u.length=1,r?(t.e=-e,u[0]=1):u[0]=t.e=0;else{if(u.length=o--,r)for(;++u[o]>9;)u[o]=0,o--||(++t.e,u.unshift(1));for(o=u.length;!u[--o];)u.pop()}}else if(n<0||n>3||n!==~~n)throw Error("[big.js] Invalid rounding mode");return t}function fe(t,e,n,r){var u,o,i=t.constructor,l=!t.c[0];if(void 0!==n){if(n!==~~n||n<(3==e)||n>1e6)throw Error(3==e?oe+"precision":ie);for(n=r-(t=new i(t)).e,t.c.length>++r&&ce(t,n,i.RM),2==e&&(r=t.e+n+1);t.c.length<r;)t.c.push(0)}if(u=t.e,n=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&r<=u||u<=i.NE||u>=i.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(u<0?"e":"e+")+u;else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(u>0)if(++u>n)for(u-=n;u--;)o+="0";else u<n&&(o=o.slice(0,u)+"."+o.slice(u));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!l||4==e)?"-"+o:o}re.abs=function(){var t=new this.constructor(this);return t.s=1,t},re.cmp=function(t){var e,n=this.constructor,r=new n(this),u=(t=new n(t),r.c),o=t.c,i=r.s,l=t.s,s=r.e,c=t.e;if(!u[0]||!o[0])return u[0]?i:o[0]?-l:0;if(i!=l)return i;if(e=i<0,s!=c)return s>c^e?1:-1;for(l=Math.max(u.length,o.length),i=0;i<l;i++)if((s=i<u.length?u[i]:0)!=(c=i<o.length?o[i]:0))return s>c^e?1:-1;return 0},re.div=function(t){var e=this.constructor,n=new e(this),r=(t=new e(t),n.c),u=t.c,o=n.s==t.s?1:-1,i=e.DP;if(i!==~~i||i<0||i>1e6)throw Error(ie);if(!u[0])throw Error("[big.js] Division by zero");if(!r[0])return new e(0*o);var l,s,c,f,a,y=u.slice(),h=l=u.length,d=r.length,w=r.slice(0,l),g=w.length,p=t,v=p.c=[],m=0,x=i+(p.e=n.e-t.e)+1;for(p.s=o,o=x<0?0:x,y.unshift(0);g++<l;)w.push(0);do{for(c=0;c<10;c++){if(l!=(g=w.length))f=l>g?1:-1;else for(a=-1,f=0;++a<l;)if(u[a]!=w[a]){f=u[a]>w[a]?1:-1;break}if(!(f<0))break;for(s=g==l?u:y;g;){if(w[--g]<s[g]){for(a=g;a&&!w[--a];)w[a]=9;--w[a],w[g]+=10}w[g]-=s[g]}for(;!w[0];)w.shift()}v[m++]=f?c:++c,w[0]&&f?w[g]=r[h]||0:w=[r[h]]}while((h++<d||void 0!==w[0])&&o--);return v[0]||1==m||(v.shift(),p.e--),m>x&&ce(p,i,e.RM,void 0!==w[0]),p},re.eq=function(t){return!this.cmp(t)},re.gt=function(t){return this.cmp(t)>0},re.gte=function(t){return this.cmp(t)>-1},re.lt=function(t){return this.cmp(t)<0},re.lte=function(t){return this.cmp(t)<1},re.minus=re.sub=function(t){var e,n,r,u,o=this.constructor,i=new o(this),l=(t=new o(t),i.s),s=t.s;if(l!=s)return t.s=-s,i.plus(t);var c=i.c.slice(),f=i.e,a=t.c,y=t.e;if(!c[0]||!a[0])return a[0]?(t.s=-s,t):new o(c[0]?i:0);if(l=f-y){for((u=l<0)?(l=-l,r=c):(y=f,r=a),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else for(n=((u=c.length<a.length)?c:a).length,l=s=0;s<n;s++)if(c[s]!=a[s]){u=c[s]<a[s];break}if(u&&(r=c,c=a,a=r,t.s=-t.s),(s=(n=a.length)-(e=c.length))>0)for(;s--;)c[e++]=0;for(s=e;n>l;){if(c[--n]<a[n]){for(e=n;e&&!c[--e];)c[e]=9;--c[e],c[n]+=10}c[n]-=a[n]}for(;0===c[--s];)c.pop();for(;0===c[0];)c.shift(),--y;return c[0]||(t.s=1,c=[y=0]),t.c=c,t.e=y,t},re.mod=function(t){var e,n=this.constructor,r=new n(this),u=(t=new n(t),r.s),o=t.s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=u,t.s=o,e?new n(r):(u=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=u,n.RM=o,this.minus(r.times(t)))},re.plus=re.add=function(t){var e,n=this.constructor,r=new n(this),u=(t=new n(t),r.s),o=t.s;if(u!=o)return t.s=-o,r.minus(t);var i=r.e,l=r.c,s=t.e,c=t.c;if(!l[0]||!c[0])return c[0]?t:new n(l[0]?r:0*u);if(l=l.slice(),u=i-s){for(u>0?(s=i,e=c):(u=-u,e=l),e.reverse();u--;)e.push(0);e.reverse()}for(l.length-c.length<0&&(e=c,c=l,l=e),u=c.length,o=0;u;l[u]%=10)o=(l[--u]=l[u]+c[u]+o)/10|0;for(o&&(l.unshift(o),++s),u=l.length;0===l[--u];)l.pop();return t.c=l,t.e=s,t},re.pow=function(t){var e=this.constructor,n=new e(this),r=new e(1),u=new e(1),o=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(oe+"exponent");for(o&&(t=-t);1&t&&(r=r.times(n)),t>>=1;)n=n.times(n);return o?u.div(r):r},re.round=function(t,e){var n=this.constructor;if(void 0===t)t=0;else if(t!==~~t||t<-1e6||t>1e6)throw Error(ie);return ce(new n(this),t,void 0===e?n.RM:e)},re.sqrt=function(){var t,e,n,r=this.constructor,u=new r(this),o=u.s,i=u.e,l=new r(.5);if(!u.c[0])return new r(u);if(o<0)throw Error(ue+"No square root");0===(o=Math.sqrt(u+""))||o===1/0?((e=u.c.join("")).length+i&1||(e+="0"),i=((i+1)/2|0)-(i<0||1&i),t=new r(((o=Math.sqrt(e))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+i)):t=new r(o),i=t.e+(r.DP+=4);do{n=t,t=l.times(n.plus(u.div(n)))}while(n.c.slice(0,i).join("")!==t.c.slice(0,i).join(""));return ce(t,r.DP-=4,r.RM)},re.times=re.mul=function(t){var e,n=this.constructor,r=new n(this),u=(t=new n(t),r.c),o=t.c,i=u.length,l=o.length,s=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!u[0]||!o[0])return new n(0*t.s);for(t.e=s+c,i<l&&(e=u,u=o,o=e,c=i,i=l,l=c),e=new Array(c=i+l);c--;)e[c]=0;for(s=l;s--;){for(l=0,c=i+s;c>s;)l=e[c]+o[s]*u[c-s-1]+l,e[c--]=l%10,l=l/10|0;e[c]=(e[c]+l)%10}for(l?++t.e:e.shift(),s=e.length;!e[--s];)e.pop();return t.c=e,t},re.toExponential=function(t){return fe(this,1,t,t)},re.toFixed=function(t){return fe(this,2,t,this.e+t)},re.toPrecision=function(t){return fe(this,3,t,t-1)},re.toString=function(){return fe(this)},re.valueOf=re.toJSON=function(){return fe(this,4)};var ae=function t(){function e(n){var r=this;if(!(r instanceof e))return void 0===n?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(t){if((t=ce(t,28,0)).c.length>1&&!t.c[0]){let e=t.c.findIndex(t=>t);t.c=t.c.slice(e),t.e=t.e-e}}(r)):se(r,n),r.constructor=e}return e.prototype=re,e.DP=28,e.RM=1,e.NE=-29,e.PE=29,e.version="5.2.2",e}(),ye=ae;new ye(0),new ye(1),new ye(-1),new ye("79228162514264337593543950335"),new ye("-79228162514264337593543950335");class he{constructor(t){this.iter=t}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function de(t){return"function"==typeof t.GetEnumerator?t.GetEnumerator():new he(t[Symbol.iterator]())}function we(t){return{[Symbol.iterator](){return this},next(){const e=t["System.Collections.IEnumerator.MoveNext"]();return{done:!e,value:e?t["System.Collections.IEnumerator.get_Current"]():void 0}}}}class ge{constructor(t){this.f=t}[Symbol.iterator](){return new ge(this.f)}next(){var t;return this.iter=null!==(t=this.iter)&&void 0!==t?t:this.f(),this.iter.next()}toString(){return"seq ["+Array.from(this).join("; ")+"]"}}function pe(t){return new ge(t)}function ve(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function me(t){return pe(()=>t()[Symbol.iterator]())}function xe(t,e){let n;for(const r=e[Symbol.iterator]();n=r.next(),!n.done;)if(t(n.value))return!0;return!1}function be(t,e){return!xe(e=>!t(e),e)}function Se(t,e,n){if(ve(n))return n.reduce(t,e);{let r;for(let u=0,o=n[Symbol.iterator]();r=o.next(),!r.done;u++)e=t(e,r.value,u);return e}}function Ee(t,e){Se((e,n)=>{t(n)},void 0,e)}function ze(t,e){return me(()=>Pe(e=>{const n=e.next();return n.done?void 0:[t(n.value),e]},e[Symbol.iterator]()))}function Ae(t,e,n){if(0===e)throw new Error("Step cannot be 0");return me(()=>Pe(t=>e>0&&t<=n||e<0&&t>=n?[t,t+e]:void 0,t))}function Pe(t,e){return pe(()=>{let n=e;return{next(){const e=t(n);if(null!=e){const t=ne(e);if(null!=t)return n=t[1],{done:!1,value:t[0]}}return{done:!0,value:void 0}}}})}class Ce{constructor(t,e,n,r,u,o,i){this.fullname=t,this.generics=e,this.construct=n,this.parent=r,this.fields=u,this.cases=o,this.enumCases=i}toString(){return function t(e){const n=null==e.generics||Te(e)?[]:e.generics;return n.length>0?e.fullname+"["+n.map(e=>t(e)).join(",")+"]":e.fullname}(this)}GetHashCode(){return Re(this)}Equals(t){return _e(this,t)}}function ke(t){return null!=t.generics?t.generics:[]}function Re(t){return dt([yt(t.fullname),...ke(t).map(Re)])}function _e(t,e){return""===t.fullname?""===e.fullname&&gt(Me(t),Me(e),([t,e],[n,r])=>t===n&&_e(e,r)):t.fullname===e.fullname&&gt(ke(t),ke(e),_e)}new Ce("System.Object"),new Ce("Microsoft.FSharp.Core.Unit"),new Ce("System.Char"),new Ce("System.String"),new Ce("System.Boolean"),new Ce("System.SByte"),new Ce("System.Byte"),new Ce("System.Int16"),new Ce("System.UInt16"),new Ce("System.Int32"),new Ce("System.UInt32"),new Ce("System.Single"),new Ce("System.Double"),new Ce("System.Decimal");function Te(t){return t.fullname.endsWith("[]")}function Me(t){if(null!=t.fields)return t.fields();throw new Error(t.fullname+" is not an F# record type")}Symbol.toStringTag,Symbol.iterator;Symbol.toStringTag,Symbol.iterator;function Ie(t,e,n){const r=0|t.length,u=0|e.length,o=new(n||Array)(r+u);for(let e=0;e<=r-1;e++)o[e]=t[e];for(let t=0;t<=u-1;t++)o[t+r]=e[t];return o}function De(t,e,n){const r=0|e.length,u=new(n||Array)(r);for(let n=0;n<=r-1;n++)u[n]=t(e[n]);return u}function Oe(t,e){const n=Array.isArray(t)?t:Array.from(t);switch(0|n.length){case 0:return new(e||Array)(0);case 1:return n[0];default:{let t=0,r=0;for(let t=0;t<=n.length-1;t++){r+=n[t].length}const u=new(e||Array)(r);for(let e=0;e<=n.length-1;e++){const r=n[e];for(let e=0;e<=r.length-1;e++)u[t]=r[e],t+=1}return u}}}function Be(){return t=St,{Compare:(e,n)=>t(e,n)};var t}function Ue(){return Be()}class qe{constructor(t,e){this.k=t,this.v=e}}function je(t,e){return new qe(t,e)}function Fe(t){return t.k}function Ne(t){return t.v}class Ge extends qe{constructor(t,e,n,r,u){super(t,e),this.left=n,this.right=r,this.h=u}}function Le(t,e,n,r,u){return new Ge(t,e,n,r,u)}function Ye(t){return t.left}function He(t){return t.right}function Xe(t){return t.h}function Je(t){return function t(e,n){t:for(;;){const r=e,u=n;if(null!=u){const o=u;if(o instanceof Ge){e=t(r+1,Ye(o)),n=He(o);continue t}return r+1|0}return 0|r}}(0,t)}function Ve(t,e,n,r){let u;if(null!=t){const e=t;u=e instanceof Ge?Xe(e):1}else u=0;let o;if(null!=r){const t=r;o=t instanceof Ge?Xe(t):1}else o=0;const i=0|(u<o?o:u);return 0===i?je(e,n):Le(e,n,t,r,i+1)}function Ze(t,e,n,r){let u,o,i,l,s;if(null!=t){const e=t;s=e instanceof Ge?Xe(e):1}else s=0;let c;if(null!=r){const t=r;c=t instanceof Ge?Xe(t):1}else c=0;if(c>s+2){const i=ne(r);if(i instanceof Ge){if(u=Ye(i),(null!=u?(o=u,o instanceof Ge?Xe(o):1):0)>s+1){const r=ne(Ye(i));if(r instanceof Ge)return Ve(Ve(t,e,n,Ye(r)),Fe(r),Ne(r),Ve(He(r),Fe(i),Ne(i),He(i)));throw new Error("internal error: Map.rebalance")}return Ve(Ve(t,e,n,Ye(i)),Fe(i),Ne(i),He(i))}throw new Error("internal error: Map.rebalance")}if(s>c+2){const u=ne(t);if(u instanceof Ge){if(i=He(u),(null!=i?(l=i,l instanceof Ge?Xe(l):1):0)>c+1){const t=ne(He(u));if(t instanceof Ge)return Ve(Ve(Ye(u),Fe(u),Ne(u),Ye(t)),Fe(t),Ne(t),Ve(He(t),e,n,r));throw new Error("internal error: Map.rebalance")}return Ve(Ye(u),Fe(u),Ne(u),Ve(He(u),e,n,r))}throw new Error("internal error: Map.rebalance")}return Ve(t,e,n,r)}function We(t,e,n,r){if(null!=r){const u=r,o=0|t.Compare(e,Fe(u));return u instanceof Ge?o<0?Ze(We(t,e,n,Ye(u)),Fe(u),Ne(u),He(u)):0===o?Le(e,n,Ye(u),He(u),Xe(u)):Ze(Ye(u),Fe(u),Ne(u),We(t,e,n,He(u))):o<0?Le(e,n,void 0,r,2):0===o?je(e,n):Le(e,n,r,void 0,2)}return je(e,n)}function Qe(t,e,n){t:for(;;){const r=t,u=e,o=n;if(null!=o){const i=o,l=0|r.Compare(u,Fe(i));if(0===l)return ee(Ne(i));if(i instanceof Ge){t=r,e=u,n=l<0?Ye(i):He(i);continue t}return}return}}function $e(t,e){!function t(e,n){t:for(;;){const r=e,u=n;if(null!=u){const o=u;if(o instanceof Ge){t(r,Ye(o)),r(Fe(o),Ne(o)),e=r,n=He(o);continue t}r(Fe(o),Ne(o))}break}}(t,e)}function Ke(t,e){let n=void 0;for(let r=0;r<=e.length-1;r++){const u=e[r];n=We(t,u[0],u[1],n)}return n}class tn extends Nt{constructor(t,e){super(),this.stack=t,this.started=e}}function en(t){t:for(;;){const e=t;if(null==e.tail)return new Dt;{const n=e.tail,r=e.head;if(null!=r){const u=r;if(u instanceof Ge){t=new Dt(Ye(u),new Dt(je(Fe(u),Ne(u)),new Dt(He(u),n)));continue t}return e}t=n}}}function nn(t){return new tn(en(new Dt(t,new Dt)),!1)}function rn(t){if(t.started){const e=t.stack;if(null!=e.tail){if(null!=e.head){const t=e.head;if(t instanceof Ge)throw new Error("Please report error: Map iterator, unexpected stack for current");return[Fe(t),Ne(t)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration already finished")}()}return function(){throw new Error("enumeration not started")}()}function un(t){let e=nn(t);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>rn(e),"System.Collections.IEnumerator.get_Current":()=>rn(e),"System.Collections.IEnumerator.MoveNext":()=>function(t){if(t.started){const e=t.stack;if(null!=e.tail){if(null!=e.head){if(e.head instanceof Ge)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return t.stack=en(e.tail),!(null==t.stack.tail)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return!1}return t.started=!0,!(null==t.stack.tail)}(e),"System.Collections.IEnumerator.Reset"(){e=nn(t)},Dispose(){}}}class on{constructor(t,e){this.comparer=t,this.tree=e}GetHashCode(){return 0|function(t){const e=(t,e)=>(t<<1)+e+631;let n=0;const r=de(t);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const t=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=e(n,wt(t[0])),n=e(n,wt(t[1]))}}finally{r.Dispose()}return 0|n}(this)}Equals(t){if(!(t instanceof on))return!1;{const e=de(this);try{const n=de(t);try{const t=()=>{const r=e["System.Collections.IEnumerator.MoveNext"]();if(r===n["System.Collections.IEnumerator.MoveNext"]()){if(r){const r=e["System.Collections.Generic.IEnumerator`1.get_Current"](),u=n["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!vt(r[0],u[0])||!vt(r[1],u[1]))&&t()}return!0}return!1};return t()}finally{n.Dispose()}}finally{e.Dispose()}}}toString(){return"map ["+$t("; ",ze(t=>Qt("({0}, {1})",t[0],t[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}GetEnumerator(){return un(this.tree)}[Symbol.iterator](){return we(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return un(this.tree)}CompareTo(t){const e=this;if(t instanceof on)return 0|function(t,e,n){if(e===n)return 0;let r,u,o=0;for(const i=e[Symbol.iterator](),l=n[Symbol.iterator]();(r=i.next(),u=l.next(),!r.done&&!u.done)&&(o=t(r.value,u.value),0===o););return 0!==o?o:r.done&&!u.done?-1:!r.done&&u.done?1:0}((t,n)=>{const r=0|e.comparer.Compare(t[0],n[0]);return 0|(0!==r?r:St(t[1],n[1]))},e,t);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return!!fn(this,t[0])&&vt(sn(this,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(t,e){!function(t,e,n){let r=0|n;$e((t,n)=>{e[r]=[t,n],r+=1},t)}(this.tree,t,e)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|cn(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|cn(this)}get size(){return 0|cn(this)}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return ze(t=>[t[0],t[1]],this)}get(t){return sn(this,t)}has(t){return fn(this,t)}keys(){return ze(t=>t[0],this)}set(t,e){throw new Error("Map cannot be mutated")}values(){return ze(t=>t[1],this)}forEach(t,e){const n=this;Ee(e=>{t(e[1],e[0],n)},n)}}function ln(t,e){return new on(t,e)}function sn(t,e){return function(t,e,n){const r=Qe(t,e,n);if(null==r)throw new Error;return ne(r)}(t.comparer,e,t.tree)}function cn(t){return Je(t.tree)}function fn(t,e){return function(t,e,n){t:for(;;){const r=t,u=e,o=n;if(null!=o){const i=o,l=0|r.Compare(u,Fe(i));if(i instanceof Ge){if(l<0){t=r,e=u,n=Ye(i);continue t}if(0===l)return!0;t=r,e=u,n=He(i);continue t}return 0===l}return!1}}(t.comparer,e,t.tree)}function an(t,e){return function(t,e){return Qe(t.comparer,e,t.tree)}(e,t)}function yn(t){const e=t=>{if(0!==function(t,e,n){if(null==e)return null==n?0:-1;if(null==n)return 1;{let r=0,u=0;const o=0|e.length,i=0|n.length;if(o>i)return 1;if(o<i)return-1;for(;r<o&&0===u;)u=t(e[r],n[r]),r+=1;return 0|u}}(St,t,null)&&2===t.length){const e=t[1];return[t[0],e]}return["",""]};return an(t,function(t){const e=Ue();return ln(e,Ke(e,t))}(De(t=>e(t.trim().split("=")),document.cookie.split(";"))))}function hn(t){const e=new Gt(0);if(function(t,e){if(null!=t&&/\S/.test(t)){const n=+t.replace("_","");if(!Number.isNaN(n))return e.contents=n,!0}return!1}(t,e))return e.contents;throw new Error("Input string was not in a correct format.")}on.empty=ln(Ue(),void 0);const dn=Et([]),wn=Et([]);function gn(t,e,n){const r=(1-Math.cos(3.141592653589793*n))/2;return t*(1-r)+e*r}function pn(t){let e=t;"#"===e[0]&&(e=e.slice(1,e.length));return[i(e.slice(0,2),511,!1,32,16)/255,i(e.slice(2,4),511,!1,32,16)/255,i(e.slice(4,6),511,!1,32,16)/255]}const vn=document.getElementById("p1x"),mn=document.getElementById("p1c"),xn=document.getElementById("p2x"),bn=document.getElementById("p2c"),Sn=document.getElementById("p3x"),En=document.getElementById("p3c"),zn=document.getElementById("p4x"),An=document.getElementById("p4c"),Pn=document.getElementById("p5x"),Cn=document.getElementById("p5c"),kn=document.getElementById("resetpallette"),Rn=yn("p1x"),_n=yn("p1c"),Tn=yn("p2x"),Mn=yn("p2c"),In=yn("p3x"),Dn=yn("p3c"),On=yn("p4x"),Bn=yn("p4c"),Un=yn("p5x"),qn=yn("p5c");function jn(){const t=pn(mn.value),e=t[0],n=t[1],r=t[2],u=pn(bn.value),o=u[0],i=u[1],l=u[2],s=pn(En.value),c=s[0],f=s[1],a=s[2],y=pn(An.value),h=y[0],d=y[1],w=y[2],g=pn(Cn.value),p=g[0],v=g[1],m=g[2];dn([[hn(vn.value),e,n,r],[hn(xn.value),o,i,l],[hn(Sn.value),c,f,a],[hn(zn.value),h,d,w],[hn(Pn.value),p,v,m],[1,e,n,r]],!0),wn(De(t=>[1250*t[0],150*t[1],150*t[2],150*t[3]],dn()),!0),xn.min=vn.value,xn.max=Sn.value,Sn.min=xn.value,Sn.max=zn.value,zn.min=Sn.value,zn.max=Pn.value,Pn.min=zn.value;const x=vn.value;document.cookie=Vt(Xt("p1x=%s"))(x);const b=mn.value;document.cookie=Vt(Xt("p1c=%s"))(b);const S=xn.value;document.cookie=Vt(Xt("p2x=%s"))(S);const E=bn.value;document.cookie=Vt(Xt("p2c=%s"))(E);const z=Sn.value;document.cookie=Vt(Xt("p3x=%s"))(z);const A=En.value;document.cookie=Vt(Xt("p3c=%s"))(A);const P=zn.value;document.cookie=Vt(Xt("p4x=%s"))(P);const C=An.value;document.cookie=Vt(Xt("p4c=%s"))(C);const k=Pn.value;document.cookie=Vt(Xt("p5x=%s"))(k);const R=Cn.value;document.cookie=Vt(Xt("p5c=%s"))(R)}const Fn=document.getElementById("pallettecanv");Fn.width=1250,Fn.height=150;const Nn=Fn.getContext("2d");function Gn(){Nn.fillStyle="#FFFFFF",Nn.fillRect(0,0,1250,150);const t=function(t){if(t.length<2)return[];{const e=t.length-1|0,n=new Array(e);for(let r=0;r<=e-1;r++)n[r]=[t[r],t[r+1]];return n}}(wn());for(let e=0;e<=t.length-1;e++){const n=t[e],r=n[1][0],u=n[1][1],o=n[1][2],i=n[1][3],l=n[0][0],s=n[0][1],c=n[0][2],f=n[0][3],a=de(Ae(l,1,r));try{for(;a["System.Collections.IEnumerator.MoveNext"]();){const t=a["System.Collections.Generic.IEnumerator`1.get_Current"](),e=(t-l)/(r-l),n=gn(s,u,e),y=gn(c,o,e),h=gn(f,i,e),d=h/150*255,w=y/150*255,g=n/150*255;Nn.fillStyle=Vt(Xt("rgb(%f, %f, %f)"))(g)(w)(d),Nn.fillRect(t,0,1,150),Nn.fillStyle="rgb(255, 0, 0)",Nn.fillRect(t,150-n-1,1,1),Nn.fillStyle="rgb(0, 255, 0)",Nn.fillRect(t,150-y-1,1,1),Nn.fillStyle="rgb(0, 0, 255)",Nn.fillRect(t,150-h-1,1,1)}}finally{a.Dispose()}}for(let t=0;t<=wn().length-1;t++){const e=wn()[t],n=e[0],r=e[1],u=e[2],o=e[3];Nn.fillStyle="rgb(255, 0, 0)",Nn.fillRect(n-3,150-r-3,5,5),Nn.fillStyle="rgb(0, 255, 0)",Nn.fillRect(n-3,150-u-3,5,5),Nn.fillStyle="rgb(0, 0, 255)",Nn.fillRect(n-3,150-o-3,5,5)}}function Ln(t){let e,n=0;for(;t>(e=wn()[n+1][0],e);)n+=1;n===wn().length-1&&(n-=1);const r=wn()[n],u=r[0],o=r[1],i=r[2],l=r[3],s=wn()[n+1],c=s[0],f=s[1],a=s[2],y=s[3],h=(t-u)/(c-u);return[gn(o,f,h)/150*255,gn(i,a,h)/150*255,gn(l,y,h)/150*255]}function Yn(t){let e=[];const n=de(Ae(0,1250/t,1249));try{for(;n["System.Collections.IEnumerator.MoveNext"]();){e=Ie(e,[Ln(n["System.Collections.Generic.IEnumerator`1.get_Current"]())])}}finally{n.Dispose()}return e}function Hn(){jn(),Gn()}function Xn(t,e){const n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),n}function Jn(t,e,n){const r=t.getAttribLocation(e,n);return t.enableVertexAttribArray(r),r}function Vn(t){return hn(t.toPrecision(16))}function Zn(t){const e=Vn(t);return[e,Vn(t-function(t){return hn(t.toPrecision(32))}(e))]}class Wn extends Ot{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["SplitDouble"]}}function Qn(t){const e=Zn(t);return new Wn(0,e[0],e[1])}function $n(t){const e=t.fields[1],n=t.fields[0];return new Float32Array(new Float64Array([n,e]))}class Kn{constructor(t){this.k=t}}function tr(t){return new Kn(t)}function er(t){return t.k}class nr extends Kn{constructor(t,e,n,r){super(t),this.left=e,this.right=n,this.h=r}}function rr(t,e,n,r){return new nr(t,e,n,r)}function ur(t){return t.left}function or(t){return t.right}function ir(t){return t.h}function lr(t){return function t(e,n){t:for(;;){const r=e,u=n;if(null!=r){const o=r;if(o instanceof nr){e=ur(o),n=t(or(o),u+1);continue t}return u+1|0}return 0|u}}(t,0)}function sr(t,e,n){let r;if(null!=t){const e=t;r=e instanceof nr?ir(e):1}else r=0;let u;if(null!=n){const t=n;u=t instanceof nr?ir(t):1}else u=0;const o=0|(r<u?u:r);return 0===o?tr(e):rr(e,t,n,o+1)}function cr(t,e,n){let r,u,o,i,l;if(null!=t){const e=t;l=e instanceof nr?ir(e):1}else l=0;let s;if(null!=n){const t=n;s=t instanceof nr?ir(t):1}else s=0;if(s>l+2){const o=ne(n);if(o instanceof nr){if(r=ur(o),(null!=r?(u=r,u instanceof nr?ir(u):1):0)>l+1){const n=ne(ur(o));if(n instanceof nr)return sr(sr(t,e,ur(n)),er(n),sr(or(n),er(o),or(o)));throw new Error("internal error: Set.rebalance")}return sr(sr(t,e,ur(o)),er(o),or(o))}throw new Error("internal error: Set.rebalance")}if(l>s+2){const r=ne(t);if(r instanceof nr){if(o=or(r),(null!=o?(i=o,i instanceof nr?ir(i):1):0)>s+1){const t=ne(or(r));if(t instanceof nr)return sr(sr(ur(r),er(r),ur(t)),er(t),sr(or(t),e,n));throw new Error("internal error: Set.rebalance")}return sr(ur(r),er(r),sr(or(r),e,n))}throw new Error("internal error: Set.rebalance")}return sr(t,e,n)}function fr(t,e,n){if(null!=n){const r=n,u=0|t.Compare(e,er(r));if(r instanceof nr)return u<0?cr(fr(t,e,ur(r)),er(r),or(r)):0===u?n:cr(ur(r),er(r),fr(t,e,or(r)));{const u=0|t.Compare(e,er(r));return u<0?rr(e,void 0,n,2):0===u?n:rr(e,n,void 0,2)}}return tr(e)}function ar(t,e,n){if(null!=n){const r=n,u=0|t.Compare(e,er(r));if(r instanceof nr){if(u<0)return cr(ar(t,e,ur(r)),er(r),or(r));if(0===u){if(null==ur(r))return or(r);if(null==or(r))return ur(r);{const t=function t(e){if(null!=e){const n=e;if(n instanceof nr){if(null==ur(n))return[er(n),or(n)];{const e=t(ur(n));return[e[0],sr(e[1],er(n),or(n))]}}return[er(n),void 0]}throw new Error("internal error: Set.spliceOutSuccessor")}(or(r));return sr(ur(r),t[0],t[1])}}return cr(ur(r),er(r),ar(t,e,or(r)))}return 0===u?void 0:n}return n}function yr(t,e,n){t:for(;;){const r=t,u=e,o=n;if(null!=o){const i=o,l=0|r.Compare(u,er(i));if(i instanceof nr){if(l<0){t=r,e=u,n=ur(i);continue t}if(0===l)return!0;t=r,e=u,n=or(i);continue t}return 0===l}return!1}}function hr(t,e){t:for(;;){const n=t,r=e;if(null!=r){const u=r;if(u instanceof nr){hr(n,ur(u)),n(er(u)),t=n,e=or(u);continue t}n(er(u))}break}}class dr extends Nt{constructor(t,e){super(),this.stack=t,this.started=e}}function wr(t){t:for(;;){const e=t;if(null==e.tail)return new Dt;{const n=e.head,r=e.tail;if(null!=n){const u=n;if(u instanceof nr){t=new Dt(ur(u),new Dt(tr(er(u)),new Dt(or(u),r)));continue t}return e}t=r}}}function gr(t){return new dr(wr(new Dt(t,new Dt)),!1)}function pr(t){if(t.started){const e=t.stack;if(null==e.tail)return function(){throw new Error("Enumeration already started")}();if(null!=e.head){return er(e.head)}throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}function vr(t){let e=gr(t);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>pr(e),"System.Collections.IEnumerator.get_Current":()=>pr(e),"System.Collections.IEnumerator.MoveNext":()=>function(t){if(t.started){const e=t.stack;if(null!=e.tail){if(null!=e.head){if(e.head instanceof nr)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return t.stack=wr(e.tail),!(null==t.stack.tail)}throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return!1}return t.started=!0,!(null==t.stack.tail)}(e),"System.Collections.IEnumerator.Reset"(){e=gr(t)},Dispose(){}}}function mr(t,e,n){return null==e?null==n?0:-1:null==n?1:0|function(t,e,n){t:for(;;){const r=t,u=e,o=n,i=[u,o];if(null==i[0].tail)return null==i[1].tail?0:-1;if(null==i[1].tail)return 1;if(null!=i[1].head)if(null!=i[0].head){const l=i[0].head,s=i[1].head;if(l instanceof nr)if(null==ur(l)){if(!(s instanceof nr)){const u=0|r.Compare(er(l),er(s));if(0!==u)return 0|u;t=r,e=new Dt(or(l),i[0].tail),n=new Dt(void 0,i[1].tail);continue t}if(null==ur(s)){const u=0|r.Compare(er(l),er(s));if(0!==u)return 0|u;t=r,e=new Dt(or(l),i[0].tail),n=new Dt(or(s),i[1].tail);continue t}{const i=[u,o];let l,s,c,f,a;switch(null!=i[0].tail&&null!=i[0].head?(l=0,s=i[0].tail,c=i[0].head):null!=i[1].tail&&null!=i[1].head?(l=1,f=i[1].tail,a=i[1].head):l=2,l){case 0:if(c instanceof nr){t=r,e=new Dt(ur(c),new Dt(rr(er(c),void 0,or(c),0),s)),n=o;continue t}t=r,e=new Dt(void 0,new Dt(tr(er(c)),s)),n=o;continue t;case 1:if(a instanceof nr){t=r,e=u,n=new Dt(ur(a),new Dt(rr(er(a),void 0,or(a),0),f));continue t}t=r,e=u,n=new Dt(void 0,new Dt(tr(er(a)),f));continue t;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const i=[u,o];let l,s,c,f,a;switch(null!=i[0].tail&&null!=i[0].head?(l=0,s=i[0].tail,c=i[0].head):null!=i[1].tail&&null!=i[1].head?(l=1,f=i[1].tail,a=i[1].head):l=2,l){case 0:if(c instanceof nr){t=r,e=new Dt(ur(c),new Dt(rr(er(c),void 0,or(c),0),s)),n=o;continue t}t=r,e=new Dt(void 0,new Dt(tr(er(c)),s)),n=o;continue t;case 1:if(a instanceof nr){t=r,e=u,n=new Dt(ur(a),new Dt(rr(er(a),void 0,or(a),0),f));continue t}t=r,e=u,n=new Dt(void 0,new Dt(tr(er(a)),f));continue t;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(!(s instanceof nr)){const u=0|r.Compare(er(l),er(s));if(0!==u)return 0|u;t=r,e=i[0].tail,n=i[1].tail;continue t}if(null==ur(s)){const u=0|r.Compare(er(l),er(s));if(0!==u)return 0|u;t=r,e=new Dt(void 0,i[0].tail),n=new Dt(or(s),i[1].tail);continue t}{const i=[u,o];let l,s,c,f,a;switch(null!=i[0].tail&&null!=i[0].head?(l=0,s=i[0].tail,c=i[0].head):null!=i[1].tail&&null!=i[1].head?(l=1,f=i[1].tail,a=i[1].head):l=2,l){case 0:if(c instanceof nr){t=r,e=new Dt(ur(c),new Dt(rr(er(c),void 0,or(c),0),s)),n=o;continue t}t=r,e=new Dt(void 0,new Dt(tr(er(c)),s)),n=o;continue t;case 1:if(a instanceof nr){t=r,e=u,n=new Dt(ur(a),new Dt(rr(er(a),void 0,or(a),0),f));continue t}t=r,e=u,n=new Dt(void 0,new Dt(tr(er(a)),f));continue t;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}}else{i[1].head;const l=[u,o];let s,c,f,a,y;switch(null!=l[0].tail&&null!=l[0].head?(s=0,c=l[0].tail,f=l[0].head):null!=l[1].tail&&null!=l[1].head?(s=1,a=l[1].tail,y=l[1].head):s=2,s){case 0:if(f instanceof nr){t=r,e=new Dt(ur(f),new Dt(rr(er(f),void 0,or(f),0),c)),n=o;continue t}t=r,e=new Dt(void 0,new Dt(tr(er(f)),c)),n=o;continue t;case 1:if(y instanceof nr){t=r,e=u,n=new Dt(ur(y),new Dt(rr(er(y),void 0,or(y),0),a));continue t}t=r,e=u,n=new Dt(void 0,new Dt(tr(er(y)),a));continue t;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(null==i[0].head){t=r,e=i[0].tail,n=i[1].tail;continue t}{i[0].head;const l=[u,o];let s,c,f,a,y;switch(null!=l[0].tail&&null!=l[0].head?(s=0,c=l[0].tail,f=l[0].head):null!=l[1].tail&&null!=l[1].head?(s=1,a=l[1].tail,y=l[1].head):s=2,s){case 0:if(f instanceof nr){t=r,e=new Dt(ur(f),new Dt(rr(er(f),void 0,or(f),0),c)),n=o;continue t}t=r,e=new Dt(void 0,new Dt(tr(er(f)),c)),n=o;continue t;case 1:if(y instanceof nr){t=r,e=u,n=new Dt(ur(y),new Dt(rr(er(y),void 0,or(y),0),a));continue t}t=r,e=u,n=new Dt(void 0,new Dt(tr(er(y)),a));continue t;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}break}}(t,new Dt(e,new Dt),new Dt(n,new Dt))}function xr(t,e,n){let r=0|n;hr(t=>{e[r]=t,r+=1},t)}class br{constructor(t,e){this.comparer=t,this.tree=e}GetHashCode(){return 0|function(t){let e=0;const n=de(t);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const t=n["System.Collections.Generic.IEnumerator`1.get_Current"]();e=(e<<1)+wt(t)+631}}finally{n.Dispose()}return 0|Math.abs(e)}(this)}Equals(t){return t instanceof br&&0===mr(Er(this),zr(this),zr(t))}toString(){return"set ["+$t("; ",ze(t=>Mt(t),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}CompareTo(t){return 0|mr(Er(this),zr(this),zr(t))}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return yr(Er(this),t,zr(this))}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(t,e){xr(zr(this),t,e)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|kr(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|kr(this)}GetEnumerator(){return vr(zr(this))}[Symbol.iterator](){return we(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return vr(zr(this))}get size(){return 0|kr(this)}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return Rr(this,t)}keys(){return ze(t=>t,this)}values(){return ze(t=>t,this)}entries(){return ze(t=>[t,t],this)}forEach(t,e){const n=this;Ee(e=>{t(e,e,n)},n)}}function Sr(t,e){return new br(t,e)}function Er(t){return t.comparer}function zr(t){return t.tree}function Ar(t){return Sr(t,void 0)}function Pr(t,e){return Sr(Er(t),fr(Er(t),e,zr(t)))}function Cr(t,e){return Sr(Er(t),ar(Er(t),e,zr(t)))}function kr(t){return lr(zr(t))}function Rr(t,e){return yr(Er(t),e,zr(t))}var _r=n(0);const Tr=function(){const t=function(t){const e=[];let n=0,r=0;for(let u=0;u<t.length;++u){const o=255^t[u];r+=(127&o)<<7*n,n++,0!=(128&o)&&(e.push(r-1),n=r=0)}return e}(_r.a().getBytes("~~^a}i{g}i{h}l}i}e}i}m}i|qti|e{i|udh}i}l}f}n}f}ydh}e}l}e}~]a}i}gzd}i}f}d}w}j}e}}}d}f}d}e}o|f}y}i|f}o}w}k}o{i}uge}uwyfe}yvu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u|y}u}y}u}y{u|y}u}y}u|y}u{y|uzy}u|y}u{y{u|y}u|y}u}y}u}y}u|y}u}y|u}y}u|y}u{y}u}y}u|y|w}u}y{wzu}v}y}u}v}y}u}v}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}v}y}u}y}u{y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}ywu|y}u|y|u}y}uzy}u}y}u}y}u}y}u}y9w}ycxlfzxrfpxyfwx}f}x}fmru}y}u}y}x}f}u}y}||x}y{i}u}|zf|u}i}u{|}u}|}u|y}um|}uuy[u}y|u{y{u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}yyu}y}e}u}y}u|y|uKyNu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}d}rys|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u|y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}|}uX||x}ix|}yW|}i}m}||d|g}|}rQm}r}i}r|i}r|i}r}|vwc|yw{i||s}xe{i|g}i|d|rsi}}}|}i|w^x}wtriqtizw|r}wi}w}rw}}d}rxx|r|d}rzw|qtw{d|w}ip|}}}w}r}w`rc||w%rsw}|pqtw]rux|d}i{x}|ywhrzx}rux}r{x}ry||io|}wer{||i}|=wi|}wv|hrp}}r^t}wHr}t}r}w}t{rvtzr}t|w}rwwtr|i|qti}x}wor}t||}wv||w|||wh|}ww|}w}|{wz||r}w}t{rz||t|||t|r}w}|vt}|zw||}w{r|||qtw|g|oxd}g}|yr|t}|}wx|zw|||wh|}ww|}w||}w||}w|||r}|}t{r||zr|||r{|{r}|wwz|}w}|wqtr|w{r}|sr|t}|}wu|}w{|}wh|}ww|}w||}wy||r}w}t{ry|}r|t}|}t|r}||w}|ow|r|||qti}g}|ww}|wr}t||}wv||w|||wh|}ww|}w||}wy||r}w}t}r}t}rz||t|||t|r}|vr}t}|zw||}w{r|||qtd}w}ox|tr}w}|}wx|{w{|}wz|{w||}w}|}w||{w||{w{|{wr|zt|r}t||{t{|}t{r}||w}|xt}|pqto{dxg}d}|yr}t{|}wv|}w{|}wg|}wn|{w}r{tz|}r{|}rz|wr||}w{|yw|r|||qt|vowd}w}r}t||}wv|}w{|}wg|}wt|}wy||r}w}t}r}ty|}r}t||}t|r||wt||ww}|}w|r|||qt|}w||pr}t||}wv|}w{|}wU||w}t{rz|}t{|}t{r}w}d}|zw{t}oww{r|||qtoud}wx||t||}wl|{wf|}wu|}w}||ww|{r}|zt{r{|}r}|}tv|xqt||t|i}|rwNr}w|rw|zg}wxx}rvi}qti||Yw||}w}||w||}w}||w}|xwz|}ww|}w{|}w}|}w}||w||}wzr}w|rx|}r|w}||wy|}x}|}rx||qt||wz|^w}d{iod}i}d{r|dxqtotd}r}d}r}d}r}h}l}h}l}t|wv|}wZ|zrpt}ryi}r|wyrs|}rZ|}dvr}dx|}d|iydzi||YwSt|rzt}rxt}r|t|r|w}qtixwxt|r|wzr{w}t{w|tww{rzwqr}t|r|txr}w}t}qtt{r}d|uX|}u}|yu}||wSi}x}w}|}wz||ww|}w}|}wz||wU|}wz||w]|}wz||ww|}w}|}wz||wo|}wE|}wz||w;||r{iuoj|{wndt|xu(||yx||m}w{i|wma}wdh}l}|{w3i{p{wv|wwq|}wzr{|swlr{i||uwlr||rwq|}w{|}r||rwJr|t}rwtvr}t|rsi{x}i{g}w}r}||qt|xot|xixm}izr{}}|}qt|xw[x}wJ|vwyr|w\\r}w}|yw8|tw_|}r{tzr|t{|zt|r}txr{|zd}|{i|qtw`||wy|swR|zwd|xqto}|{d\\wgr|t|r}||i|wIt}r}t}rw|}r}t}r}t|rvtxrt||r}qt|xqt|xiwx}ix||rps}|=rzt}wOr}t}ryt}r}tyr}t|ww|zqtiwdtrudu|{r|t}w`t}rzt|r|t}r{w|qtwRr}t}r|t{r}t}r{t||vizwZtvrvt|r||{iyqt|{w{qtw`xxi|yu|Giv|vr{i}rqt}rwwzr}wzt|r}w||}r||xyRx?yqx}y\\xYrH|yryu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}yuu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}yuuvyx||ux||yvuvyvuvyx||ux||yv|}u}|}u}|}u}|}u}yvuvyp||yvvvyvvvyvvvyy|}y|uzv}f}y}f{y{|}y|uzv}f{yz||y|uz|}f{yvuyf{||y{|}y|uzv}f||}as}ymxi|j}k}h}j|k}h}j}ivc}b}}ya}iuj}k}izn|i{e}h}l}ise}i}n}ita}}y|}}to}x}||oxe{h}l}x}ote{h}l}|}xq|{g_|mrqszr}s{rr|od|u}dzu}d|y}u{y|u{y}d}u}d|e}uydxu}d}u}d}u}d}uzd}y}uzy}wzy}d|y|u|eyu}yzd}e}d|y}d}onp[u}y}pzo}d||zeydye|dze}d|e}d|e}dwe}d_e|d|e}d}e}d_e}dvh}l}h}l}dje|dwh}l}d-e}d`eedVexda|}dW|eds|ioBd0ohd~e}due}dHevde}d~h}l}h}l}h}l}h}l}h}l}h}l}h}l}o`dReyh}l}e_h}l}h}l}h}l}h}l}h}l}end}e~h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}e?h}l}h}l}e^h}l}e}dNeid|exdW||d^||d\\|{dr|}dv|ddz|nuO|}yO|}u}y}u{y|u}y}u}y}u}y}uzy}u}y|u}yxx|u{y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|dxu}y}u}y}r{u}y}|yizo}i|yX|}y}|yy}||wF|wx}i}|pr}wg|uww|}ww|}ww|}ww|}ww|}ww|}ww|}ww|}r^i|j}k}j}k}i{j}k}i}j}k}ium}i|m}i}j}k}i|j}k}h}l}h}l}h}l}h}l}iyx}itm|izm}i}h}i||Cdd|}d%|rd~|ddr|za}i{d}x}w}p}h}l}h}l}h}l}h}l}h}l}d|h}l}h}l}h}l}h}l}m}h}l|d}purzt|m}xyd|p{x}w}i}d||}w(||r|f|x|w}m}w$i}x{w}|ywU|{w |}d|ozdtwc|ydZ|rwnd_|}otd`ovd}ood^otdWood?|}d}wL|td>w~|Twix}ww|{dG|uwVxxi|w}x}i{wnqtw||ju}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}w}r}s{i}rti}x}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}x|r|w8ptr|ix|vfgxuf|u}y}u}y}u}y}u}y}u}y}u}y}u}y{u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}x}yvu}y}u}y}u|y}u}y}u}y}u}y}u}y}x}f|u}y}u}y}w}u}y}u}y{u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}uy|}uyy}u}y}|?w}x|y}wwr}w{r}wzr}wgt|r|t}dz|zoxd|g}d}|xwJiz|vt|wLtnr||vi|qt|xrlwxi{w}i}w}||qtwbrvi|wgrst||si}wa|{r{t}wOr}t|rzt|r}tziq|}x}qt|zi|wyr}x}wuqtwy|}wUrxt|r|t|r||uw{r}wvr}t}||qt||izwnx}wxd{w}t}r}t}wLr}w}r{w|r|wyr|w}r}w}|fw|x}i|wst}r|t|i|w}x|t}r}|twx||wx||wx|uww|}ww|}ySf}xzyx|ty.w[t|r}t|r}t|i}t}r}||qt|xw(|rwg|zwM|zzo{Mw}||w|Xyw|ryy|yw}r}wte}wq|}wy|}w}|}w||}w||}wfn|mw}l}h}|nw>||wH|Vwrg}d}||rniwh}l}i}|xrni}m|n|h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}i|h}l}izn{i{|}izm}h}l}h}l}h}l}i{e}m}e{|}i}g}i||zwy|}w~||}}|}i{g}i{h}l}i}e}i}m}i|qti|e{i|udh}i}l}f}n}f}ydh}e}l}e}h}l}i}h}l}i|wtx}wQx|w_|{wx||wx||wx||w{|{g|e}f}d}g||}d}ezd||t}{d|||wr|}wd|}wk|}w||}wo||wp|\\w|yi{|zoQ|{dupIozdmo|d{|}dr|zd}|OdQr}|~wa|{wM|or}oc|zw^oz|rwmp}wvp}|ywXry|yw`|}i}wZ|zwvi}py|TuVyVw0||qt|xuZ|zyZ|zwV|vwJ|si}|~w}|uwh|twv|~wx||w}|}wR|}w||{w}||wg|}i}ovwgd|oww_|vou|Nwk|}w||yoywhox|{i}wd|yi}|>wF|zo|w|on||oPw}r{|}r||yrzwz|}w{|}wc|zr{|zr}ov|viu|wwao|i}wao{|^wvd}wbr||zoyiw|uwH|{iwwh||ovwk|yovwl|wiz|row|.w5|GuK|qyK|wox|}o_||t}r}t}wIroiw|zojqt|or{t}wQt{rzt|r|i|}}iz|pwe|wqt|xr{wZryt}rv|}qtiz|rw[r}i|w}|ur|t}wNt{rut|wziyr{i}||qtw}i}w}i{|}oj|swl|}wet{r{t|r}t}r|ixr}|=ww|}w}|}wz|}wo|}wti}|xwOr}t{rv|yqt|xr|t||}wv||w|||wh|}ww|}w||}wy||r}w}t|r}tz||t|||t{||w}|xt}|ywyt|||rw|{ry|~wIt{rvt|r{t}r}wziyqt|}i}|}i}|\\wNt{rxt}r}tzr|t}r|w|i}w}|vqt|~wOt{rz||tzr|t}r|igwzr||\\wNt{rvt|r}t}r|i{w}|sqt|xiq|kwSr}t}r}t|rxt}r}|vqt|Hwd|{r{t|rzt}ry|zqto|i{d}|}u^y^qtou|rw}||wE|}wu|}wYt}rw|}rxt}r}w}iy|tqtok|{i|w`||rh|}t}rwt}r|t}r||ywx|p|}iy|sw~|jww|`w{|<w{|ww_|}qt|zi||w`||ryi}|twNrwiydzxzi}d}|tqt|}ow|}wi|ywk|yw9|sw}tP|nrzxq|>x}|_wP|kwz|5w||hw|ywq|{wu|wwt||d}r|i}}z|Yd~|tdW||dBt|r{d{tx}vrvd|rwd`rzdC|gd<r{d}|~d'|uol|~udydudyw|}yludydu}|}u|||u}||u|||uz|}uvyz|}y}|}yw|}ysudydu||}uz||uv|}uw|}ydu||}uz|}uy|}u}|{uw|}ydudydudydudydudydudydudyb||uee}yee}yxuee}yee}yxuee}yee}yxuee}yee}yxuee}yee}yxu}y}||qLd{rGdzrLdvr}dpr}d|iy|ory|}ro|urw|}rm||rw|}r||}ry|pw~||ourw|Uu\\y\\rw|yqt|zi||vwz|}wc|}w||}w}||w}|}wt|}wz|}w}|}w}|xw}|zw}|}w}|}w}|}w{|}w||}w}||w}|}w}|}w}|}w}|}w}|}w||}w}||wz|}ww|}wz|}wz|}w}|}wt|}wm|yw{|}wy|}wm|Je||}dR|zd|rdo||do|}do|}dY|toq|{d_|}dB|zdA|Eda|qdR|zdu|wd||~d~fydz|qdq|{dw|ud\n|rd)|Sdr|zdF|vdt|xdV|vd`|do|}dv|vd}||dr|}dr|zdo|]dl|Pd}|sw}|Uw_|sw~||wR|-w{|S}}|`}|~r~||{|||{||")),e=new Uint32Array(t.length/2),n=new Uint8Array(t.length/2),r=new Uint8Array([14,15,29,17,16,1,3,4,2,0,6,7,5,8,9,10,18,19,21,23,22,24,20,26,27,25,28,12,13,11]);let u=0;for(let r=0;r<t.length;r+=2)e[r/2]=u+=t[r],n[r/2]=t[r+1];return t=>{let u=e.length,o=0;for(;u-o>1;){const n=Math.floor((u+o)/2),r=e[n];if(t<r)u=n;else{if(t===r){u=o=n;break}r<t&&(o=n)}}return r[n[o]]}}();function Mr(t,e){if(e>=0&&e<t.length)return t.charCodeAt(e);throw new Error("Index out of range.")}const Ir=t=>function(t,e){return 0!=(1<<Dr(t,e)&256)}(t,0);function Dr(t,e){const n=Mr(t,e);return Tr(n)}const Or=1280,Br=720,Ur=[[0,.8],[.37,.1],[.355,.355],[-.54,.54],[-.4,-.59],[.34,-.05],[-.687,.312],[-.673,.312],[-.75,-.15],[.355534,.337292]];function qr(t){return document.querySelector(Vt(Xt("#%s"))(t))}const jr=qr("pallettemaker"),Fr=qr("settingsmandelbox"),Nr=qr("settingsjulia");function Gr(t){return document.querySelector(Vt(Xt("#%s"))(t))}const Lr=Gr("zoom"),Yr=Gr("x"),Hr=Gr("y"),Xr=Gr("palletteoffset"),Jr=Gr("fractal"),Vr=Gr("mandelbrot"),Zr=Gr("mandelbox"),Wr=Gr("mandelboxscale"),Qr=Gr("julia"),$r=Gr("juliax"),Kr=Gr("juliay"),tu=Gr("usedoub"),eu=document.querySelector("#juliapresets");function nu(t){return document.querySelector(Vt(Xt("#%s"))(t))}const ru=nu("fullscreen"),uu=nu("pallettebutton"),ou=nu("centre"),iu=nu("reset"),lu=nu("saveimage"),su=yn("x"),cu=yn("y"),fu=yn("zoom"),au=yn("palletteoffset"),yu=yn("generator"),hu=yn("mandelboxscale"),du=yn("jx"),wu=yn("jy"),gu=yn("usedoub");function pu(){if([su,cu,fu,au,yu,hu,du,wu,gu,Rn,_n,Tn,Mn,In,Dn,On,Bn,Un,qn].every(t=>!(null==t)))try{Yr.value=ne(su),Hr.value=ne(cu),Lr.value=ne(fu),Xr.value=ne(au);switch(ne(yu)){case"1":Vr.checked=!0;break;case"2":Qr.checked=!0,Nr.hidden=!1;break;case"3":Zr.checked=!0,Fr.hidden=!1}Wr.value=ne(hu),$r.value=ne(du),Kr.value=ne(wu),tu.checked="true"===ne(wu),vn.value=ne(Rn),mn.value=ne(_n),xn.value=ne(Tn),bn.value=ne(Mn),Sn.value=ne(In),En.value=ne(Dn),zn.value=ne(On),An.value=ne(Bn),Pn.value=ne(Un),Cn.value=ne(qn)}catch(t){}}pu();const vu=Et(hn(Lr.value)),mu=Et(hn(Yr.value)),xu=Et(hn(Hr.value)),bu=Et(hn(Xr.value)),Su=Et(Vr.checked?1:Qr.checked?2:Zr.checked?3:-1),Eu=Et(hn(Wr.value)),zu=Et(hn($r.value)),Au=Et(hn(Kr.value)),Pu=Et(tu.checked),Cu=document.querySelector("#canv");Cu.width=Or,Cu.height=Br;const ku=Cu.getContext("webgl");var Ru;(Ru=ku).clearColor(0,0,0,0),Ru.clearDepth(1),Ru.enable(Ru.DEPTH_TEST),Ru.depthFunc(Ru.LEQUAL),Ru.clear(Ru.COLOR_BUFFER_BIT),Ru.clear(Ru.DEPTH_BUFFER_BIT);const _u=function(t,e,n){let r,u;const o=t.createShader(t.VERTEX_SHADER);t.shaderSource(o,e),t.compileShader(o),""!==t.getShaderInfoLog(o)&&(window.alert(ee((r=t.getShaderInfoLog(o),Vt(Xt("VERTEX SHADER LOG: %s"))(r)))),console.error(ee("VERTEX SHADER LOG:"),t.getShaderInfoLog(o)));const i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,n),t.compileShader(i),""!==t.getShaderInfoLog(i)&&(window.alert(ee((u=t.getShaderInfoLog(i),Vt(Xt("FRAGMENT SHADER LOG: %s"))(u)))),console.error(ee("FRAGMENT SHADER LOG:"),t.getShaderInfoLog(i)));const l=t.createProgram();return t.attachShader(l,o),t.attachShader(l,i),t.linkProgram(l),l}(ku,"\r\n    precision highp float;\r\n    precision highp int;\r\n\r\n    attribute vec4 aVertexPosition;\r\n    attribute vec2 aTextureCoord;\r\n    varying vec2 vTextureCoord;\r\n    void main() {\r\n        gl_Position = aVertexPosition;\r\n        vTextureCoord = aTextureCoord;\r\n    }\r\n    ","\r\n    precision highp float;\r\n    precision highp int;\r\n    \r\n    varying vec2 vTextureCoord;\r\n    uniform float uZoom;\r\n    uniform float xc;\r\n    uniform float yc;\r\n    uniform float uPalletteOffset;\r\n    uniform float uRatio;\r\n    uniform float uGenerator;\r\n    uniform float uMandelboxScale;\r\n    uniform float uJuliaX;\r\n    uniform float uJuliaY;\r\n\r\n    uniform int uUseDoub;\r\n    uniform vec2 uZoomDoub;\r\n    uniform vec2 xcDoub;\r\n    uniform vec2 ycDoub;\r\n\r\n    uniform vec3 uPallette[76];\r\n\r\n    const float MAX = 1000.;\r\n\r\n    vec3 getPallette(int index) {\r\n        if (index == 0) { return uPallette[0] / 255.0; }\r\n        else if (index == 1) { return uPallette[1] / 255.0; }\r\n        else if (index == 2) { return uPallette[2] / 255.0; }\r\n        else if (index == 3) { return uPallette[3] / 255.0; }\r\n        else if (index == 4) { return uPallette[4] / 255.0; }\r\n        else if (index == 5) { return uPallette[5] / 255.0; }\r\n        else if (index == 6) { return uPallette[6] / 255.0; }\r\n        else if (index == 7) { return uPallette[7] / 255.0; }\r\n        else if (index == 8) { return uPallette[8] / 255.0; }\r\n        else if (index == 9) { return uPallette[9] / 255.0; }\r\n        else if (index == 10) { return uPallette[10] / 255.0; }\r\n        else if (index == 11) { return uPallette[11] / 255.0; }\r\n        else if (index == 12) { return uPallette[12] / 255.0; }\r\n        else if (index == 13) { return uPallette[13] / 255.0; }\r\n        else if (index == 14) { return uPallette[14] / 255.0; }\r\n        else if (index == 15) { return uPallette[15] / 255.0; }\r\n        else if (index == 16) { return uPallette[16] / 255.0; }\r\n        else if (index == 17) { return uPallette[17] / 255.0; }\r\n        else if (index == 18) { return uPallette[18] / 255.0; }\r\n        else if (index == 19) { return uPallette[19] / 255.0; }\r\n        else if (index == 20) { return uPallette[20] / 255.0; }\r\n        else if (index == 21) { return uPallette[21] / 255.0; }\r\n        else if (index == 22) { return uPallette[22] / 255.0; }\r\n        else if (index == 23) { return uPallette[23] / 255.0; }\r\n        else if (index == 24) { return uPallette[24] / 255.0; }\r\n        else if (index == 25) { return uPallette[25] / 255.0; }\r\n        else if (index == 26) { return uPallette[26] / 255.0; }\r\n        else if (index == 27) { return uPallette[27] / 255.0; }\r\n        else if (index == 28) { return uPallette[28] / 255.0; }\r\n        else if (index == 29) { return uPallette[29] / 255.0; }\r\n        else if (index == 30) { return uPallette[30] / 255.0; }\r\n        else if (index == 31) { return uPallette[31] / 255.0; }\r\n        else if (index == 32) { return uPallette[32] / 255.0; }\r\n        else if (index == 33) { return uPallette[33] / 255.0; }\r\n        else if (index == 34) { return uPallette[34] / 255.0; }\r\n        else if (index == 35) { return uPallette[35] / 255.0; }\r\n        else if (index == 36) { return uPallette[36] / 255.0; }\r\n        else if (index == 37) { return uPallette[37] / 255.0; }\r\n        else if (index == 38) { return uPallette[38] / 255.0; }\r\n        else if (index == 39) { return uPallette[39] / 255.0; }\r\n        else if (index == 40) { return uPallette[40] / 255.0; }\r\n        else if (index == 41) { return uPallette[41] / 255.0; }\r\n        else if (index == 42) { return uPallette[42] / 255.0; }\r\n        else if (index == 43) { return uPallette[43] / 255.0; }\r\n        else if (index == 44) { return uPallette[44] / 255.0; }\r\n        else if (index == 45) { return uPallette[45] / 255.0; }\r\n        else if (index == 46) { return uPallette[46] / 255.0; }\r\n        else if (index == 47) { return uPallette[47] / 255.0; }\r\n        else if (index == 48) { return uPallette[48] / 255.0; }\r\n        else if (index == 49) { return uPallette[49] / 255.0; }\r\n        else if (index == 50) { return uPallette[50] / 255.0; }\r\n        else if (index == 51) { return uPallette[51] / 255.0; }\r\n        else if (index == 52) { return uPallette[52] / 255.0; }\r\n        else if (index == 53) { return uPallette[53] / 255.0; }\r\n        else if (index == 54) { return uPallette[54] / 255.0; }\r\n        else if (index == 55) { return uPallette[55] / 255.0; }\r\n        else if (index == 56) { return uPallette[56] / 255.0; }\r\n        else if (index == 57) { return uPallette[57] / 255.0; }\r\n        else if (index == 58) { return uPallette[58] / 255.0; }\r\n        else if (index == 59) { return uPallette[59] / 255.0; }\r\n        else if (index == 60) { return uPallette[60] / 255.0; }\r\n        else if (index == 61) { return uPallette[61] / 255.0; }\r\n        else if (index == 62) { return uPallette[62] / 255.0; }\r\n        else if (index == 63) { return uPallette[63] / 255.0; }\r\n        else if (index == 64) { return uPallette[64] / 255.0; }\r\n        else if (index == 65) { return uPallette[65] / 255.0; }\r\n        else if (index == 66) { return uPallette[66] / 255.0; }\r\n        else if (index == 67) { return uPallette[67] / 255.0; }\r\n        else if (index == 68) { return uPallette[68] / 255.0; }\r\n        else if (index == 69) { return uPallette[69] / 255.0; }\r\n        else if (index == 70) { return uPallette[70] / 255.0; }\r\n        else if (index == 71) { return uPallette[71] / 255.0; }\r\n        else if (index == 72) { return uPallette[72] / 255.0; }\r\n        else if (index == 73) { return uPallette[73] / 255.0; }\r\n        else if (index == 74) { return uPallette[74] / 255.0; }\r\n        else if (index == 75) { return uPallette[75] / 255.0; }\r\n    }\r\n\r\n    vec3 getPalletteSmall(int index) {\r\n        if (index == 0) { return vec3(0.01253, 0.08452, 0.51573); }\r\n        else if (index == 1) { return vec3(0.06352, 0.26197, 0.69032); }\r\n        else if (index == 2) { return vec3(0.13598, 0.43791, 0.80556); }\r\n        else if (index == 3) { return vec3(0.30453, 0.60977, 0.87876); }\r\n        else if (index == 4) { return vec3(0.55496, 0.79061, 0.94006); }\r\n        else if (index == 5) { return vec3(0.79353, 0.93555, 0.98271); }\r\n        else if (index == 6) { return vec3(0.92651, 0.99970, 0.99992); }\r\n        else if (index == 7) { return vec3(0.95905, 0.96668, 0.83293); }\r\n        else if (index == 8) { return vec3(0.98314, 0.87426, 0.44273); }\r\n        else if (index == 9) { return vec3(0.99720, 0.75086, 0.08820); }\r\n        else if (index == 10) { return vec3(0.97248, 0.61366, 0.00000); }\r\n        else if (index == 11) { return vec3(0.66576, 0.38345, 0.00000); }\r\n        else if (index == 12) { return vec3(0.24680, 0.13969, 0.00000); }\r\n        else if (index == 13) { return vec3(0.00368, 0.00974, 0.00000); }\r\n        else if (index == 14) { return vec3(0.00000, 0.01095, 0.09399); }\r\n        else if (index == 15) { return vec3(0.00000, 0.02126, 0.31171); }\r\n    }\r\n\r\n    vec3 linearInterpolate(vec3 v1, vec3 v2, float f) {\r\n        return v1 * (1.0 - f) + v2 * f;\r\n    }\r\n\r\n    vec3 cosineInterpolate(vec3 v1, vec3 v2, float f) {\r\n        float f2 = (1.0 - cos(f * 3.15159)) / 2.0;\r\n        return v1 * (1.0 - f2) + v2 * f2;\r\n    }\r\n\r\n    vec2 doubOfFloat(float upper) {\r\n        return vec2(upper, 0.0);\r\n    }\r\n\r\n    vec2 doubAddDoub(vec2 doubA, vec2 doubB) {\r\n        vec2 doubC;\r\n        float t1, t2, e;\r\n\r\n        t1 = doubA.x + doubB.x;\r\n        e = t1 - doubA.x;\r\n        t2 = ((doubB.x - e) + (doubA.x - (t1 - e))) + doubA.y + doubB.y;\r\n\r\n        doubC.x = t1 + t2;\r\n        doubC.y = t2 - (doubC.x - t1);\r\n        return doubC;\r\n    }\r\n\r\n    vec2 doubAddFloat(vec2 doub, float f) {\r\n        return doubAddDoub(doub, doubOfFloat(f));\r\n    }\r\n\r\n    vec2 doubMulDoub(vec2 doubA, vec2 doubB) {\r\n        vec2 doubC;\r\n        float c11, c21, c2, e, t1, t2;\r\n        float a1, a2, b1, b2, cona, conb, split = 8193.;\r\n\r\n        cona = doubA.x * split;\r\n        conb = doubB.x * split;\r\n        a1 = cona - (cona - doubA.x);\r\n        b1 = conb - (conb - doubB.x);\r\n        a2 = doubA.x - a1;\r\n        b2 = doubB.x - b1;\r\n\r\n        c11 = doubA.x * doubB.x;\r\n        c21 = a2 * b2 + (a2 * b1 + (a1 * b2 + (a1 * b1 - c11)));\r\n\r\n        c2 = doubA.x * doubB.y + doubA.y * doubB.x;\r\n\r\n        t1 = c11 + c2;\r\n        e = t1 - c11;\r\n        t2 = doubA.y * doubB.y + ((c2 - e) + (c11 - (t1 - e))) + c21;\r\n\r\n        doubC.x = t1 + t2;\r\n        doubC.y = t2 - (doubC.x - t1);\r\n        return doubC;\r\n    }\r\n\r\n    vec2 doubMulFloat(vec2 doub, float f) {\r\n        return doubMulDoub(doub, doubOfFloat(f));\r\n    }\r\n\r\n    vec2 doubDot(vec2 x, vec2 y) {\r\n        return doubAddDoub(doubMulDoub(x, x), doubMulDoub(y, y));\r\n    }\r\n\r\n    float mandelbrot(float x, float y) {\r\n        if (pow(x + 1.0, 2.0) + y*y <= 0.0625) {\r\n            return MAX;\r\n        }\r\n\r\n        vec2 c = vec2(x, y);\r\n        vec2 z = c;\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 4096.) {\r\n                return float(i) - log2(log2(dot(z, z))) + 4.0;\r\n            }\r\n            z = vec2(z.x*z.x - z.y*z.y + c.x, 2.0*z.x*z.y + c.y);\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float mandelbrotDoub(vec2 x, vec2 y) {\r\n        vec2 zx = x;\r\n        vec2 zy = y;\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(zy, zy)).x > 4096.0) {\r\n                return float(i) - log2(log2(doubDot(zx, zy).x)) + 4.0;\r\n            }\r\n            vec2 zxTemp = doubAddDoub(doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(doubOfFloat(-1.0), doubMulDoub(zy, zy))), x);\r\n            zy = doubAddDoub(doubMulFloat(doubMulDoub(zx, zy), 2.0), y);\r\n            zx = zxTemp;\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float julia(float x, float y) {\r\n        vec2 c = vec2(uJuliaX, uJuliaY);\r\n        vec2 z = vec2(x, y);\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 4096.) {\r\n                return float(i) - log2(log(dot(z, z)) / log(10.0)) + 2.0;\r\n            }\r\n            z = vec2(z.x*z.x - z.y*z.y + c.x, 2.0*z.x*z.y + c.y);\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float juliaDoub(vec2 x, vec2 y) {\r\n        vec2 zx = x;\r\n        vec2 zy = y;\r\n        vec2 cx = doubOfFloat(uJuliaX);\r\n        vec2 cy = doubOfFloat(uJuliaY);\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(zy, zy)).x > 4096.0) {\r\n                return float(i) + 1.0 - log2(log(sqrt(doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(zy, zy)).x)));\r\n            }\r\n            vec2 zxTemp = doubAddDoub(doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(doubOfFloat(-1.0), doubMulDoub(zy, zy))), cx);\r\n            zy = doubAddDoub(doubMulFloat(doubMulDoub(zx, zy), 2.0), cy);\r\n            zx = zxTemp;\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float mandelbox(float x, float y) {\r\n        vec2 c = vec2(x, y);\r\n        vec2 z = c;\r\n        \r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 4096.) {\r\n                return float(i) - log2(log2(dot(z, z))) + 4.0;\r\n            }\r\n\r\n            if (z.x > 1.) {\r\n                z.x = 2. - z.x;\r\n            } else if (z.x < -1.) {\r\n                z.x = -2. - z.x;\r\n            }\r\n            if (z.y > 1.) {\r\n                z.y = 2. - z.y;\r\n            } else if (z.y < -1.) {\r\n                z.y = -2. - z.y;\r\n            }\r\n\r\n            float mag = length(z);\r\n            if (mag < .5) {\r\n                z *= 4.;\r\n            } else if (mag < 1.) {\r\n                z /= mag * mag;\r\n            }\r\n\r\n            z = uMandelboxScale * z + c;\r\n        }\r\n        return 0.;\r\n    }\r\n\r\n    void main() {\r\n        // gl_FragColor = vec4(uPallette[0].x, 0.0, 0.0, 1.0);\r\n        bool useDoub = uUseDoub == 1 ? true : false;\r\n        \r\n        float m = 0.0;\r\n        if (useDoub) {\r\n            vec2 x = doubAddDoub(xcDoub, doubMulFloat(uZoomDoub, uRatio * (vTextureCoord.x - 0.5)));\r\n            vec2 y = doubAddDoub(ycDoub, doubMulFloat(uZoomDoub, vTextureCoord.y - 0.5));\r\n            if (uGenerator == 1.0) {\r\n                m = mandelbrotDoub(x, y);\r\n            } else if (uGenerator == 2.0) {\r\n                m = juliaDoub(x, y);\r\n            }  else if (uGenerator == 3.0) {\r\n                m = mandelbox(x.x, y.x);\r\n            } else {\r\n                gl_FragColor = vec4(vTextureCoord.x, vTextureCoord.y, 0.0, 1.);\r\n                return;\r\n            }\r\n        } else {\r\n            float x = xc + (vTextureCoord.x - 0.5) * uZoom * uRatio;\r\n            float y = yc + (vTextureCoord.y - 0.5) * uZoom;\r\n            if (uGenerator == 1.0) {\r\n                m = mandelbrot(x, y);\r\n            } else if (uGenerator == 2.0) {\r\n                m = julia(x, y);\r\n            }  else if (uGenerator == 3.0) {\r\n                m = mandelbox(x, y);\r\n            } else {\r\n                gl_FragColor = vec4(vTextureCoord.x, vTextureCoord.y, 0.0, 1.);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Colouring\r\n        vec3 col = vec3(0., 0., 0.);\r\n        if (m != MAX) {\r\n            if (uGenerator == 3.0) {  // Mandelbox\r\n                m = mod(m + uPalletteOffset, 16.0);\r\n                col = getPalletteSmall(int(m));\r\n            } else {\r\n                m = mod(m + uPalletteOffset, 75.0);\r\n                vec3 col1 = getPallette(int(m));\r\n                vec3 col2 = getPallette(int(m) + 1);\r\n                float f = mod(m, 1.0);\r\n                col = linearInterpolate(col1, col2, f);\r\n            }\r\n        }\r\n        gl_FragColor = vec4(col.xyz, 1.0);\r\n    }\r\n    ");Hn();const Tu=Et(Yn(76));function Mu(){let t;const e=vu();document.cookie=Vt(Xt("zoom=%f;"))(e);const n=mu();document.cookie=Vt(Xt("x=%f;"))(n);const r=xu();document.cookie=Vt(Xt("y=%f;"))(r);const u=bu();document.cookie=Vt(Xt("palletteoffset=%f"))(u);const o=0|Su();document.cookie=Vt(Xt("generator=%i"))(o);const i=Eu();document.cookie=Vt(Xt("mandelboxscale=%f"))(i);const l=zu();document.cookie=Vt(Xt("jx=%f"))(l);const s=Au();document.cookie=Vt(Xt("jy=%f"))(s);const c=Pu();document.cookie=Vt(Xt("usedoub=%b"))(c),Yr.value=mu().toString(),Hr.value=xu().toString(),Lr.value=vu().toString(),Xr.value=bu().toString(),tu.checked=Pu(),$r.value=zu().toString(),Kr.value=Au().toString(),Wr.value=Eu().toString(),Yr.step=(.1*vu()).toString(),Hr.step=(.1*vu()).toString(),Lr.step=(.1*vu()).toString();const f=function(t){return[Xn(new Float64Array([-1,-1,1,-1,-1,1,1,1]),t),Xn(new Float64Array([0,0,1,0,0,1,1,1]),t)]}(ku),a=f[0],y=f[1],h=Jn(ku,_u,"aVertexPosition"),d=Jn(ku,_u,"aTextureCoord"),w=t=>function(t,e,n){return t.getUniformLocation(e,n)}(ku,_u,t),g=w("uZoom"),p=w("xc"),v=w("yc"),m=w("uPalletteOffset"),x=w("uRatio"),b=w("uGenerator"),S=w("uMandelboxScale"),E=w("uJuliaX"),z=w("uJuliaY"),A=w("uZoomDoub"),P=w("xcDoub"),C=w("ycDoub"),k=w("uUseDoub"),R=w("uPallette");(t=>{const e=t.clientWidth,n=t.clientHeight;(t.width!==e||t.height!==n)&&(t.width=window.innerWidth*window.devicePixelRatio,t.height=window.innerHeight*window.devicePixelRatio)})(ku.canvas),ku.viewport(0,0,ku.canvas.width,ku.canvas.height),ku.useProgram(_u),ku.bindBuffer(ku.ARRAY_BUFFER,a),ku.vertexAttribPointer(h,2,ku.FLOAT,!1,0,0),ku.bindBuffer(ku.ARRAY_BUFFER,y),ku.vertexAttribPointer(d,2,ku.FLOAT,!1,0,0);const _=ku.canvas.width/ku.canvas.height;ku.uniform1f(g,vu()),ku.uniform1f(p,mu()),ku.uniform1f(v,xu()),ku.uniform1f(m,bu()),ku.uniform1f(x,_),ku.uniform1f(b,Su()),ku.uniform1f(S,Eu()),ku.uniform1f(E,zu()),ku.uniform1f(z,Au()),ku.uniform2fv(A,$n(Qn(vu()))),ku.uniform2fv(P,$n(Qn(mu()))),ku.uniform2fv(C,$n(Qn(xu()))),ku.uniform1i(k,Pu()?1:0),ku.uniform3fv(R,(t=Oe(De(t=>{const e=t[0],n=t[1],r=t[2];return new Float64Array([e,n,r])},Tu()),Float64Array),new Float32Array(t))),ku.drawArrays(ku.TRIANGLE_STRIP,0,4),ku.useProgram(_u)}Mu(),Lr.oninput=t=>{vu(hn(Lr.value),!0),Mu()},Yr.oninput=t=>{mu(hn(Yr.value),!0),Mu()},Hr.oninput=t=>{xu(hn(Hr.value),!0),Mu()},Wr.oninput=t=>{Eu(hn(Wr.value),!0),Mu()},Xr.oninput=t=>{bu(hn(Xr.value),!0),Mu()},$r.oninput=t=>{zu(hn($r.value),!0),Mu()},Kr.oninput=t=>{Au(hn(Kr.value),!0),Mu()},Vr.oninput=t=>{Su(1,!0),Fr.hidden=!0,Nr.hidden=!0,Mu()},Qr.oninput=t=>{Su(2,!0),Nr.hidden=!1,Fr.hidden=!0,Mu()},Zr.oninput=t=>{Su(3,!0),Nr.hidden=!0,Fr.hidden=!1,Mu()},eu.oninput=t=>{const e=0|i(eu.value,511,!1,32);if(-1!==e){const t=Ur[e];$r.value=t[0].toString(),Kr.value=t[1].toString(),zu(t[0],!0),Au(t[1],!0)}Mu()},tu.oninput=t=>{Pu(tu.checked,!0),Mu()},vn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},mn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},xn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},bn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},Sn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},En.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},zn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},An.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},Pn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()},Cn.oninput=t=>{jn(),Gn(),Tu(Yn(76),!0),Mu()};const Iu=Et(Ar({Compare:xt}));document.onkeydown=t=>{switch(t.key){case"w":case"s":case"a":case"d":case"q":case"e":Iu(Pr(Iu(),t.key),!0)}const e=de(Iu());try{for(;e["System.Collections.IEnumerator.MoveNext"]();){switch(e["System.Collections.Generic.IEnumerator`1.get_Current"]()){case"w":xu(xu()+.075*vu(),!0),Mu();break;case"s":xu(xu()-.075*vu(),!0),Mu();break;case"a":mu(mu()-.075*vu(),!0),Mu();break;case"d":mu(mu()+.075*vu(),!0),Mu();break;case"q":vu(vu()+.075*vu(),!0),Mu();break;case"e":vu(vu()-.075*vu(),!0),Mu()}}}finally{e.Dispose()}},document.onkeyup=t=>{switch(t.key){case"w":case"s":case"a":case"d":case"q":case"e":Iu(Cr(Iu(),t.key),!0)}const e=de(Iu());try{for(;e["System.Collections.IEnumerator.MoveNext"]();){switch(e["System.Collections.Generic.IEnumerator`1.get_Current"]()){case"w":xu(xu()+.075*vu(),!0),Mu();break;case"s":xu(xu()-.075*vu(),!0),Mu();break;case"a":mu(mu()-.075*vu(),!0),Mu();break;case"d":mu(mu()+.075*vu(),!0),Mu();break;case"q":vu(vu()+.075*vu(),!0),Mu();break;case"e":vu(vu()-.075*vu(),!0),Mu()}}}finally{e.Dispose()}},ru.onclick=t=>{Cu.requestFullscreen()},uu.onclick=t=>{jr.hidden=!jr.hidden},ou.onclick=t=>{mu(0,!0),xu(0,!0),Mu()},iu.onclick=t=>{mu(0,!0),xu(0,!0),vu(2.5,!0),bu(0,!0),Pu(!1,!0),zu(0,!0),Au(0,!0),Eu(3,!0),Su(1,!0),eu.value=ft(-1),Vr.checked=!0,Fr.hidden=!0,Nr.hidden=!0,Mu()},kn.onclick=t=>{vn.value=(0).toString(),mn.value="#000764",xn.value=.16.toString(),bn.value="#206bcb",Sn.value=.42.toString(),En.value="#edffff",zn.value=.64.toString(),An.value="#ffaa00",Pn.value=.855.toString(),Cn.value="#000200",Hn(),Tu(Yn(76),!0),Mu()},lu.onclick=t=>{const e=window.prompt("Save resolution width:");if(null!=e){const t=window.prompt("Save resolution height:");if(null!=t&&be(Ir,t.split(""))&&be(Ir,e.split(""))){Cu.width=hn(e),Cu.height=hn(t),Mu(),Mu();const o=Vr.checked?"Mandelbrot":Qr.checked?"Julia":"Mandelbox";let i;const l=Xr.value,s=Lr.value,c=Hr.value,f=Yr.value;i=Vt(Xt("%s x=%s,y=%s,zoom=%s,offset=%s %sx%s.png"))(o)(f)(c)(s)(l)(e)(t);const a=document.querySelector("#link");a.setAttribute("download",i),a.setAttribute("href",(n=Cu.toDataURL("png"),r="image/png",u="image/octet-stream",n.replace(new RegExp(_t(r),"g"),u))),a.click(),Cu.width=Or,Cu.height=Br}}var n,r,u},document.onfullscreenchange=t=>{null==document.fullscreenElement&&(Cu.width=Or,Cu.height=Br,Mu())},window.onresize=t=>{Mu(),Mu()}}]);