!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";function r(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function o(n){return"function"==typeof n.GetHashCode}function i(n,t){return Object.getPrototypeOf(n).constructor===Object.getPrototypeOf(t).constructor}e.r(t),e.d(t,"WIDTH",(function(){return oe})),e.d(t,"HEIGHT",(function(){return ie})),e.d(t,"fieldZoom",(function(){return ue})),e.d(t,"fieldX",(function(){return se})),e.d(t,"fieldY",(function(){return ce})),e.d(t,"buttonReset",(function(){return le})),e.d(t,"zoom",(function(){return ae})),e.d(t,"y",(function(){return he})),e.d(t,"x",(function(){return ge})),e.d(t,"canv",(function(){return de})),e.d(t,"gl",(function(){return me})),e.d(t,"shaderProgram",(function(){return ve})),e.d(t,"update",(function(){return we})),e.d(t,"handleKeypress",(function(){return ye})),e.d(t,"handleMouseDown",(function(){return be})),e.d(t,"handleMouseUp",(function(){return Se}));function u(n,t){let e=n.toString(10);for(;e.length<t;)e="0"+e;return e}function s(n){const t=n;return"number"==typeof t.offset?t.offset:1===n.kind?0:-6e4*n.getTimezoneOffset()}class c{static id(n){return c.idMap.has(n)||c.idMap.set(n,++c.count),c.idMap.get(n)}}function l(n){let t=0,e=5381;const r=n.length;for(;t<r;)e=33*e^n.charCodeAt(t++);return e}function f(n){return 2654435761*n|0}function a(n){return 0===n.length?0:n.reduce((n,t)=>(n<<5)+n^t)}function h(n){if(null==n)return 0;switch(typeof n){case"boolean":return n?1:0;case"number":return f(n);case"string":return l(n);default:if(o(n))return n.GetHashCode();if(r(n))return function(n){const t=n.length,e=new Array(t);for(let r=0;r<t;r++)e[r]=h(n[r]);return a(e)}(n);if(n instanceof Date)return function(n){return n.getTime()}(n);if(Object.getPrototypeOf(n).constructor===Object){return a(Object.values(n).map(n=>h(n)))}return f(c.id(n))}}function g(n,t,e){if(null==n)return null==t;if(null==t)return!1;if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++)if(!e(n[r],t[r]))return!1;return!0}function d(n,t){return g(n,t,m)}function m(n,t){return n===t||(null==n?null==t:null!=t&&("object"==typeof n&&(function(n){return"function"==typeof n.Equals}(n)?n.Equals(t):r(n)?r(t)&&d(n,t):n instanceof Date?t instanceof Date&&0===p(n,t):Object.getPrototypeOf(n).constructor===Object&&function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;e.sort(),r.sort();for(let o=0;o<e.length;o++)if(e[o]!==r[o]||!m(n[e[o]],t[r[o]]))return!1;return!0}(n,t))))}function p(n,t){let e,r;return"offset"in n&&"offset"in t?(e=n.getTime(),r=t.getTime()):(e=n.getTime()+s(n),r=t.getTime()+s(t)),e===r?0:e<r?-1:1}function v(n,t){return function(n,t,e){if(null==n)return null==t?0:1;if(null==t)return-1;if(n.length!==t.length)return n.length<t.length?-1:1;for(let r=0,o=0;r<n.length;r++)if(o=e(n[r],t[r]),0!==o)return o;return 0}(n,t,w)}function w(n,t){return n===t?0:null==n?null==t?0:-1:null==t?1:"object"!=typeof n?n<t?-1:1:function(n){return"function"==typeof n.CompareTo}(n)?n.CompareTo(t):r(n)?r(t)?v(n,t):-1:n instanceof Date?t instanceof Date?p(n,t):-1:Object.getPrototypeOf(n).constructor===Object?function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return e.length<r.length?-1:1;e.sort(),r.sort();for(let o=0,i=0;o<e.length;o++){const u=e[o];if(u!==r[o])return u<r[o]?-1:1;if(i=w(n[u],t[u]),0!==i)return i}return 0}(n,t):-1}c.idMap=new WeakMap,c.count=0;class y{constructor(n){this.value=n}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return h(this.value)}Equals(n){return null!=n&&m(this.value,n instanceof y?n.value:n)}CompareTo(n){return null==n?1:w(this.value,n instanceof y?n.value:n)}}function b(n){return null==n||n instanceof y?new y(n):n}function S(n){if(null==n)throw new Error("Option has no value");return n instanceof y?n.value:n}const x=Symbol("numeric");function E(n){return"number"==typeof n||(null==n?void 0:n[x])}function C(n,t){return"number"==typeof n?n*t:n[x]().multiply(t)}function M(n,t){return"number"==typeof n?n.toFixed(t):n[x]().toFixed(t)}function O(n,t){return"number"==typeof n?n.toPrecision(t):n[x]().toPrecision(t)}function A(n,t){return"number"==typeof n?n.toExponential(t):n[x]().toExponential(t)}function T(n){return"number"==typeof n?(Number(n)>>>0).toString(16):n[x]().toHex()}var k={GetHashCode(){return a([this.s,this.e].concat(this.c))},Equals(n){return!this.cmp(n)},CompareTo(n){return this.cmp(n)},[x](){const n=this;return{multiply:t=>n.mul(t),toPrecision:t=>n.toPrecision(t),toExponential:t=>n.toExponential(t),toFixed:t=>n.toFixed(t),toHex:()=>(Number(n)>>>0).toString(16)}}},I="[big.js] ",P=I+"Invalid ",_=P+"decimal places",j=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function D(n,t){var e,r,o;if(0===t&&1/t<0)t="-0";else if(!j.test(t+=""))throw Error(P+"number");for(n.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),o=t.length,r=0;r<e&&r<o&&"0"==t.charAt(r);)++r;if(r==o)n.c=[n.e=0];else for(n.e=e-r-1,n.c=[],e=0;r<o;)n.c[e++]=+t.charAt(r++);return n=R(n,N.DP,N.RM)}function R(n,t,e,r){var o=n.c,i=n.e+t+1;if(i<o.length){if(1===e)r=o[i]>=5;else if(2===e)r=o[i]>5||5==o[i]&&(r||i<0||void 0!==o[i+1]||1&o[i-1]);else if(3===e)r=r||!!o[0];else if(r=!1,0!==e)throw Error("[big.js] Invalid rounding mode");if(i<1)o.length=1,r?(n.e=-t,o[0]=1):o[0]=n.e=0;else{if(o.length=i--,r)for(;++o[i]>9;)o[i]=0,i--||(++n.e,o.unshift(1));for(i=o.length;!o[--i];)o.pop()}}else if(e<0||e>3||e!==~~e)throw Error("[big.js] Invalid rounding mode");return n}function z(n,t,e,r){var o,i,u=n.constructor,s=!n.c[0];if(void 0!==e){if(e!==~~e||e<(3==t)||e>1e6)throw Error(3==t?P+"precision":_);for(e=r-(n=new u(n)).e,n.c.length>++r&&R(n,e,u.RM),2==t&&(r=n.e+e+1);n.c.length<r;)n.c.push(0)}if(o=n.e,e=(i=n.c.join("")).length,2!=t&&(1==t||3==t&&r<=o||o<=u.NE||o>=u.PE))i=i.charAt(0)+(e>1?"."+i.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)i="0"+i;i="0."+i}else if(o>0)if(++o>e)for(o-=e;o--;)i+="0";else o<e&&(i=i.slice(0,o)+"."+i.slice(o));else e>1&&(i=i.charAt(0)+"."+i.slice(1));return n.s<0&&(!s||4==t)?"-"+i:i}k.abs=function(){var n=new this.constructor(this);return n.s=1,n},k.cmp=function(n){var t,e=this.constructor,r=new e(this),o=(n=new e(n),r.c),i=n.c,u=r.s,s=n.s,c=r.e,l=n.e;if(!o[0]||!i[0])return o[0]?u:i[0]?-s:0;if(u!=s)return u;if(t=u<0,c!=l)return c>l^t?1:-1;for(s=Math.max(o.length,i.length),u=0;u<s;u++)if((c=u<o.length?o[u]:0)!=(l=u<i.length?i[u]:0))return c>l^t?1:-1;return 0},k.div=function(n){var t=this.constructor,e=new t(this),r=(n=new t(n),e.c),o=n.c,i=e.s==n.s?1:-1,u=t.DP;if(u!==~~u||u<0||u>1e6)throw Error(_);if(!o[0])throw Error("[big.js] Division by zero");if(!r[0])return new t(0*i);var s,c,l,f,a,h=o.slice(),g=s=o.length,d=r.length,m=r.slice(0,s),p=m.length,v=n,w=v.c=[],y=0,b=u+(v.e=e.e-n.e)+1;for(v.s=i,i=b<0?0:b,h.unshift(0);p++<s;)m.push(0);do{for(l=0;l<10;l++){if(s!=(p=m.length))f=s>p?1:-1;else for(a=-1,f=0;++a<s;)if(o[a]!=m[a]){f=o[a]>m[a]?1:-1;break}if(!(f<0))break;for(c=p==s?o:h;p;){if(m[--p]<c[p]){for(a=p;a&&!m[--a];)m[a]=9;--m[a],m[p]+=10}m[p]-=c[p]}for(;!m[0];)m.shift()}w[y++]=f?l:++l,m[0]&&f?m[p]=r[g]||0:m=[r[g]]}while((g++<d||void 0!==m[0])&&i--);return w[0]||1==y||(w.shift(),v.e--),y>b&&R(v,u,t.RM,void 0!==m[0]),v},k.eq=function(n){return!this.cmp(n)},k.gt=function(n){return this.cmp(n)>0},k.gte=function(n){return this.cmp(n)>-1},k.lt=function(n){return this.cmp(n)<0},k.lte=function(n){return this.cmp(n)<1},k.minus=k.sub=function(n){var t,e,r,o,i=this.constructor,u=new i(this),s=(n=new i(n),u.s),c=n.s;if(s!=c)return n.s=-c,u.plus(n);var l=u.c.slice(),f=u.e,a=n.c,h=n.e;if(!l[0]||!a[0])return a[0]?(n.s=-c,n):new i(l[0]?u:0);if(s=f-h){for((o=s<0)?(s=-s,r=l):(h=f,r=a),r.reverse(),c=s;c--;)r.push(0);r.reverse()}else for(e=((o=l.length<a.length)?l:a).length,s=c=0;c<e;c++)if(l[c]!=a[c]){o=l[c]<a[c];break}if(o&&(r=l,l=a,a=r,n.s=-n.s),(c=(e=a.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;e>s;){if(l[--e]<a[e]){for(t=e;t&&!l[--t];)l[t]=9;--l[t],l[e]+=10}l[e]-=a[e]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(n.s=1,l=[h=0]),n.c=l,n.e=h,n},k.mod=function(n){var t,e=this.constructor,r=new e(this),o=(n=new e(n),r.s),i=n.s;if(!n.c[0])throw Error("[big.js] Division by zero");return r.s=n.s=1,t=1==n.cmp(r),r.s=o,n.s=i,t?new e(r):(o=e.DP,i=e.RM,e.DP=e.RM=0,r=r.div(n),e.DP=o,e.RM=i,this.minus(r.times(n)))},k.plus=k.add=function(n){var t,e=this.constructor,r=new e(this),o=(n=new e(n),r.s),i=n.s;if(o!=i)return n.s=-i,r.minus(n);var u=r.e,s=r.c,c=n.e,l=n.c;if(!s[0]||!l[0])return l[0]?n:new e(s[0]?r:0*o);if(s=s.slice(),o=u-c){for(o>0?(c=u,t=l):(o=-o,t=s),t.reverse();o--;)t.push(0);t.reverse()}for(s.length-l.length<0&&(t=l,l=s,s=t),o=l.length,i=0;o;s[o]%=10)i=(s[--o]=s[o]+l[o]+i)/10|0;for(i&&(s.unshift(i),++c),o=s.length;0===s[--o];)s.pop();return n.c=s,n.e=c,n},k.pow=function(n){var t=this.constructor,e=new t(this),r=new t(1),o=new t(1),i=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(P+"exponent");for(i&&(n=-n);1&n&&(r=r.times(e)),n>>=1;)e=e.times(e);return i?o.div(r):r},k.round=function(n,t){var e=this.constructor;if(void 0===n)n=0;else if(n!==~~n||n<-1e6||n>1e6)throw Error(_);return R(new e(this),n,void 0===t?e.RM:t)},k.sqrt=function(){var n,t,e,r=this.constructor,o=new r(this),i=o.s,u=o.e,s=new r(.5);if(!o.c[0])return new r(o);if(i<0)throw Error(I+"No square root");0===(i=Math.sqrt(o+""))||i===1/0?((t=o.c.join("")).length+u&1||(t+="0"),u=((u+1)/2|0)-(u<0||1&u),n=new r(((i=Math.sqrt(t))==1/0?"1e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+u)):n=new r(i),u=n.e+(r.DP+=4);do{e=n,n=s.times(e.plus(o.div(e)))}while(e.c.slice(0,u).join("")!==n.c.slice(0,u).join(""));return R(n,r.DP-=4,r.RM)},k.times=k.mul=function(n){var t,e=this.constructor,r=new e(this),o=(n=new e(n),r.c),i=n.c,u=o.length,s=i.length,c=r.e,l=n.e;if(n.s=r.s==n.s?1:-1,!o[0]||!i[0])return new e(0*n.s);for(n.e=c+l,u<s&&(t=o,o=i,i=t,l=u,u=s,s=l),t=new Array(l=u+s);l--;)t[l]=0;for(c=s;c--;){for(s=0,l=u+c;l>c;)s=t[l]+i[c]*o[l-c-1]+s,t[l--]=s%10,s=s/10|0;t[l]=(t[l]+s)%10}for(s?++n.e:t.shift(),c=t.length;!t[--c];)t.pop();return n.c=t,n},k.toExponential=function(n){return z(this,1,n,n)},k.toFixed=function(n){return z(this,2,n,this.e+n)},k.toPrecision=function(n){return z(this,3,n,n-1)},k.toString=function(){return z(this)},k.valueOf=k.toJSON=function(){return z(this,4)};var N=function n(){function t(e){var r=this;if(!(r instanceof t))return void 0===e?n():new t(e);e instanceof t?(r.s=e.s,r.e=e.e,r.c=e.c.slice(),function(n){if((n=R(n,28,0)).c.length>1&&!n.c[0]){let t=n.c.findIndex(n=>n);n.c=n.c.slice(t),n.e=n.e-t}}(r)):D(r,e),r.constructor=t}return t.prototype=k,t.DP=28,t.RM=1,t.NE=-29,t.PE=29,t.version="5.2.2",t}(),F=N;function G(n){let t=0,e="[";for(const r of n){if(0===t)e+=H(r);else{if(100===t){e+="; ...";break}e+="; "+H(r)}t++}return e+"]"}function H(n,t=0){if(null!=n&&"object"==typeof n){if("function"==typeof n.toString)return n.toString();if(Symbol.iterator in n)return G(n);{const e=Object.getPrototypeOf(n).constructor;return e===Object&&t<10?"{ "+Object.entries(n).map(([n,e])=>n+" = "+H(e,t+1)).join("\n  ")+" }":e.name}}return String(n)}function U(n,t){if(n===t)return 0;if(null==t)return-1;for(;null!=n.tail;){if(null==t.tail)return 1;const e=w(n.head,t.head);if(0!==e)return e;n=n.tail,t=t.tail}return null==t.tail?0:-1}class L{constructor(n,t){this.head=n,this.tail=t}[Symbol.iterator](){let n=this;return{next:()=>{const t=null==n?void 0:n.head,e=null==(null==n?void 0:n.tail);return n=null==n?void 0:n.tail,{done:e,value:t}}}}toJSON(){return Array.from(this)}toString(){return G(this)}GetHashCode(){return a(Array.from(this).map(h))}Equals(n){return 0===U(this,n)}CompareTo(n){return U(this,n)}}function q(n){const t={},e=Object.keys(n);for(let r=0;r<e.length;r++)t[e[r]]=n[e[r]];return t}function B(n){return"{ "+Object.entries(n).map(([n,t])=>n+" = "+H(t)).join("\n  ")+" }"}function X(n){return a(Object.values(n).map(n=>h(n)))}function Y(n,t){if(n===t)return!0;if(i(n,t)){const e=Object.keys(n);for(let r=0;r<e.length;r++)if(!m(n[e[r]],t[e[r]]))return!1;return!0}return!1}function V(n,t){if(n===t)return 0;if(i(n,t)){const e=Object.keys(n);for(let r=0;r<e.length;r++){const o=w(n[e[r]],t[e[r]]);if(0!==o)return o}return 0}return-1}class Z{toJSON(){return q(this)}toString(){return B(this)}GetHashCode(){return X(this)}Equals(n){return Y(this,n)}CompareTo(n){return V(this,n)}}class J{constructor(n,t){"function"==typeof t?(this.getter=n,this.setter=t):(this.getter=()=>n,this.setter=t=>{n=t})}get contents(){return this.getter()}set contents(n){this.setter(n)}}new F(0),new F(1),new F(-1),new F("79228162514264337593543950335"),new F("-79228162514264337593543950335");var W;!function(n){n[n.AllowHexSpecifier=512]="AllowHexSpecifier"}(W||(W={}));var K=null;try{K=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(n){}function Q(n,t,e){this.low=0|n,this.high=0|t,this.unsigned=!!e}function $(n){return!0===(n&&n.__isLong__)}Q.prototype.GetHashCode=function(){let n=this.unsigned?1:0;return n=(n<<5)+n^this.high,n=(n<<5)+n^this.low,n},Q.prototype.Equals=function(n){return An(this,n)},Q.prototype.CompareTo=function(n){return Pn(this,n)},Q.prototype.toString=function(n){return En(this,n)},Q.prototype.toJSON=function(){return En(this)},Q.prototype[x]=function(){const n=this;return{multiply:t=>Rn(n,t),toPrecision:t=>String(n)+(0).toPrecision(t).substr(1),toExponential:t=>String(n)+(0).toExponential(t).substr(1),toFixed:t=>String(n)+(0).toFixed(t).substr(1),toHex:()=>En(n.unsigned?n:Ln(Un(n),!0),16)}},Q.prototype.__isLong__,Object.defineProperty(Q.prototype,"__isLong__",{value:!0});var nn={},tn={};function en(n,t){var e,r,o;return t?(o=0<=(n>>>=0)&&n<256)&&(r=tn[n])?r:(e=on(n,(0|n)<0?-1:0,!0),o&&(tn[n]=e),e):(o=-128<=(n|=0)&&n<128)&&(r=nn[n])?r:(e=on(n,n<0?-1:0,!1),o&&(nn[n]=e),e)}function rn(n,t){if(isNaN(n))return t?dn:gn;if(t){if(n<0)return dn;if(n>=fn)return yn}else{if(n<=-an)return bn;if(n+1>=an)return wn}return n<0?_n(rn(-n,t)):on(n%ln|0,n/ln|0,t)}function on(n,t,e){return new Q(n,t,e)}var un=Math.pow;function sn(n,t,e){if(0===n.length)throw Error("empty string");if("NaN"===n||"Infinity"===n||"+Infinity"===n||"-Infinity"===n)return gn;if("number"==typeof t?(e=t,t=!1):t=!!t,(e=e||10)<2||36<e)throw RangeError("radix");var r=n.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return _n(sn(n.substring(1),t,e));for(var o=rn(un(e,8)),i=gn,u=0;u<n.length;u+=8){var s=Math.min(8,n.length-u),c=parseInt(n.substring(u,u+s),e);if(s<8)i=jn(Rn(i,rn(un(e,s))),rn(c));else i=jn(i=Rn(i,o),rn(c))}return i.unsigned=t,i}function cn(n,t){return"number"==typeof n?rn(n,t):"string"==typeof n?sn(n,t):on(n.low,n.high,"boolean"==typeof t?t:n.unsigned)}var ln=4294967296,fn=ln*ln,an=fn/2,hn=en(1<<24),gn=en(0),dn=en(0,!0),mn=en(1),pn=en(1,!0),vn=en(-1),wn=on(-1,2147483647,!1),yn=on(-1,-1,!0),bn=on(0,-2147483648,!1);function Sn(n){return n.unsigned?n.low>>>0:n.low}function xn(n){return n.unsigned?(n.high>>>0)*ln+(n.low>>>0):n.high*ln+(n.low>>>0)}function En(n,t){if((t=t||10)<2||36<t)throw RangeError("radix");if(Cn(n))return"0";if(Mn(n)){if(An(n,bn)){var e=rn(t),r=zn(n,e),o=Dn(Rn(r,e),n);return En(r,t)+Sn(o).toString(t)}return"-"+En(_n(n),t)}for(var i=rn(un(t,6),n.unsigned),u=n,s="";;){var c=zn(u,i),l=(Sn(Dn(u,Rn(c,i)))>>>0).toString(t);if(Cn(u=c))return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}}function Cn(n){return 0===n.high&&0===n.low}function Mn(n){return!n.unsigned&&n.high<0}function On(n){return 1==(1&n.low)}function An(n,t){return $(t)||(t=cn(t)),(n.unsigned===t.unsigned||n.high>>>31!=1||t.high>>>31!=1)&&(n.high===t.high&&n.low===t.low)}function Tn(n,t){return Pn(n,t)<0}function kn(n,t){return Pn(n,t)>0}function In(n,t){return Pn(n,t)>=0}function Pn(n,t){if($(t)||(t=cn(t)),An(n,t))return 0;var e=Mn(n),r=Mn(t);return e&&!r?-1:!e&&r?1:n.unsigned?t.high>>>0>n.high>>>0||t.high===n.high&&t.low>>>0>n.low>>>0?-1:1:Mn(Dn(n,t))?-1:1}function _n(n){return!n.unsigned&&An(n,bn)?bn:jn(Nn(n),mn)}function jn(n,t){$(t)||(t=cn(t));var e=n.high>>>16,r=65535&n.high,o=n.low>>>16,i=65535&n.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,l=0,f=0,a=0,h=0;return a+=(h+=i+(65535&t.low))>>>16,f+=(a+=o+c)>>>16,l+=(f+=r+s)>>>16,l+=e+u,on((a&=65535)<<16|(h&=65535),(l&=65535)<<16|(f&=65535),n.unsigned)}function Dn(n,t){return $(t)||(t=cn(t)),jn(n,_n(t))}function Rn(n,t){if(Cn(n))return n.unsigned?dn:gn;if($(t)||(t=cn(t)),K)return on(K.mul(n.low,n.high,t.low,t.high),K.get_high(),n.unsigned);if(Cn(t))return n.unsigned?dn:gn;if(An(n,bn))return On(t)?bn:gn;if(An(t,bn))return On(n)?bn:gn;if(Mn(n))return Mn(t)?Rn(_n(n),_n(t)):_n(Rn(_n(n),t));if(Mn(t))return _n(Rn(n,_n(t)));if(Tn(n,hn)&&Tn(t,hn))return rn(xn(n)*xn(t),n.unsigned);var e=n.high>>>16,r=65535&n.high,o=n.low>>>16,i=65535&n.low,u=t.high>>>16,s=65535&t.high,c=t.low>>>16,l=65535&t.low,f=0,a=0,h=0,g=0;return h+=(g+=i*l)>>>16,a+=(h+=o*l)>>>16,h&=65535,a+=(h+=i*c)>>>16,f+=(a+=r*l)>>>16,a&=65535,f+=(a+=o*c)>>>16,a&=65535,f+=(a+=i*s)>>>16,f+=e*l+r*c+o*s+i*u,on((h&=65535)<<16|(g&=65535),(f&=65535)<<16|(a&=65535),n.unsigned)}function zn(n,t){if($(t)||(t=cn(t)),Cn(t))throw Error("division by zero");var e,r,o;if(K)return n.unsigned||-2147483648!==n.high||-1!==t.low||-1!==t.high?on((n.unsigned?K.div_u:K.div_s)(n.low,n.high,t.low,t.high),K.get_high(),n.unsigned):n;if(Cn(n))return n.unsigned?dn:gn;if(n.unsigned){if(t.unsigned||(t=function(n){return n.unsigned?n:on(n.low,n.high,!0)}(t)),kn(t,n))return dn;if(kn(t,Hn(n,1)))return pn;o=dn}else{if(An(n,bn))return An(t,mn)||An(t,vn)?bn:An(t,bn)?mn:An(e=Fn(zn(Gn(n,1),t),1),gn)?Mn(t)?mn:vn:o=jn(e,zn(r=Dn(n,Rn(t,e)),t));if(An(t,bn))return n.unsigned?dn:gn;if(Mn(n))return Mn(t)?zn(_n(n),_n(t)):_n(zn(_n(n),t));if(Mn(t))return _n(zn(n,_n(t)));o=gn}for(r=n;In(r,t);){e=Math.max(1,Math.floor(xn(r)/xn(t)));for(var i=Math.ceil(Math.log(e)/Math.LN2),u=i<=48?1:un(2,i-48),s=rn(e),c=Rn(s,t);Mn(c)||kn(c,r);)c=Rn(s=rn(e-=u,n.unsigned),t);Cn(s)&&(s=mn),o=jn(o,s),r=Dn(r,c)}return o}function Nn(n){return on(~n.low,~n.high,n.unsigned)}function Fn(n,t){return $(t)&&(t=Sn(t)),0==(t&=63)?n:t<32?on(n.low<<t,n.high<<t|n.low>>>32-t,n.unsigned):on(0,n.low<<t-32,n.unsigned)}function Gn(n,t){return $(t)&&(t=Sn(t)),0==(t&=63)?n:t<32?on(n.low>>>t|n.high<<32-t,n.high>>t,n.unsigned):on(n.high>>t-32,n.high>=0?0:-1,n.unsigned)}function Hn(n,t){if($(t)&&(t=Sn(t)),0===(t&=63))return n;var e=n.high;return t<32?on(n.low>>>t|e<<32-t,e>>>t,n.unsigned):on(32===t?e:e>>>t-32,0,n.unsigned)}function Un(n,t){return t?function(n){var t=n.high,e=n.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}(n):function(n){var t=n.high,e=n.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]}(n)}function Ln(n,t,e){return e?function(n,t){return new Q(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,t)}(n,t):function(n,t){return new Q(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],t)}(n,t)}class qn{constructor(n){this.iter=n}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const n=this.iter.next();return this.current=n.value,!n.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Bn(n){return"function"==typeof n.GetEnumerator?n.GetEnumerator():new qn(n[Symbol.iterator]())}function Xn(n){return{[Symbol.iterator](){return this},next(){const t=n["System.Collections.IEnumerator.MoveNext"]();return{done:!t,value:t?n["System.Collections.IEnumerator.get_Current"]():void 0}}}}class Yn{constructor(n){this.f=n}[Symbol.iterator](){return new Yn(this.f)}next(){var n;return this.iter=null!==(n=this.iter)&&void 0!==n?n:this.f(),this.iter.next()}toString(){return"seq ["+Array.from(this).join("; ")+"]"}}function Vn(n){return new Yn(n)}function Zn(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function Jn(n){return Vn(()=>n()[Symbol.iterator]())}function Wn(n,t,e){if(Zn(e))return e.reduce(n,t);{let r;for(let o=0,i=e[Symbol.iterator]();r=i.next(),!r.done;o++)t=n(t,r.value,o);return t}}function Kn(n,t){Wn((t,e)=>{n(e)},void 0,t)}function Qn(n,t){return Jn(()=>$n(t=>{const e=t.next();return e.done?void 0:[n(e.value),t]},t[Symbol.iterator]()))}function $n(n,t){return Vn(()=>{let e=t;return{next(){const t=n(e);if(null!=t){const n=S(t);if(null!=n)return e=n[1],{done:!1,value:n[0]}}return{done:!0,value:void 0}}}})}class nt{constructor(n,t,e,r,o,i,u){this.fullname=n,this.generics=t,this.construct=e,this.parent=r,this.fields=o,this.cases=i,this.enumCases=u}toString(){return function n(t){const e=null==t.generics||ot(t)?[]:t.generics;return e.length>0?t.fullname+"["+e.map(t=>n(t)).join(",")+"]":t.fullname}(this)}GetHashCode(){return et(this)}Equals(n){return rt(this,n)}}function tt(n){return null!=n.generics?n.generics:[]}function et(n){return a([l(n.fullname),...tt(n).map(et)])}function rt(n,t){return""===n.fullname?""===t.fullname&&g(it(n),it(t),([n,t],[e,r])=>n===e&&rt(t,r)):n.fullname===t.fullname&&g(tt(n),tt(t),rt)}new nt("System.Object"),new nt("Microsoft.FSharp.Core.Unit"),new nt("System.Char"),new nt("System.String"),new nt("System.Boolean"),new nt("System.SByte"),new nt("System.Byte"),new nt("System.Int16"),new nt("System.UInt16"),new nt("System.Int32"),new nt("System.UInt32"),new nt("System.Single"),new nt("System.Double"),new nt("System.Decimal");function ot(n){return n.fullname.endsWith("[]")}function it(n){if(null!=n.fields)return n.fields();throw new Error(n.fullname+" is not an F# record type")}function ut(n){const t=n<0,e=(n=Math.abs(n))%36e5/6e4;return(t?"-":"+")+u(~~(n/36e5),2)+":"+u(e,2)}function st(n,t){const e=n.toISOString();return"first"===t?e.substring(0,e.indexOf("T")):e.substring(e.indexOf("T")+1,e.length-1)}function ct(n,t,e){return t.replace(/(\w)\1*/g,t=>{let r=Number.NaN;switch(t.substring(0,1)){case"y":const o=e?n.getUTCFullYear():n.getFullYear();r=t.length<4?o%100:o;break;case"M":r=(e?n.getUTCMonth():n.getMonth())+1;break;case"d":r=e?n.getUTCDate():n.getDate();break;case"H":r=e?n.getUTCHours():n.getHours();break;case"h":const i=e?n.getUTCHours():n.getHours();r=i>12?i%12:i;break;case"m":r=e?n.getUTCMinutes():n.getMinutes();break;case"s":r=e?n.getUTCSeconds():n.getSeconds();break;case"f":r=e?n.getUTCMilliseconds():n.getMilliseconds()}return Number.isNaN(r)?t:r<10&&t.length>1?"0"+r:""+r})}function lt(n,t){var e,r,o;const i=new Date(n.getTime()+(null!==(e=n.offset)&&void 0!==e?e:0));if("string"!=typeof t)return i.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+ut(null!==(r=n.offset)&&void 0!==r?r:0);if(1!==t.length)return ct(i,t,!0);switch(t){case"D":case"d":return st(i,"first");case"T":case"t":return st(i,"second");case"O":case"o":return function(n,t){const e=n.toISOString();return e.substring(0,e.length-1)+ut(t)}(i,null!==(o=n.offset)&&void 0!==o?o:0);default:throw new Error("Unrecognized Date print format")}}function ft(n,t){const e=1===n.kind;if("string"!=typeof t)return e?n.toUTCString():n.toLocaleString();if(1!==t.length)return ct(n,t,e);switch(t){case"D":case"d":return e?st(n,"first"):n.toLocaleDateString();case"T":case"t":return e?st(n,"second"):n.toLocaleTimeString();case"O":case"o":return function(n,t){if(t)return n.toISOString();{const t=null==n.kind||2===n.kind;return u(n.getFullYear(),4)+"-"+u(n.getMonth()+1,2)+"-"+u(n.getDate(),2)+"T"+u(n.getHours(),2)+":"+u(n.getMinutes(),2)+":"+u(n.getSeconds(),2)+"."+u(n.getMilliseconds(),3)+(t?ut(-6e4*n.getTimezoneOffset()):"")}}(n,e);default:throw new Error("Unrecognized Date print format")}}function at(n,t,e){return null!=n.offset?lt(n,t):ft(n,t)}const ht=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/,gt=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function dt(n,t){return function(n,t){return"number"==typeof n?n<t?-1:n>t?1:0:n.CompareTo(t)}(n,t)<0}function mt(n){return{input:n,cont:(t=n,n=>ht.test(t)?function n(t,e,r=new J(null)){return(...o)=>{let i=t;for(const n of o)i=yt(i,n,r);return ht.test(i)?n(i,e,r):e(i.replace(/%%/g,"%"))}}(t,n):n(t))};var t}function pt(n,t){return"string"==typeof t?n(t):t.cont(n)}function vt(n){return pt(n=>n,n)}function wt(n,t,e,r,o,i){let u="";if(e=e||"",i=i||"",E(n))switch("x"!==i.toLowerCase()&&(dt(n,0)?(n=C(n,-1),u="-"):e.indexOf(" ")>=0?u=" ":e.indexOf("+")>=0&&(u="+")),o=null==o?null:parseInt(o,10),i){case"f":case"F":n=M(n,o=null!=o?o:6);break;case"g":case"G":n=null!=o?O(n,o):O(n);break;case"e":case"E":n=null!=o?A(n,o):A(n);break;case"x":n=T(n);break;case"X":n=T(n).toUpperCase();break;default:n=String(n)}else n=n instanceof Date?at(n):H(n);if(r="number"==typeof r?r:parseInt(r,10),isNaN(r))n=u+n;else{const t=e.indexOf("0")>=0,o=e.indexOf("-")>=0,i=o||!t?" ":"0";n="0"===i?u+(n=xt(n,r-u.length,i,o)):xt(u+n,r,i,o)}return t?t+n:n}function yt(n,t,e){return n.replace(ht,(n,r,o,i,u,s)=>{if(null!=e.contents)i=e.contents,e.contents=null;else if("*"===i){if(t<0)throw new Error("Non-negative number required");return e.contents=t,n}return wt(t,r,o,i,u,s).replace(/%/g,"%%")})}function bt(n,...t){return"object"==typeof n&&t.length>0&&(n=t[0],t.shift()),n.replace(gt,(n,e,r,o,i,u)=>{let s=t[e];if(E(s))switch(i=null==i?null:parseInt(i,10),o){case"f":case"F":s=M(s,i=null!=i?i:2);break;case"g":case"G":s=null!=i?O(s,i):O(s);break;case"e":case"E":s=null!=i?A(s,i):A(s);break;case"p":case"P":i=null!=i?i:2,s=M(C(s,100),i)+" %";break;case"d":case"D":s=null!=i?xt(String(s),i,"0"):String(s);break;case"x":case"X":s=null!=i?xt(T(s),i,"0"):T(s),"X"===o&&(s=s.toUpperCase());break;default:if(u){let n="";s=u.replace(/(0+)(\.0+)?/,(t,e,r)=>(dt(s,0)&&(s=C(s,-1),n="-"),s=M(s,null!=r?r.length-1:0),xt(s,(e||"").length-n.length+(null!=r?r.length:0),"0"))),s=n+s}}else s=s instanceof Date?at(s,u||o):H(s);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(s=xt(String(s),Math.abs(r)," ",r<0)),s})}function St(n,t){return Array.isArray(t)?t.join(n):Array.from(t).join(n)}function xt(n,t,e,r){e=e||" ",t-=n.length;for(let o=0;o<t;o++)n=r?n+e:e+n;return n}Symbol.toStringTag,Symbol.iterator;Symbol.toStringTag,Symbol.iterator;function Et(n,t,e){const r=0|t.length,o=new(e||Array)(r);for(let e=0;e<=r-1;e++)o[e]=n(t[e]);return o}function Ct(){return n=w,{Compare:(t,e)=>n(t,e)};var n}function Mt(){return Ct()}class Ot{constructor(n,t){this.k=n,this.v=t}}function At(n,t){return new Ot(n,t)}function Tt(n){return n.k}function kt(n){return n.v}class It extends Ot{constructor(n,t,e,r,o){super(n,t),this.left=e,this.right=r,this.h=o}}function Pt(n,t,e,r,o){return new It(n,t,e,r,o)}function _t(n){return n.left}function jt(n){return n.right}function Dt(n){return n.h}function Rt(n){return function n(t,e){n:for(;;){const r=t,o=e;if(null!=o){const i=o;if(i instanceof It){t=n(r+1,_t(i)),e=jt(i);continue n}return r+1|0}return 0|r}}(0,n)}function zt(n,t,e,r){let o;if(null!=n){const t=n;o=t instanceof It?Dt(t):1}else o=0;let i;if(null!=r){const n=r;i=n instanceof It?Dt(n):1}else i=0;const u=0|(o<i?i:o);return 0===u?At(t,e):Pt(t,e,n,r,u+1)}function Nt(n,t,e,r){let o,i,u,s,c;if(null!=n){const t=n;c=t instanceof It?Dt(t):1}else c=0;let l;if(null!=r){const n=r;l=n instanceof It?Dt(n):1}else l=0;if(l>c+2){const u=S(r);if(u instanceof It){if(o=_t(u),(null!=o?(i=o,i instanceof It?Dt(i):1):0)>c+1){const r=S(_t(u));if(r instanceof It)return zt(zt(n,t,e,_t(r)),Tt(r),kt(r),zt(jt(r),Tt(u),kt(u),jt(u)));throw new Error("internal error: Map.rebalance")}return zt(zt(n,t,e,_t(u)),Tt(u),kt(u),jt(u))}throw new Error("internal error: Map.rebalance")}if(c>l+2){const o=S(n);if(o instanceof It){if(u=jt(o),(null!=u?(s=u,s instanceof It?Dt(s):1):0)>l+1){const n=S(jt(o));if(n instanceof It)return zt(zt(_t(o),Tt(o),kt(o),_t(n)),Tt(n),kt(n),zt(jt(n),t,e,r));throw new Error("internal error: Map.rebalance")}return zt(_t(o),Tt(o),kt(o),zt(jt(o),t,e,r))}throw new Error("internal error: Map.rebalance")}return zt(n,t,e,r)}function Ft(n,t,e,r){if(null!=r){const o=r,i=0|n.Compare(t,Tt(o));return o instanceof It?i<0?Nt(Ft(n,t,e,_t(o)),Tt(o),kt(o),jt(o)):0===i?Pt(t,e,_t(o),jt(o),Dt(o)):Nt(_t(o),Tt(o),kt(o),Ft(n,t,e,jt(o))):i<0?Pt(t,e,void 0,r,2):0===i?At(t,e):Pt(t,e,r,void 0,2)}return At(t,e)}function Gt(n,t,e){n:for(;;){const r=n,o=t,i=e;if(null!=i){const u=i,s=0|r.Compare(o,Tt(u));if(0===s)return b(kt(u));if(u instanceof It){n=r,t=o,e=s<0?_t(u):jt(u);continue n}return}return}}function Ht(n,t){!function n(t,e){n:for(;;){const r=t,o=e;if(null!=o){const i=o;if(i instanceof It){n(r,_t(i)),r(Tt(i),kt(i)),t=r,e=jt(i);continue n}r(Tt(i),kt(i))}break}}(n,t)}function Ut(n,t){let e=void 0;for(let r=0;r<=t.length-1;r++){const o=t[r];e=Ft(n,o[0],o[1],e)}return e}class Lt extends Z{constructor(n,t){super(),this.stack=n,this.started=t}}function qt(n){n:for(;;){const t=n;if(null==t.tail)return new L;{const e=t.tail,r=t.head;if(null!=r){const o=r;if(o instanceof It){n=new L(_t(o),new L(At(Tt(o),kt(o)),new L(jt(o),e)));continue n}return t}n=e}}}function Bt(n){return new Lt(qt(new L(n,new L)),!1)}function Xt(n){if(n.started){const t=n.stack;if(null!=t.tail){if(null!=t.head){const n=t.head;if(n instanceof It)throw new Error("Please report error: Map iterator, unexpected stack for current");return[Tt(n),kt(n)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration already finished")}()}return function(){throw new Error("enumeration not started")}()}function Yt(n){let t=Bt(n);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>Xt(t),"System.Collections.IEnumerator.get_Current":()=>Xt(t),"System.Collections.IEnumerator.MoveNext":()=>function(n){if(n.started){const t=n.stack;if(null!=t.tail){if(null!=t.head){if(t.head instanceof It)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return n.stack=qt(t.tail),!(null==n.stack.tail)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return!1}return n.started=!0,!(null==n.stack.tail)}(t),"System.Collections.IEnumerator.Reset"(){t=Bt(n)},Dispose(){}}}class Vt{constructor(n,t){this.comparer=n,this.tree=t}GetHashCode(){return 0|function(n){const t=(n,t)=>(n<<1)+t+631;let e=0;const r=Bn(n);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const n=r["System.Collections.Generic.IEnumerator`1.get_Current"]();e=t(e,h(n[0])),e=t(e,h(n[1]))}}finally{r.Dispose()}return 0|e}(this)}Equals(n){if(!(n instanceof Vt))return!1;{const t=Bn(this);try{const e=Bn(n);try{const n=()=>{const r=t["System.Collections.IEnumerator.MoveNext"]();if(r===e["System.Collections.IEnumerator.MoveNext"]()){if(r){const r=t["System.Collections.Generic.IEnumerator`1.get_Current"](),o=e["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!m(r[0],o[0])||!m(r[1],o[1]))&&n()}return!0}return!1};return n()}finally{e.Dispose()}}finally{t.Dispose()}}}toString(){return"map ["+St("; ",Qn(n=>bt("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}GetEnumerator(){return Yt(this.tree)}[Symbol.iterator](){return Xn(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return Yt(this.tree)}CompareTo(n){const t=this;if(n instanceof Vt)return 0|function(n,t,e){if(t===e)return 0;let r,o,i=0;for(const u=t[Symbol.iterator](),s=e[Symbol.iterator]();(r=u.next(),o=s.next(),!r.done&&!o.done)&&(i=n(r.value,o.value),0===i););return 0!==i?i:r.done&&!o.done?-1:!r.done&&o.done?1:0}((n,e)=>{const r=0|t.comparer.Compare(n[0],e[0]);return 0|(0!==r?r:w(n[1],e[1]))},t,n);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(n){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(n){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(n){return!!Kt(this,n[0])&&m(Jt(this,n[0]),n[1])}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(n,t){!function(n,t,e){let r=0|e;Ht((n,e)=>{t[r]=[n,e],r+=1},n)}(this.tree,n,t)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Wt(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|Wt(this)}get size(){return 0|Wt(this)}clear(){throw new Error("Map cannot be mutated")}delete(n){throw new Error("Map cannot be mutated")}entries(){return Qn(n=>[n[0],n[1]],this)}get(n){return Jt(this,n)}has(n){return Kt(this,n)}keys(){return Qn(n=>n[0],this)}set(n,t){throw new Error("Map cannot be mutated")}values(){return Qn(n=>n[1],this)}forEach(n,t){const e=this;Kn(t=>{n(t[1],t[0],e)},e)}}function Zt(n,t){return new Vt(n,t)}function Jt(n,t){return function(n,t,e){const r=Gt(n,t,e);if(null==r)throw new Error;return S(r)}(n.comparer,t,n.tree)}function Wt(n){return Rt(n.tree)}function Kt(n,t){return function(n,t,e){n:for(;;){const r=n,o=t,i=e;if(null!=i){const u=i,s=0|r.Compare(o,Tt(u));if(u instanceof It){if(s<0){n=r,t=o,e=_t(u);continue n}if(0===s)return!0;n=r,t=o,e=jt(u);continue n}return 0===s}return!1}}(n.comparer,t,n.tree)}function Qt(n,t){return function(n,t){return Gt(n.comparer,t,n.tree)}(t,n)}function $t(n){const t=n=>{if(0!==function(n,t,e){if(null==t)return null==e?0:-1;if(null==e)return 1;{let r=0,o=0;const i=0|t.length,u=0|e.length;if(i>u)return 1;if(i<u)return-1;for(;r<i&&0===o;)o=n(t[r],e[r]),r+=1;return 0|o}}(w,n,null)&&2===n.length){const t=n[1];return[n[0],t]}return["",""]};return Qt(n,function(n){const t=Mt();return Zt(t,Ut(t,n))}(Et(n=>t(n.trim().split("=")),document.cookie.split(";"))))}function ne(n,t){const e=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW),e}function te(n,t,e){const r=n.getAttribLocation(t,e);return n.enableVertexAttribArray(r),r}function ee(n,t,e){return n.getUniformLocation(t,e)}Vt.empty=Zt(Mt(),void 0);function re(n){const t=new J(0);if(function(n,t){if(null!=n&&/\S/.test(n)){const e=+n.replace("_","");if(!Number.isNaN(e))return t.contents=e,!0}return!1}(n,t))return t.contents;throw new Error("Input string was not in a correct format.")}const oe=1280,ie=720,ue=document.querySelector("#zoom"),se=document.querySelector("#x"),ce=document.querySelector("#y"),le=document.querySelector("#reset"),fe=[$t("x"),$t("y"),$t("zoom")],ae=fe[2],he=fe[1],ge=fe[0];null!=ge&&null!=he&&null!=ae&&(se.value=S(ge),ce.value=S(he),ue.value=S(ae));const de=document.querySelector(".canv");de.width=oe,de.height=ie;const me=de.getContext("webgl");var pe;(pe=me).clearColor(0,0,0,1),pe.clearDepth(1),pe.enable(pe.DEPTH_TEST),pe.depthFunc(pe.LEQUAL),pe.clear(~~pe.COLOR_BUFFER_BIT|~~pe.DEPTH_BUFFER_BIT);const ve=function(n,t,e){const r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,t),n.compileShader(r),console.log(b("VERTEX SHADER LOG:"),n.getShaderInfoLog(r));const o=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(o,e),n.compileShader(o),console.log(b("FRAGMENT SHADER LOG:"),n.getShaderInfoLog(o));const i=n.createProgram();return n.attachShader(i,r),n.attachShader(i,o),n.linkProgram(i),i}(me,"\r\n    precision highp float;\r\n    precision highp int;\r\n\r\n    attribute vec4 aVertexPosition;\r\n    attribute vec2 aTextureCoord;\r\n    varying vec2 vTextureCoord;\r\n    void main() {\r\n        gl_Position = aVertexPosition;\r\n        vTextureCoord = aTextureCoord;\r\n    }","\r\n    precision highp float;\r\n    precision highp int;\r\n    \r\n    varying vec2 vTextureCoord;\r\n    uniform float uZoom;\r\n    uniform float xc;\r\n    uniform float yc;\r\n    uniform float uRatio;\r\n\r\n    const float MAX = 500.;\r\n\r\n    vec3 getPalatte(int index) {\r\n        if (index == 0) { return vec3(66, 30, 15) / 255.; }\r\n        if (index == 1) { return vec3(25, 7, 26) / 255.; }\r\n        if (index == 2) { return vec3(9, 1, 47) / 255.; }\r\n        if (index == 3) { return vec3(4, 4, 73) / 255.; }\r\n        if (index == 4) { return vec3(0, 7, 100) / 255.; }\r\n        if (index == 5) { return vec3(12, 44, 138) / 255.; }\r\n        if (index == 6) { return vec3(24, 82, 177) / 255.; }\r\n        if (index == 7) { return vec3(57, 125, 209) / 255.; }\r\n        if (index == 8) { return vec3(134, 181, 229) / 255.; }\r\n        if (index == 9) { return vec3(211, 236, 248) / 255.; }\r\n        if (index == 10) { return vec3(241, 233, 191) / 255.; }\r\n        if (index == 11) { return vec3(248, 201, 95) / 255.; }\r\n        if (index == 12) { return vec3(255, 170, 0) / 255.; }\r\n        if (index == 13) { return vec3(204, 128, 0) / 255.; }\r\n        if (index == 14) { return vec3(153, 87, 0) / 255.; }\r\n        if (index == 15) { return vec3(106, 52, 3) / 255.; }\r\n    }\r\n\r\n    float mandelbrot(float x, float y) {\r\n        vec2 c = vec2(x, y);\r\n        vec2 z = c;\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 2.) {\r\n                return float(i);\r\n                // float smoothed = log2(log2(dot(z, z)) / 1.);\r\n                // return sqrt(float(i) + 10. - smoothed) * 2.;\r\n            }\r\n            z = vec2(z.x*z.x - z.y*z.y + c.x, 2.0*z.x*z.y + c.y);\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    const float SCALE = -1.5;\r\n    float mandelbox(float x, float y) {\r\n        vec2 c = vec2(x, y);\r\n        vec2 z = c;\r\n        \r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 2.) {\r\n                return float(i);\r\n            }\r\n\r\n            if (z.x > 1.) {\r\n                z.x = 2. - z.x;\r\n            } else if (z.x < -1.) {\r\n                z.x = -2. - z.x;\r\n            }\r\n            if (z.y > 1.) {\r\n                z.y = 2. - z.y;\r\n            } else if (z.y < -1.) {\r\n                z.y = -2. - z.y;\r\n            }\r\n\r\n            float mag = length(z);\r\n            if (mag < .5) {\r\n                z *= 4.;\r\n            } else if (mag < 1.) {\r\n                z /= mag * mag;\r\n            }\r\n\r\n            z = SCALE * z + c;\r\n        }\r\n\r\n        return 0.;\r\n    }\r\n\r\n    void main() {\r\n        // gl_FragColor = vec4(0., 0., 0., 1.);\r\n        float x = xc + (vTextureCoord.x - 0.5) * uZoom * uRatio;\r\n        float y = yc + (vTextureCoord.y - 0.5) * uZoom;\r\n        float m = mandelbrot(x, y);\r\n\r\n        if (m == MAX) {\r\n            gl_FragColor = vec4(0., 0., 0., 1.);\r\n        } else {\r\n            vec3 col = getPalatte(int(mod(m, 16.)));\r\n            gl_FragColor = vec4(col.x, col.y, col.z, 1.);\r\n        }\r\n    }");function we(){const n=re(ue.value),t=re(se.value),e=re(ce.value);document.cookie=vt(mt("zoom=%f;"))(n),document.cookie=vt(mt("x=%f;"))(t),document.cookie=vt(mt("y=%f;"))(e),document.cookie="path=/;",se.step=(.1*n).toString(),ce.step=(.1*n).toString(),ue.step=(.1*n).toString();const r=function(n){return[ne(new Float64Array([-1,-1,1,-1,-1,1,1,1]),n),ne(new Float64Array([0,0,1,0,0,1,1,1]),n)]}(me),o=r[0],i=r[1],u=te(me,ve,"aVertexPosition"),s=te(me,ve,"aTextureCoord"),c=ee(me,ve,"uZoom"),l=ee(me,ve,"xc"),f=ee(me,ve,"yc"),a=ee(me,ve,"uRatio");var h,g,d,m;h=n,g=t,d=e,m=oe/ie,me.useProgram(ve),me.bindBuffer(me.ARRAY_BUFFER,o),me.vertexAttribPointer(u,2,me.FLOAT,!1,0,0),me.bindBuffer(me.ARRAY_BUFFER,i),me.vertexAttribPointer(s,2,me.FLOAT,!1,0,0),me.uniform1f(c,h),me.uniform1f(l,g),me.uniform1f(f,d),me.uniform1f(a,m),me.drawArrays(me.TRIANGLE_STRIP,0,4),me.useProgram(ve)}function ye(n){switch(n.key){case"w":ce.value=(re(ce.value)+.1*re(ue.value)).toString(),we();break;case"s":ce.value=(re(ce.value)-.1*re(ue.value)).toString(),we();break;case"a":se.value=(re(se.value)-.1*re(ue.value)).toString(),we();break;case"d":se.value=(re(se.value)+.1*re(ue.value)).toString(),we();break;case"q":ue.value=(re(ue.value)+.1*re(ue.value)).toString(),we();break;case"e":ue.value=(re(ue.value)-.1*re(ue.value)).toString(),we()}}function be(n){re(ue.value);console.log(b(n.offsetX),n.offsetY)}function Se(n){console.log(b("mouse up"))}we(),ue.oninput=n=>{we()},se.oninput=n=>{we()},ce.oninput=n=>{we()},document.addEventListener("keydown",n=>{ye(n)}),de.addEventListener("mousedown",n=>{be(n)}),de.addEventListener("mouseup",n=>{Se()}),le.onclick=n=>{se.value=(-.75).toString(),ce.value=(0).toString(),ue.value=2.5.toString(),we()}}]);