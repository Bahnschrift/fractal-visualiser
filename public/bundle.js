!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));new class{getBytes(t,n,r){if(t=Array.isArray(t)?t.join(""):t,null!=n&&null!=r?t=t.substring(n,n+r):null!=n&&(t=t.substring(n)),void 0!==e){const n=e.from(t,"utf16le");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return function(e){const t=new Uint8Array(2*e.length),n=new DataView(t.buffer);for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);n.setUint16(2*t,r,!0)}return t}(t)}getString(t,n,r){const u=ArrayBuffer.isView(t)?t:Uint8Array.from(t);let o=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);return null!=n&&null!=r?o=o.subarray(n,n+r):null!=n&&(o=o.subarray(n)),"undefined"!=typeof TextDecoder?new TextDecoder("utf-16le").decode(o):void 0!==e?e.from(o).toString("utf16le"):function(e){const t=ArrayBuffer.isView(e)?e:Uint8Array.from(e),n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=new Array(n.byteLength/2);for(let e=0;e<r.length;e++){const t=n.getUint16(2*e,!0);r[e]=String.fromCharCode(t)}return r.join("")}(o)}};const r=new class{getBytes(t,n,r){if(t=Array.isArray(t)?t.join(""):t,null!=n&&null!=r?t=t.substring(n,n+r):null!=n&&(t=t.substring(n)),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);if(void 0!==e){const n=e.from(t,"utf8");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return function(e){let t=0,n=new Uint8Array(3*e.length);for(let r=0;r<e.length;r++){let u=e.charCodeAt(r);if(u>=55296&&u<=56319){const o=r<e.length?e.charCodeAt(r+1):0;o>=56320&&o<=57343?(r+=1,u=1024*(u-55296)+o-56320+65536,u>65535&&(n[t++]=240|u>>>18,n[t++]=128|u>>>12&63,n[t++]=128|u>>>6&63,n[t++]=128|63&u)):(n[t++]=239,n[t++]=191,n[t++]=189)}else u<=127?n[t++]=0|u:u<=2047?(n[t++]=192|u>>>6,n[t++]=128|63&u):(n[t++]=224|u>>>12,n[t++]=128|u>>>6&63,n[t++]=128|63&u)}return n=new Uint8Array(n.buffer.slice(0,t)),n}(t)}getString(t,n,r){const u=ArrayBuffer.isView(t)?t:Uint8Array.from(t);let o=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);return null!=n&&null!=r?o=o.subarray(n,n+r):null!=n&&(o=o.subarray(n)),"undefined"!=typeof TextDecoder?(new TextDecoder).decode(o):void 0!==e?e.from(o).toString("utf8"):function(e){let t=0;const n=()=>{const n=e[t++];if(0==(128&n))return n;if(192==(224&n)){return(31&n)<<6|63&e[t++]}if(224==(240&n)){return(15&n)<<12|(63&e[t++])<<6|63&e[t++]}if(240==(248&n)){return(7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++]}throw new RangeError("Invalid UTF8 byte: "+n)},r=new Array;for(;t<e.length;){const e=n();r.push(String.fromCodePoint(e))}return r.join("")}(o)}};function u(){return r}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(3),u=n(4),o=n(5);function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=y(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),u=(e=l(e,r)).write(t,n);u!==r&&(e=e.slice(0,u));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|d(t.length);return 0===(e=l(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?l(e,0):y(e,t);if("Buffer"===t.type&&o(t.data))return y(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(f(t),e=l(e,t<0?0:0|d(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function y(e,t){var n=t.length<0?0:0|d(t.length);e=l(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return N(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,t,n,r,u){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=u?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(u)return-1;n=e.length-1}else if(n<0){if(!u)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,u);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,u);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,u){var o,i=1,l=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,l/=2,s/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(u){var f=-1;for(o=n;o<l;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*i}else-1!==f&&(o-=o-f),f=-1}else for(n+s>l&&(n=l-s),o=n;o>=0;o--){for(var a=!0,y=0;y<s;y++)if(c(e,o+y)!==c(t,y)){a=!1;break}if(a)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var u=e.length-n;r?(r=Number(r))>u&&(r=u):r=u;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var i=0;i<r;++i){var l=parseInt(t.substr(2*i,2),16);if(isNaN(l))return i;e[n+i]=l}return i}function x(e,t,n,r){return G(N(t,e.length-n),e,n,r)}function b(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return b(e,t,n,r)}function E(e,t,n,r){return G(F(t),e,n,r)}function z(e,t,n,r){return G(function(e,t){for(var n,r,u,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,u=n%256,o.push(u),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],u=t;u<n;){var o,i,l,s,c=e[u],f=null,a=c>239?4:c>223?3:c>191?2:1;if(u+a<=n)switch(a){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[u+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=e[u+1],i=e[u+2],128==(192&o)&&128==(192&i)&&(s=(15&c)<<12|(63&o)<<6|63&i)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=e[u+1],i=e[u+2],l=e[u+3],128==(192&o)&&128==(192&i)&&128==(192&l)&&(s=(15&c)<<18|(63&o)<<12|(63&i)<<6|63&l)>65535&&s<1114112&&(f=s)}null===f?(f=65533,a=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),u+=a}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return c(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?l(e,t):void 0!==n?"string"==typeof r?l(e,t).fill(n,r):l(e,t).fill(n):l(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return a(null,e)},s.allocUnsafeSlow=function(e){return a(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,u=0,o=Math.min(n,r);u<o;++u)if(e[u]!==t[u]){n=e[u],r=t[u];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),u=0;for(n=0;n<e.length;++n){var i=e[n];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,u),u+=i.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):w.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,u){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===u&&(u=this.length),t<0||n>e.length||r<0||u>this.length)throw new RangeError("out of range index");if(r>=u&&t>=n)return 0;if(r>=u)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(u>>>=0)-(r>>>=0),i=(n>>>=0)-(t>>>=0),l=Math.min(o,i),c=this.slice(r,u),f=e.slice(t,n),a=0;a<l;++a)if(c[a]!==f[a]){o=c[a],i=f[a];break}return o<i?-1:i<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return p(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return p(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var u=this.length-t;if((void 0===n||n>u)&&(n=u),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var r="";n=Math.min(e.length,n);for(var u=t;u<n;++u)r+=String.fromCharCode(127&e[u]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var u=t;u<n;++u)r+=String.fromCharCode(e[u]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var u="",o=t;o<n;++o)u+=j(e[o]);return u}function M(e,t,n){for(var r=e.slice(t,n),u="",o=0;o<r.length;o+=2)u+=String.fromCharCode(r[o]+256*r[o+1]);return u}function _(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,u,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>u||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var u=0,o=Math.min(e.length-n,2);u<o;++u)e[n+u]=(t&255<<8*(r?u:1-u))>>>8*(r?u:1-u)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var u=0,o=Math.min(e.length-n,4);u<o;++u)e[n+u]=t>>>8*(r?u:3-u)&255}function O(e,t,n,r,u,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||O(e,0,n,4),u.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||O(e,0,n,8),u.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var u=t-e;n=new s(u,void 0);for(var o=0;o<u;++o)n[o]=this[o+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],u=1,o=0;++o<t&&(u*=256);)r+=this[e+o]*u;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e+--t],u=1;t>0&&(u*=256);)r+=this[e+--t]*u;return r},s.prototype.readUInt8=function(e,t){return t||_(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||_(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||_(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],u=1,o=0;++o<t&&(u*=256);)r+=this[e+o]*u;return r>=(u*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=t,u=1,o=this[e+--r];r>0&&(u*=256);)o+=this[e+--r]*u;return o>=(u*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||_(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||_(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||_(e,4,this.length),u.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||_(e,4,this.length),u.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||_(e,8,this.length),u.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||_(e,8,this.length),u.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var u=1,o=0;for(this[t]=255&e;++o<n&&(u*=256);)this[t+o]=e/u&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var u=n-1,o=1;for(this[t+u]=255&e;--u>=0&&(o*=256);)this[t+u]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var u=Math.pow(2,8*n-1);T(this,e,t,n,u-1,-u)}var o=0,i=1,l=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var u=Math.pow(2,8*n-1);T(this,e,t,n,u-1,-u)}var o=n-1,i=1,l=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/i>>0)-l&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var u,o=r-n;if(this===e&&n<t&&t<r)for(u=o-1;u>=0;--u)e[u+t]=this[u+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(u=0;u<o;++u)e[u+t]=this[u+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var u=e.charCodeAt(0);u<256&&(e=u)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var i=s.isBuffer(e)?e:N(new s(e,r).toString()),l=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%l]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var n;t=t||1/0;for(var r=e.length,u=null,o=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!u){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&o.push(239,191,189);continue}u=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),u=n;continue}n=65536+(u-55296<<10|n-56320)}else u&&(t-=3)>-1&&o.push(239,191,189);if(u=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var u=0;u<r&&!(u+n>=t.length||u>=e.length);++u)t[u+n]=e[u];return u}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),i=r[0],l=r[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,l)),f=0,a=l>0?i-4:i;for(n=0;n<a;n+=4)t=u[e.charCodeAt(n)]<<18|u[e.charCodeAt(n+1)]<<12|u[e.charCodeAt(n+2)]<<6|u[e.charCodeAt(n+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=255&t;2===l&&(t=u[e.charCodeAt(n)]<<2|u[e.charCodeAt(n+1)]>>4,s[f++]=255&t);1===l&&(t=u[e.charCodeAt(n)]<<10|u[e.charCodeAt(n+1)]<<4|u[e.charCodeAt(n+2)]>>2,s[f++]=t>>8&255,s[f++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,u=n%3,o=[],i=0,l=n-u;i<l;i+=16383)o.push(f(e,i,i+16383>l?l:i+16383));1===u?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===u&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],u=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,s=i.length;l<s;++l)r[l]=i[l],u[i.charCodeAt(l)]=l;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var u,o,i=[],l=t;l<n;l+=3)u=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(255&e[l+2]),i.push(r[(o=u)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,u){var o,i,l=8*u-r-1,s=(1<<l)-1,c=s>>1,f=-7,a=n?u-1:0,y=n?-1:1,d=e[t+a];for(a+=y,o=d&(1<<-f)-1,d>>=-f,f+=l;f>0;o=256*o+e[t+a],a+=y,f-=8);for(i=o&(1<<-f)-1,o>>=-f,f+=r;f>0;i=256*i+e[t+a],a+=y,f-=8);if(0===o)o=1-c;else{if(o===s)return i?NaN:1/0*(d?-1:1);i+=Math.pow(2,r),o-=c}return(d?-1:1)*i*Math.pow(2,o-r)},t.write=function(e,t,n,r,u,o){var i,l,s,c=8*o-u-1,f=(1<<c)-1,a=f>>1,y=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,w=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,i=f):(i=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-i))<1&&(i--,s*=2),(t+=i+a>=1?y/s:y*Math.pow(2,1-a))*s>=2&&(i++,s/=2),i+a>=f?(l=0,i=f):i+a>=1?(l=(t*s-1)*Math.pow(2,u),i+=a):(l=t*Math.pow(2,a-1)*Math.pow(2,u),i=0));u>=8;e[n+d]=255&l,d+=h,l/=256,u-=8);for(i=i<<u|l,c+=u;c>0;e[n+d]=255&i,d+=h,i/=256,c-=8);e[n+d-h]|=128*w}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r;function u(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function o(e,t,n){const u=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=u){const[,,e,o]=u;if(!function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n=n||function(e,t){if(t&r.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(e,t)).test(o))return function(e,t){const[,n,r,u]=e;return{sign:n||"",prefix:r||"",digits:u,radix:t}}(u,n)}return null}function i(e,t,n,r,i){const l=o(e,t,i);if(null!=l){let e=Number.parseInt(l.sign+l.digits,l.radix);if(!Number.isNaN(e)){const[t,o]=u(!0,r);!n&&10!==l.radix&&e>=t&&e<=o&&(e=e<<32-r>>32-r);const[i,s]=u(n,r);if(e>=i&&e<=s)return e}}throw new Error("Input string was not in a correct format.")}n.r(t),n.d(t,"WIDTH",(function(){return Ur})),n.d(t,"HEIGHT",(function(){return qr})),n.d(t,"juliaPresets",(function(){return jr})),n.d(t,"getDivElement",(function(){return Nr})),n.d(t,"divPallette",(function(){return Fr})),n.d(t,"divMandelbrot",(function(){return Gr})),n.d(t,"divMandelbox",(function(){return Lr})),n.d(t,"divJulia",(function(){return Yr})),n.d(t,"getInputElement",(function(){return Hr})),n.d(t,"fieldZoom",(function(){return Xr})),n.d(t,"fieldX",(function(){return Jr})),n.d(t,"fieldY",(function(){return Vr})),n.d(t,"fieldPalletteOffset",(function(){return Zr})),n.d(t,"fieldFractal",(function(){return Wr})),n.d(t,"fieldMandelbrot",(function(){return Qr})),n.d(t,"fieldBurningShip",(function(){return $r})),n.d(t,"fieldMandelbox",(function(){return Kr})),n.d(t,"fieldMandelbrotPower",(function(){return eu})),n.d(t,"fieldMandelboxScale",(function(){return tu})),n.d(t,"fieldJulia",(function(){return nu})),n.d(t,"fieldJuliaX",(function(){return ru})),n.d(t,"fieldJuliaY",(function(){return uu})),n.d(t,"fieldUseDoub",(function(){return ou})),n.d(t,"fieldJuliaPresets",(function(){return iu})),n.d(t,"getButtonElement",(function(){return lu})),n.d(t,"buttonFullscreen",(function(){return su})),n.d(t,"buttonPallette",(function(){return cu})),n.d(t,"buttonCentre",(function(){return fu})),n.d(t,"buttonReset",(function(){return au})),n.d(t,"buttonSaveImage",(function(){return yu})),n.d(t,"cookieX",(function(){return du})),n.d(t,"cookieY",(function(){return hu})),n.d(t,"cookieZoom",(function(){return wu})),n.d(t,"cookiePalletteOffset",(function(){return gu})),n.d(t,"cookieGenerator",(function(){return pu})),n.d(t,"cookieMandelbrotPower",(function(){return vu})),n.d(t,"cookieMandelboxScale",(function(){return mu})),n.d(t,"cookieJuliaX",(function(){return xu})),n.d(t,"cookieJuliaY",(function(){return bu})),n.d(t,"cookieUseDoub",(function(){return Su})),n.d(t,"setupCookies",(function(){return Eu})),n.d(t,"zoom",(function(){return zu})),n.d(t,"x",(function(){return Au})),n.d(t,"y",(function(){return Pu})),n.d(t,"palletteOffset",(function(){return Cu})),n.d(t,"generator",(function(){return ku})),n.d(t,"mandelbrotPower",(function(){return Ru})),n.d(t,"mandelboxScale",(function(){return Mu})),n.d(t,"juliaX",(function(){return _u})),n.d(t,"juliaY",(function(){return Tu})),n.d(t,"useDoub",(function(){return Iu})),n.d(t,"canv",(function(){return Du})),n.d(t,"gl",(function(){return Ou})),n.d(t,"shaderProgram",(function(){return Uu})),n.d(t,"pallette",(function(){return qu})),n.d(t,"update",(function(){return ju})),n.d(t,"keysDown",(function(){return Nu})),function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(r||(r={}));const l=Symbol("numeric");function s(e){return"number"==typeof e||(null==e?void 0:e[l])}function c(e,t){return"number"==typeof e?e*t:e[l]().multiply(t)}function f(e,t){return"number"==typeof e?e.toFixed(t):e[l]().toFixed(t)}function a(e,t){return"number"==typeof e?e.toPrecision(t):e[l]().toPrecision(t)}function y(e,t){return"number"==typeof e?e.toExponential(t):e[l]().toExponential(t)}function d(e){return"number"==typeof e?(Number(e)>>>0).toString(16):e[l]().toHex()}var h=null;try{h=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function w(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function g(e){return!0===(e&&e.__isLong__)}w.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=(e<<5)+e^this.high,e=(e<<5)+e^this.low,e},w.prototype.Equals=function(e){return L(this,e)},w.prototype.CompareTo=function(e){return J(this,e)},w.prototype.toString=function(e){return j(this,e)},w.prototype.toJSON=function(){return j(this)},w.prototype[l]=function(){const e=this;return{multiply:t=>Q(e,t),toPrecision:t=>String(e)+(0).toPrecision(t).substr(1),toExponential:t=>String(e)+(0).toExponential(t).substr(1),toFixed:t=>String(e)+(0).toFixed(t).substr(1),toHex:()=>j(e.unsigned?e:ue(re(e),!0),16)}},w.prototype.__isLong__,Object.defineProperty(w.prototype,"__isLong__",{value:!0});var p={},v={};function m(e,t){var n,r,u;return t?(u=0<=(e>>>=0)&&e<256)&&(r=v[e])?r:(n=b(e,(0|e)<0?-1:0,!0),u&&(v[e]=n),n):(u=-128<=(e|=0)&&e<128)&&(r=p[e])?r:(n=b(e,e<0?-1:0,!1),u&&(p[e]=n),n)}function x(e,t){if(isNaN(e))return t?M:R;if(t){if(e<0)return M;if(e>=P)return O}else{if(e<=-C)return B;if(e+1>=C)return D}return e<0?V(x(-e,t)):b(e%A|0,e/A|0,t)}function b(e,t,n){return new w(e,t,n)}var S=Math.pow;function E(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return R;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return V(E(e.substring(1),t,n));for(var u=x(S(n,8)),o=R,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+l),n);if(l<8)o=Z(Q(o,x(S(n,l))),x(s));else o=Z(o=Q(o,u),x(s))}return o.unsigned=t,o}function z(e,t){return"number"==typeof e?x(e,t):"string"==typeof e?E(e,t):b(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}var A=4294967296,P=A*A,C=P/2,k=m(1<<24),R=m(0),M=m(0,!0),_=m(1),T=m(1,!0),I=m(-1),D=b(-1,2147483647,!1),O=b(-1,-1,!0),B=b(0,-2147483648,!1);function U(e){return e.unsigned?e.low>>>0:e.low}function q(e){return e.unsigned?(e.high>>>0)*A+(e.low>>>0):e.high*A+(e.low>>>0)}function j(e,t){if((t=t||10)<2||36<t)throw RangeError("radix");if(N(e))return"0";if(F(e)){if(L(e,B)){var n=x(t),r=$(e,n),u=W(Q(r,n),e);return j(r,t)+U(u).toString(t)}return"-"+j(V(e),t)}for(var o=x(S(t,6),e.unsigned),i=e,l="";;){var s=$(i,o),c=(U(W(i,Q(s,o)))>>>0).toString(t);if(N(i=s))return c+l;for(;c.length<6;)c="0"+c;l=""+c+l}}function N(e){return 0===e.high&&0===e.low}function F(e){return!e.unsigned&&e.high<0}function G(e){return 1==(1&e.low)}function L(e,t){return g(t)||(t=z(t)),(e.unsigned===t.unsigned||e.high>>>31!=1||t.high>>>31!=1)&&(e.high===t.high&&e.low===t.low)}function Y(e,t){return J(e,t)<0}function H(e,t){return J(e,t)>0}function X(e,t){return J(e,t)>=0}function J(e,t){if(g(t)||(t=z(t)),L(e,t))return 0;var n=F(e),r=F(t);return n&&!r?-1:!n&&r?1:e.unsigned?t.high>>>0>e.high>>>0||t.high===e.high&&t.low>>>0>e.low>>>0?-1:1:F(W(e,t))?-1:1}function V(e){return!e.unsigned&&L(e,B)?B:Z(K(e),_)}function Z(e,t){g(t)||(t=z(t));var n=e.high>>>16,r=65535&e.high,u=e.low>>>16,o=65535&e.low,i=t.high>>>16,l=65535&t.high,s=t.low>>>16,c=0,f=0,a=0,y=0;return a+=(y+=o+(65535&t.low))>>>16,f+=(a+=u+s)>>>16,c+=(f+=r+l)>>>16,c+=n+i,b((a&=65535)<<16|(y&=65535),(c&=65535)<<16|(f&=65535),e.unsigned)}function W(e,t){return g(t)||(t=z(t)),Z(e,V(t))}function Q(e,t){if(N(e))return e.unsigned?M:R;if(g(t)||(t=z(t)),h)return b(h.mul(e.low,e.high,t.low,t.high),h.get_high(),e.unsigned);if(N(t))return e.unsigned?M:R;if(L(e,B))return G(t)?B:R;if(L(t,B))return G(e)?B:R;if(F(e))return F(t)?Q(V(e),V(t)):V(Q(V(e),t));if(F(t))return V(Q(e,V(t)));if(Y(e,k)&&Y(t,k))return x(q(e)*q(t),e.unsigned);var n=e.high>>>16,r=65535&e.high,u=e.low>>>16,o=65535&e.low,i=t.high>>>16,l=65535&t.high,s=t.low>>>16,c=65535&t.low,f=0,a=0,y=0,d=0;return y+=(d+=o*c)>>>16,a+=(y+=u*c)>>>16,y&=65535,a+=(y+=o*s)>>>16,f+=(a+=r*c)>>>16,a&=65535,f+=(a+=u*s)>>>16,a&=65535,f+=(a+=o*l)>>>16,f+=n*c+r*s+u*l+o*i,b((y&=65535)<<16|(d&=65535),(f&=65535)<<16|(a&=65535),e.unsigned)}function $(e,t){if(g(t)||(t=z(t)),N(t))throw Error("division by zero");var n,r,u;if(h)return e.unsigned||-2147483648!==e.high||-1!==t.low||-1!==t.high?b((e.unsigned?h.div_u:h.div_s)(e.low,e.high,t.low,t.high),h.get_high(),e.unsigned):e;if(N(e))return e.unsigned?M:R;if(e.unsigned){if(t.unsigned||(t=function(e){return e.unsigned?e:b(e.low,e.high,!0)}(t)),H(t,e))return M;if(H(t,ne(e,1)))return T;u=M}else{if(L(e,B))return L(t,_)||L(t,I)?B:L(t,B)?_:L(n=ee($(te(e,1),t),1),R)?F(t)?_:I:u=Z(n,$(r=W(e,Q(t,n)),t));if(L(t,B))return e.unsigned?M:R;if(F(e))return F(t)?$(V(e),V(t)):V($(V(e),t));if(F(t))return V($(e,V(t)));u=R}for(r=e;X(r,t);){n=Math.max(1,Math.floor(q(r)/q(t)));for(var o=Math.ceil(Math.log(n)/Math.LN2),i=o<=48?1:S(2,o-48),l=x(n),s=Q(l,t);F(s)||H(s,r);)s=Q(l=x(n-=i,e.unsigned),t);N(l)&&(l=_),u=Z(u,l),r=W(r,s)}return u}function K(e){return b(~e.low,~e.high,e.unsigned)}function ee(e,t){return g(t)&&(t=U(t)),0==(t&=63)?e:t<32?b(e.low<<t,e.high<<t|e.low>>>32-t,e.unsigned):b(0,e.low<<t-32,e.unsigned)}function te(e,t){return g(t)&&(t=U(t)),0==(t&=63)?e:t<32?b(e.low>>>t|e.high<<32-t,e.high>>t,e.unsigned):b(e.high>>t-32,e.high>=0?0:-1,e.unsigned)}function ne(e,t){if(g(t)&&(t=U(t)),0===(t&=63))return e;var n=e.high;return t<32?b(e.low>>>t|n<<32-t,n>>>t,e.unsigned):b(32===t?n:n>>>t-32,0,e.unsigned)}function re(e,t){return t?function(e){var t=e.high,n=e.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]}(e):function(e){var t=e.high,n=e.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]}(e)}function ue(e,t,n){return n?function(e,t){return new w(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)}(e,t):function(e,t){return new w(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}(e,t)}function oe(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function ie(e){return"function"==typeof e.GetHashCode}function le(e,t){return Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(t).constructor}function se(e,t){let n=e.toString(10);for(;n.length<t;)n="0"+n;return n}function ce(e){const t=e;return"number"==typeof t.offset?t.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}function fe(e,t){return(e=e<0&&null!=t&&10!==t?4294967295+e+1:e).toString(t)}class ae{static id(e){return ae.idMap.has(e)||ae.idMap.set(e,++ae.count),ae.idMap.get(e)}}function ye(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=33*n^e.charCodeAt(t++);return n}function de(e){return 2654435761*e|0}function he(e){return 0===e.length?0:e.reduce((e,t)=>(e<<5)+e^t)}function we(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return de(e);case"string":return ye(e);default:if(ie(e))return e.GetHashCode();if(oe(e))return function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=we(e[r]);return he(n)}(e);if(e instanceof Date)return function(e){return e.getTime()}(e);if(Object.getPrototypeOf(e).constructor===Object){return he(Object.values(e).map(e=>we(e)))}return de(ae.id(e))}}function ge(e,t,n){if(null==e)return null==t;if(null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function pe(e,t){return ge(e,t,ve)}function ve(e,t){return e===t||(null==e?null==t:null!=t&&("object"==typeof e&&(function(e){return"function"==typeof e.Equals}(e)?e.Equals(t):oe(e)?oe(t)&&pe(e,t):e instanceof Date?t instanceof Date&&0===me(e,t):Object.getPrototypeOf(e).constructor===Object&&function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let u=0;u<n.length;u++)if(n[u]!==r[u]||!ve(e[n[u]],t[r[u]]))return!1;return!0}(e,t))))}function me(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+ce(e),r=t.getTime()+ce(t)),n===r?0:n<r?-1:1}function xe(e,t){return e===t?0:e<t?-1:1}function be(e,t){return function(e,t,n){if(null==e)return null==t?0:1;if(null==t)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,u=0;r<e.length;r++)if(u=n(e[r],t[r]),0!==u)return u;return 0}(e,t,Se)}function Se(e,t){return e===t?0:null==e?null==t?0:-1:null==t?1:"object"!=typeof e?e<t?-1:1:function(e){return"function"==typeof e.CompareTo}(e)?e.CompareTo(t):oe(e)?oe(t)?be(e,t):-1:e instanceof Date?t instanceof Date?me(e,t):-1:Object.getPrototypeOf(e).constructor===Object?function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let u=0,o=0;u<n.length;u++){const i=n[u];if(i!==r[u])return i<r[u]?-1:1;if(o=Se(e[i],t[i]),0!==o)return o}return 0}(e,t):-1}function Ee(e){let t=e;return(e,n)=>n?void(t=e):t}ae.idMap=new WeakMap,ae.count=0;function ze(e){const t=e<0,n=(e=Math.abs(e))%36e5/6e4;return(t?"-":"+")+se(~~(e/36e5),2)+":"+se(n,2)}function Ae(e,t){const n=e.toISOString();return"first"===t?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Pe(e,t,n){return t.replace(/(\w)\1*/g,t=>{let r=Number.NaN;switch(t.substring(0,1)){case"y":const u=n?e.getUTCFullYear():e.getFullYear();r=t.length<4?u%100:u;break;case"M":r=(n?e.getUTCMonth():e.getMonth())+1;break;case"d":r=n?e.getUTCDate():e.getDate();break;case"H":r=n?e.getUTCHours():e.getHours();break;case"h":const o=n?e.getUTCHours():e.getHours();r=o>12?o%12:o;break;case"m":r=n?e.getUTCMinutes():e.getMinutes();break;case"s":r=n?e.getUTCSeconds():e.getSeconds();break;case"f":r=n?e.getUTCMilliseconds():e.getMilliseconds()}return Number.isNaN(r)?t:r<10&&t.length>1?"0"+r:""+r})}function Ce(e,t){var n,r,u;const o=new Date(e.getTime()+(null!==(n=e.offset)&&void 0!==n?n:0));if("string"!=typeof t)return o.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+ze(null!==(r=e.offset)&&void 0!==r?r:0);if(1!==t.length)return Pe(o,t,!0);switch(t){case"D":case"d":return Ae(o,"first");case"T":case"t":return Ae(o,"second");case"O":case"o":return function(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+ze(t)}(o,null!==(u=e.offset)&&void 0!==u?u:0);default:throw new Error("Unrecognized Date print format")}}function ke(e,t){const n=1===e.kind;if("string"!=typeof t)return n?e.toUTCString():e.toLocaleString();if(1!==t.length)return Pe(e,t,n);switch(t){case"D":case"d":return n?Ae(e,"first"):e.toLocaleDateString();case"T":case"t":return n?Ae(e,"second"):e.toLocaleTimeString();case"O":case"o":return function(e,t){if(t)return e.toISOString();{const t=null==e.kind||2===e.kind;return se(e.getFullYear(),4)+"-"+se(e.getMonth()+1,2)+"-"+se(e.getDate(),2)+"T"+se(e.getHours(),2)+":"+se(e.getMinutes(),2)+":"+se(e.getSeconds(),2)+"."+se(e.getMilliseconds(),3)+(t?ze(-6e4*e.getTimezoneOffset()):"")}}(e,n);default:throw new Error("Unrecognized Date print format")}}function Re(e,t,n){return null!=e.offset?Ce(e,t):ke(e,t)}function Me(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function _e(e){let t=0,n="[";for(const r of e){if(0===t)n+=Te(r);else{if(100===t){n+="; ...";break}n+="; "+Te(r)}t++}return n+"]"}function Te(e,t=0){if(null!=e&&"object"==typeof e){if("function"==typeof e.toString)return e.toString();if(Symbol.iterator in e)return _e(e);{const n=Object.getPrototypeOf(e).constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([e,n])=>e+" = "+Te(n,t+1)).join("\n  ")+" }":n.name}}return String(e)}function Ie(e,t){if(e===t)return 0;if(null==t)return-1;for(;null!=e.tail;){if(null==t.tail)return 1;const n=Se(e.head,t.head);if(0!==n)return n;e=e.tail,t=t.tail}return null==t.tail?0:-1}class De{constructor(e,t){this.head=e,this.tail=t}[Symbol.iterator](){let e=this;return{next:()=>{const t=null==e?void 0:e.head,n=null==(null==e?void 0:e.tail);return e=null==e?void 0:e.tail,{done:n,value:t}}}}toJSON(){return Array.from(this)}toString(){return _e(this)}GetHashCode(){return he(Array.from(this).map(we))}Equals(e){return 0===Ie(this,e)}CompareTo(e){return Ie(this,e)}}function Oe(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function Be(e){return"{ "+Object.entries(e).map(([e,t])=>e+" = "+Te(t)).join("\n  ")+" }"}function Ue(e){return he(Object.values(e).map(e=>we(e)))}function qe(e,t){if(e===t)return!0;if(le(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!ve(e[n[r]],t[n[r]]))return!1;return!0}return!1}function je(e,t){if(e===t)return 0;if(le(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const u=Se(e[n[r]],t[n[r]]);if(0!==u)return u}return 0}return-1}class Ne{toJSON(){return Oe(this)}toString(){return Be(this)}GetHashCode(){return Ue(this)}Equals(e){return qe(this,e)}CompareTo(e){return je(this,e)}}class Fe{constructor(e,t){"function"==typeof t?(this.getter=e,this.setter=t):(this.getter=()=>e,this.setter=t=>{e=t})}get contents(){return this.getter()}set contents(e){this.setter(e)}}const Ge=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/,Le=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Ye(e,t){return function(e,t){return"number"==typeof e?e<t?-1:e>t?1:0:e.CompareTo(t)}(e,t)<0}function He(e){return{input:e,cont:(t=e,e=>Ge.test(t)?function e(t,n,r=new Fe(null)){return(...u)=>{let o=t;for(const e of u)o=Ze(o,e,r);return Ge.test(o)?e(o,n,r):n(o.replace(/%%/g,"%"))}}(t,e):e(t))};var t}function Xe(e,t){return"string"==typeof t?e(t):t.cont(e)}function Je(e){return Xe(e=>e,e)}function Ve(e,t,n,r,u,o){let i="";if(n=n||"",o=o||"",s(e))switch("x"!==o.toLowerCase()&&(Ye(e,0)?(e=c(e,-1),i="-"):n.indexOf(" ")>=0?i=" ":n.indexOf("+")>=0&&(i="+")),u=null==u?null:parseInt(u,10),o){case"f":case"F":e=f(e,u=null!=u?u:6);break;case"g":case"G":e=null!=u?a(e,u):a(e);break;case"e":case"E":e=null!=u?y(e,u):y(e);break;case"x":e=d(e);break;case"X":e=d(e).toUpperCase();break;default:e=String(e)}else e=e instanceof Date?Re(e):Te(e);if(r="number"==typeof r?r:parseInt(r,10),isNaN(r))e=i+e;else{const t=n.indexOf("0")>=0,u=n.indexOf("-")>=0,o=u||!t?" ":"0";e="0"===o?i+(e=$e(e,r-i.length,o,u)):$e(i+e,r,o,u)}return t?t+e:e}function Ze(e,t,n){return e.replace(Ge,(e,r,u,o,i,l)=>{if(null!=n.contents)o=n.contents,n.contents=null;else if("*"===o){if(t<0)throw new Error("Non-negative number required");return n.contents=t,e}return Ve(t,r,u,o,i,l).replace(/%/g,"%%")})}function We(e,...t){return"object"==typeof e&&t.length>0&&(e=t[0],t.shift()),e.replace(Le,(e,n,r,u,o,i)=>{let l=t[n];if(s(l))switch(o=null==o?null:parseInt(o,10),u){case"f":case"F":l=f(l,o=null!=o?o:2);break;case"g":case"G":l=null!=o?a(l,o):a(l);break;case"e":case"E":l=null!=o?y(l,o):y(l);break;case"p":case"P":o=null!=o?o:2,l=f(c(l,100),o)+" %";break;case"d":case"D":l=null!=o?$e(String(l),o,"0"):String(l);break;case"x":case"X":l=null!=o?$e(d(l),o,"0"):d(l),"X"===u&&(l=l.toUpperCase());break;default:if(i){let e="";l=i.replace(/(0+)(\.0+)?/,(t,n,r)=>(Ye(l,0)&&(l=c(l,-1),e="-"),l=f(l,null!=r?r.length-1:0),$e(l,(n||"").length-e.length+(null!=r?r.length:0),"0"))),l=e+l}}else l=l instanceof Date?Re(l,i||u):Te(l);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(l=$e(String(l),Math.abs(r)," ",r<0)),l})}function Qe(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function $e(e,t,n,r){n=n||" ",t-=e.length;for(let u=0;u<t;u++)e=r?e+n:n+e;return e}class Ke{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return we(this.value)}Equals(e){return null!=e&&ve(this.value,e instanceof Ke?e.value:e)}CompareTo(e){return null==e?1:Se(this.value,e instanceof Ke?e.value:e)}}function et(e){return null==e||e instanceof Ke?new Ke(e):e}function tt(e){if(null==e)throw new Error("Option has no value");return e instanceof Ke?e.value:e}var nt={GetHashCode(){return he([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)},[l](){const e=this;return{multiply:t=>e.mul(t),toPrecision:t=>e.toPrecision(t),toExponential:t=>e.toExponential(t),toFixed:t=>e.toFixed(t),toHex:()=>(Number(e)>>>0).toString(16)}}},rt="[big.js] ",ut=rt+"Invalid ",ot=ut+"decimal places",it=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function lt(e,t){var n,r,u;if(0===t&&1/t<0)t="-0";else if(!it.test(t+=""))throw Error(ut+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),u=t.length,r=0;r<n&&r<u&&"0"==t.charAt(r);)++r;if(r==u)e.c=[e.e=0];else for(e.e=n-r-1,e.c=[],n=0;r<u;)e.c[n++]=+t.charAt(r++);return e=st(e,ft.DP,ft.RM)}function st(e,t,n,r){var u=e.c,o=e.e+t+1;if(o<u.length){if(1===n)r=u[o]>=5;else if(2===n)r=u[o]>5||5==u[o]&&(r||o<0||void 0!==u[o+1]||1&u[o-1]);else if(3===n)r=r||!!u[0];else if(r=!1,0!==n)throw Error("[big.js] Invalid rounding mode");if(o<1)u.length=1,r?(e.e=-t,u[0]=1):u[0]=e.e=0;else{if(u.length=o--,r)for(;++u[o]>9;)u[o]=0,o--||(++e.e,u.unshift(1));for(o=u.length;!u[--o];)u.pop()}}else if(n<0||n>3||n!==~~n)throw Error("[big.js] Invalid rounding mode");return e}function ct(e,t,n,r){var u,o,i=e.constructor,l=!e.c[0];if(void 0!==n){if(n!==~~n||n<(3==t)||n>1e6)throw Error(3==t?ut+"precision":ot);for(n=r-(e=new i(e)).e,e.c.length>++r&&st(e,n,i.RM),2==t&&(r=e.e+n+1);e.c.length<r;)e.c.push(0)}if(u=e.e,n=(o=e.c.join("")).length,2!=t&&(1==t||3==t&&r<=u||u<=i.NE||u>=i.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(u<0?"e":"e+")+u;else if(u<0){for(;++u;)o="0"+o;o="0."+o}else if(u>0)if(++u>n)for(u-=n;u--;)o+="0";else u<n&&(o=o.slice(0,u)+"."+o.slice(u));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&(!l||4==t)?"-"+o:o}nt.abs=function(){var e=new this.constructor(this);return e.s=1,e},nt.cmp=function(e){var t,n=this.constructor,r=new n(this),u=(e=new n(e),r.c),o=e.c,i=r.s,l=e.s,s=r.e,c=e.e;if(!u[0]||!o[0])return u[0]?i:o[0]?-l:0;if(i!=l)return i;if(t=i<0,s!=c)return s>c^t?1:-1;for(l=Math.max(u.length,o.length),i=0;i<l;i++)if((s=i<u.length?u[i]:0)!=(c=i<o.length?o[i]:0))return s>c^t?1:-1;return 0},nt.div=function(e){var t=this.constructor,n=new t(this),r=(e=new t(e),n.c),u=e.c,o=n.s==e.s?1:-1,i=t.DP;if(i!==~~i||i<0||i>1e6)throw Error(ot);if(!u[0])throw Error("[big.js] Division by zero");if(!r[0])return new t(0*o);var l,s,c,f,a,y=u.slice(),d=l=u.length,h=r.length,w=r.slice(0,l),g=w.length,p=e,v=p.c=[],m=0,x=i+(p.e=n.e-e.e)+1;for(p.s=o,o=x<0?0:x,y.unshift(0);g++<l;)w.push(0);do{for(c=0;c<10;c++){if(l!=(g=w.length))f=l>g?1:-1;else for(a=-1,f=0;++a<l;)if(u[a]!=w[a]){f=u[a]>w[a]?1:-1;break}if(!(f<0))break;for(s=g==l?u:y;g;){if(w[--g]<s[g]){for(a=g;a&&!w[--a];)w[a]=9;--w[a],w[g]+=10}w[g]-=s[g]}for(;!w[0];)w.shift()}v[m++]=f?c:++c,w[0]&&f?w[g]=r[d]||0:w=[r[d]]}while((d++<h||void 0!==w[0])&&o--);return v[0]||1==m||(v.shift(),p.e--),m>x&&st(p,i,t.RM,void 0!==w[0]),p},nt.eq=function(e){return!this.cmp(e)},nt.gt=function(e){return this.cmp(e)>0},nt.gte=function(e){return this.cmp(e)>-1},nt.lt=function(e){return this.cmp(e)<0},nt.lte=function(e){return this.cmp(e)<1},nt.minus=nt.sub=function(e){var t,n,r,u,o=this.constructor,i=new o(this),l=(e=new o(e),i.s),s=e.s;if(l!=s)return e.s=-s,i.plus(e);var c=i.c.slice(),f=i.e,a=e.c,y=e.e;if(!c[0]||!a[0])return a[0]?(e.s=-s,e):new o(c[0]?i:0);if(l=f-y){for((u=l<0)?(l=-l,r=c):(y=f,r=a),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else for(n=((u=c.length<a.length)?c:a).length,l=s=0;s<n;s++)if(c[s]!=a[s]){u=c[s]<a[s];break}if(u&&(r=c,c=a,a=r,e.s=-e.s),(s=(n=a.length)-(t=c.length))>0)for(;s--;)c[t++]=0;for(s=t;n>l;){if(c[--n]<a[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=a[n]}for(;0===c[--s];)c.pop();for(;0===c[0];)c.shift(),--y;return c[0]||(e.s=1,c=[y=0]),e.c=c,e.e=y,e},nt.mod=function(e){var t,n=this.constructor,r=new n(this),u=(e=new n(e),r.s),o=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,t=1==e.cmp(r),r.s=u,e.s=o,t?new n(r):(u=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=u,n.RM=o,this.minus(r.times(e)))},nt.plus=nt.add=function(e){var t,n=this.constructor,r=new n(this),u=(e=new n(e),r.s),o=e.s;if(u!=o)return e.s=-o,r.minus(e);var i=r.e,l=r.c,s=e.e,c=e.c;if(!l[0]||!c[0])return c[0]?e:new n(l[0]?r:0*u);if(l=l.slice(),u=i-s){for(u>0?(s=i,t=c):(u=-u,t=l),t.reverse();u--;)t.push(0);t.reverse()}for(l.length-c.length<0&&(t=c,c=l,l=t),u=c.length,o=0;u;l[u]%=10)o=(l[--u]=l[u]+c[u]+o)/10|0;for(o&&(l.unshift(o),++s),u=l.length;0===l[--u];)l.pop();return e.c=l,e.e=s,e},nt.pow=function(e){var t=this.constructor,n=new t(this),r=new t(1),u=new t(1),o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(ut+"exponent");for(o&&(e=-e);1&e&&(r=r.times(n)),e>>=1;)n=n.times(n);return o?u.div(r):r},nt.round=function(e,t){var n=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(ot);return st(new n(this),e,void 0===t?n.RM:t)},nt.sqrt=function(){var e,t,n,r=this.constructor,u=new r(this),o=u.s,i=u.e,l=new r(.5);if(!u.c[0])return new r(u);if(o<0)throw Error(rt+"No square root");0===(o=Math.sqrt(u+""))||o===1/0?((t=u.c.join("")).length+i&1||(t+="0"),i=((i+1)/2|0)-(i<0||1&i),e=new r(((o=Math.sqrt(t))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+i)):e=new r(o),i=e.e+(r.DP+=4);do{n=e,e=l.times(n.plus(u.div(n)))}while(n.c.slice(0,i).join("")!==e.c.slice(0,i).join(""));return st(e,r.DP-=4,r.RM)},nt.times=nt.mul=function(e){var t,n=this.constructor,r=new n(this),u=(e=new n(e),r.c),o=e.c,i=u.length,l=o.length,s=r.e,c=e.e;if(e.s=r.s==e.s?1:-1,!u[0]||!o[0])return new n(0*e.s);for(e.e=s+c,i<l&&(t=u,u=o,o=t,c=i,i=l,l=c),t=new Array(c=i+l);c--;)t[c]=0;for(s=l;s--;){for(l=0,c=i+s;c>s;)l=t[c]+o[s]*u[c-s-1]+l,t[c--]=l%10,l=l/10|0;t[c]=(t[c]+l)%10}for(l?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},nt.toExponential=function(e){return ct(this,1,e,e)},nt.toFixed=function(e){return ct(this,2,e,this.e+e)},nt.toPrecision=function(e){return ct(this,3,e,e-1)},nt.toString=function(){return ct(this)},nt.valueOf=nt.toJSON=function(){return ct(this,4)};var ft=function e(){function t(n){var r=this;if(!(r instanceof t))return void 0===n?e():new t(n);n instanceof t?(r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(e){if((e=st(e,28,0)).c.length>1&&!e.c[0]){let t=e.c.findIndex(e=>e);e.c=e.c.slice(t),e.e=e.e-t}}(r)):lt(r,n),r.constructor=t}return t.prototype=nt,t.DP=28,t.RM=1,t.NE=-29,t.PE=29,t.version="5.2.2",t}(),at=ft;new at(0),new at(1),new at(-1),new at("79228162514264337593543950335"),new at("-79228162514264337593543950335");class yt{constructor(e){this.iter=e}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function dt(e){return"function"==typeof e.GetEnumerator?e.GetEnumerator():new yt(e[Symbol.iterator]())}function ht(e){return{[Symbol.iterator](){return this},next(){const t=e["System.Collections.IEnumerator.MoveNext"]();return{done:!t,value:t?e["System.Collections.IEnumerator.get_Current"]():void 0}}}}class wt{constructor(e){this.f=e}[Symbol.iterator](){return new wt(this.f)}next(){var e;return this.iter=null!==(e=this.iter)&&void 0!==e?e:this.f(),this.iter.next()}toString(){return"seq ["+Array.from(this).join("; ")+"]"}}function gt(e){return new wt(e)}function pt(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function vt(e){return gt(()=>e()[Symbol.iterator]())}function mt(e,t){let n;for(const r=t[Symbol.iterator]();n=r.next(),!n.done;)if(e(n.value))return!0;return!1}function xt(e,t){return!mt(t=>!e(t),t)}function bt(e,t,n){if(pt(n))return n.reduce(e,t);{let r;for(let u=0,o=n[Symbol.iterator]();r=o.next(),!r.done;u++)t=e(t,r.value,u);return t}}function St(e,t){bt((t,n)=>{e(n)},void 0,t)}function Et(e,t){return vt(()=>At(t=>{const n=t.next();return n.done?void 0:[e(n.value),t]},t[Symbol.iterator]()))}function zt(e,t,n){if(0===t)throw new Error("Step cannot be 0");return vt(()=>At(e=>t>0&&e<=n||t<0&&e>=n?[e,e+t]:void 0,e))}function At(e,t){return gt(()=>{let n=t;return{next(){const t=e(n);if(null!=t){const e=tt(t);if(null!=e)return n=e[1],{done:!1,value:e[0]}}return{done:!0,value:void 0}}}})}class Pt{constructor(e,t,n,r,u,o,i){this.fullname=e,this.generics=t,this.construct=n,this.parent=r,this.fields=u,this.cases=o,this.enumCases=i}toString(){return function e(t){const n=null==t.generics||Mt(t)?[]:t.generics;return n.length>0?t.fullname+"["+n.map(t=>e(t)).join(",")+"]":t.fullname}(this)}GetHashCode(){return kt(this)}Equals(e){return Rt(this,e)}}function Ct(e){return null!=e.generics?e.generics:[]}function kt(e){return he([ye(e.fullname),...Ct(e).map(kt)])}function Rt(e,t){return""===e.fullname?""===t.fullname&&ge(_t(e),_t(t),([e,t],[n,r])=>e===n&&Rt(t,r)):e.fullname===t.fullname&&ge(Ct(e),Ct(t),Rt)}new Pt("System.Object"),new Pt("Microsoft.FSharp.Core.Unit"),new Pt("System.Char"),new Pt("System.String"),new Pt("System.Boolean"),new Pt("System.SByte"),new Pt("System.Byte"),new Pt("System.Int16"),new Pt("System.UInt16"),new Pt("System.Int32"),new Pt("System.UInt32"),new Pt("System.Single"),new Pt("System.Double"),new Pt("System.Decimal");function Mt(e){return e.fullname.endsWith("[]")}function _t(e){if(null!=e.fields)return e.fields();throw new Error(e.fullname+" is not an F# record type")}Symbol.toStringTag,Symbol.iterator;Symbol.toStringTag,Symbol.iterator;function Tt(e,t,n){const r=0|e.length,u=0|t.length,o=new(n||Array)(r+u);for(let t=0;t<=r-1;t++)o[t]=e[t];for(let e=0;e<=u-1;e++)o[e+r]=t[e];return o}function It(e,t,n){const r=0|t.length,u=new(n||Array)(r);for(let n=0;n<=r-1;n++)u[n]=e(t[n]);return u}function Dt(e,t){const n=Array.isArray(e)?e:Array.from(e);switch(0|n.length){case 0:return new(t||Array)(0);case 1:return n[0];default:{let e=0,r=0;for(let e=0;e<=n.length-1;e++){r+=n[e].length}const u=new(t||Array)(r);for(let t=0;t<=n.length-1;t++){const r=n[t];for(let t=0;t<=r.length-1;t++)u[e]=r[t],e+=1}return u}}}function Ot(e,t){let n=t;for(let t=function(e){if(oe(e))return e.length;{let t=0;for(const n of e)t++;return t}}(e)-1;t>=0;t--)n=new De(e[t],n);return n}function Bt(e){return Ot(e,new De)}function Ut(e,t){return function(e,t,n){e:for(;;){const r=e,u=t,o=n;if(null!=o.tail){const i=r(u,o.head);if(null==i){e=r,t=u+1,n=o.tail;continue e}return i}return}}(e,0,t)}function qt(e,t){return Ut((t,n)=>e(t,n)?et(n):void 0,t)}function jt(e,t){const n=qt(e,t);if(null!=n)return tt(n);throw new Error("List did not contain any matching elements")}function Nt(e,t){return jt((t,n)=>e===t,t)}function Ft(){return e=Se,{Compare:(t,n)=>e(t,n)};var e}function Gt(){return Ft()}class Lt{constructor(e,t){this.k=e,this.v=t}}function Yt(e,t){return new Lt(e,t)}function Ht(e){return e.k}function Xt(e){return e.v}class Jt extends Lt{constructor(e,t,n,r,u){super(e,t),this.left=n,this.right=r,this.h=u}}function Vt(e,t,n,r,u){return new Jt(e,t,n,r,u)}function Zt(e){return e.left}function Wt(e){return e.right}function Qt(e){return e.h}function $t(e){return function e(t,n){e:for(;;){const r=t,u=n;if(null!=u){const o=u;if(o instanceof Jt){t=e(r+1,Zt(o)),n=Wt(o);continue e}return r+1|0}return 0|r}}(0,e)}function Kt(e,t,n,r){let u;if(null!=e){const t=e;u=t instanceof Jt?Qt(t):1}else u=0;let o;if(null!=r){const e=r;o=e instanceof Jt?Qt(e):1}else o=0;const i=0|(u<o?o:u);return 0===i?Yt(t,n):Vt(t,n,e,r,i+1)}function en(e,t,n,r){let u,o,i,l,s;if(null!=e){const t=e;s=t instanceof Jt?Qt(t):1}else s=0;let c;if(null!=r){const e=r;c=e instanceof Jt?Qt(e):1}else c=0;if(c>s+2){const i=tt(r);if(i instanceof Jt){if(u=Zt(i),(null!=u?(o=u,o instanceof Jt?Qt(o):1):0)>s+1){const r=tt(Zt(i));if(r instanceof Jt)return Kt(Kt(e,t,n,Zt(r)),Ht(r),Xt(r),Kt(Wt(r),Ht(i),Xt(i),Wt(i)));throw new Error("internal error: Map.rebalance")}return Kt(Kt(e,t,n,Zt(i)),Ht(i),Xt(i),Wt(i))}throw new Error("internal error: Map.rebalance")}if(s>c+2){const u=tt(e);if(u instanceof Jt){if(i=Wt(u),(null!=i?(l=i,l instanceof Jt?Qt(l):1):0)>c+1){const e=tt(Wt(u));if(e instanceof Jt)return Kt(Kt(Zt(u),Ht(u),Xt(u),Zt(e)),Ht(e),Xt(e),Kt(Wt(e),t,n,r));throw new Error("internal error: Map.rebalance")}return Kt(Zt(u),Ht(u),Xt(u),Kt(Wt(u),t,n,r))}throw new Error("internal error: Map.rebalance")}return Kt(e,t,n,r)}function tn(e,t,n,r){if(null!=r){const u=r,o=0|e.Compare(t,Ht(u));return u instanceof Jt?o<0?en(tn(e,t,n,Zt(u)),Ht(u),Xt(u),Wt(u)):0===o?Vt(t,n,Zt(u),Wt(u),Qt(u)):en(Zt(u),Ht(u),Xt(u),tn(e,t,n,Wt(u))):o<0?Vt(t,n,void 0,r,2):0===o?Yt(t,n):Vt(t,n,r,void 0,2)}return Yt(t,n)}function nn(e,t,n){e:for(;;){const r=e,u=t,o=n;if(null!=o){const i=o,l=0|r.Compare(u,Ht(i));if(0===l)return et(Xt(i));if(i instanceof Jt){e=r,t=u,n=l<0?Zt(i):Wt(i);continue e}return}return}}function rn(e,t){!function e(t,n){e:for(;;){const r=t,u=n;if(null!=u){const o=u;if(o instanceof Jt){e(r,Zt(o)),r(Ht(o),Xt(o)),t=r,n=Wt(o);continue e}r(Ht(o),Xt(o))}break}}(e,t)}function un(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const u=t[r];n=tn(e,u[0],u[1],n)}return n}class on extends Ne{constructor(e,t){super(),this.stack=e,this.started=t}}function ln(e){e:for(;;){const t=e;if(null==t.tail)return new De;{const n=t.tail,r=t.head;if(null!=r){const u=r;if(u instanceof Jt){e=new De(Zt(u),new De(Yt(Ht(u),Xt(u)),new De(Wt(u),n)));continue e}return t}e=n}}}function sn(e){return new on(ln(new De(e,new De)),!1)}function cn(e){if(e.started){const t=e.stack;if(null!=t.tail){if(null!=t.head){const e=t.head;if(e instanceof Jt)throw new Error("Please report error: Map iterator, unexpected stack for current");return[Ht(e),Xt(e)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration already finished")}()}return function(){throw new Error("enumeration not started")}()}function fn(e){let t=sn(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>cn(t),"System.Collections.IEnumerator.get_Current":()=>cn(t),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const t=e.stack;if(null!=t.tail){if(null!=t.head){if(t.head instanceof Jt)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=ln(t.tail),!(null==e.stack.tail)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return!1}return e.started=!0,!(null==e.stack.tail)}(t),"System.Collections.IEnumerator.Reset"(){t=sn(e)},Dispose(){}}}class an{constructor(e,t){this.comparer=e,this.tree=t}GetHashCode(){return 0|function(e){const t=(e,t)=>(e<<1)+t+631;let n=0;const r=dt(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const e=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,we(e[0])),n=t(n,we(e[1]))}}finally{r.Dispose()}return 0|n}(this)}Equals(e){if(!(e instanceof an))return!1;{const t=dt(this);try{const n=dt(e);try{const e=()=>{const r=t["System.Collections.IEnumerator.MoveNext"]();if(r===n["System.Collections.IEnumerator.MoveNext"]()){if(r){const r=t["System.Collections.Generic.IEnumerator`1.get_Current"](),u=n["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!ve(r[0],u[0])||!ve(r[1],u[1]))&&e()}return!0}return!1};return e()}finally{n.Dispose()}}finally{t.Dispose()}}}toString(){return"map ["+Qe("; ",Et(e=>We("({0}, {1})",e[0],e[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}GetEnumerator(){return fn(this.tree)}[Symbol.iterator](){return ht(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return fn(this.tree)}CompareTo(e){const t=this;if(e instanceof an)return 0|function(e,t,n){if(t===n)return 0;let r,u,o=0;for(const i=t[Symbol.iterator](),l=n[Symbol.iterator]();(r=i.next(),u=l.next(),!r.done&&!u.done)&&(o=e(r.value,u.value),0===o););return 0!==o?o:r.done&&!u.done?-1:!r.done&&u.done?1:0}((e,n)=>{const r=0|t.comparer.Compare(e[0],n[0]);return 0|(0!==r?r:Se(e[1],n[1]))},t,e);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return!!wn(this,e[0])&&ve(dn(this,e[0]),e[1])}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(e,t){!function(e,t,n){let r=0|n;rn((e,n)=>{t[r]=[e,n],r+=1},e)}(this.tree,e,t)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|hn(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|hn(this)}get size(){return 0|hn(this)}clear(){throw new Error("Map cannot be mutated")}delete(e){throw new Error("Map cannot be mutated")}entries(){return Et(e=>[e[0],e[1]],this)}get(e){return dn(this,e)}has(e){return wn(this,e)}keys(){return Et(e=>e[0],this)}set(e,t){throw new Error("Map cannot be mutated")}values(){return Et(e=>e[1],this)}forEach(e,t){const n=this;St(t=>{e(t[1],t[0],n)},n)}}function yn(e,t){return new an(e,t)}function dn(e,t){return function(e,t,n){const r=nn(e,t,n);if(null==r)throw new Error;return tt(r)}(e.comparer,t,e.tree)}function hn(e){return $t(e.tree)}function wn(e,t){return function(e,t,n){e:for(;;){const r=e,u=t,o=n;if(null!=o){const i=o,l=0|r.Compare(u,Ht(i));if(i instanceof Jt){if(l<0){e=r,t=u,n=Zt(i);continue e}if(0===l)return!0;e=r,t=u,n=Wt(i);continue e}return 0===l}return!1}}(e.comparer,t,e.tree)}function gn(e,t){return function(e,t){return nn(e.comparer,t,e.tree)}(t,e)}function pn(e){const t=e=>{if(0!==function(e,t,n){if(null==t)return null==n?0:-1;if(null==n)return 1;{let r=0,u=0;const o=0|t.length,i=0|n.length;if(o>i)return 1;if(o<i)return-1;for(;r<o&&0===u;)u=e(t[r],n[r]),r+=1;return 0|u}}(Se,e,null)&&2===e.length){const t=e[1];return[e[0],t]}return["",""]};return gn(e,function(e){const t=Gt();return yn(t,un(t,e))}(It(e=>t(e.trim().split("=")),document.cookie.split(";"))))}function vn(e){const t=new Fe(0);if(function(e,t){if(null!=e&&/\S/.test(e)){const n=+e.replace("_","");if(!Number.isNaN(n))return t.contents=n,!0}return!1}(e,t))return t.contents;throw new Error("Input string was not in a correct format.")}an.empty=yn(Gt(),void 0);const mn=Ee([]),xn=Ee([]);function bn(e,t,n,r,u){const o=u*u,i=o*u;return(2*i-3*o+1)*t+(i-2*o+u)*(1*(t-e)*0/2+1*(n-t)*0/2)+(i-o)*(1*(n-t)*0/2+1*(r-n)*0/2)+(-2*i+3*o)*n}function Sn(e){let t=e;"#"===t[0]&&(t=t.slice(1,t.length));return[i(t.slice(0,2),511,!1,32,16)/255,i(t.slice(2,4),511,!1,32,16)/255,i(t.slice(4,6),511,!1,32,16)/255]}const En=document.getElementById("p1x"),zn=document.getElementById("p1c"),An=document.getElementById("p2x"),Pn=document.getElementById("p2c"),Cn=document.getElementById("p3x"),kn=document.getElementById("p3c"),Rn=document.getElementById("p4x"),Mn=document.getElementById("p4c"),_n=document.getElementById("p5x"),Tn=document.getElementById("p5c"),In=document.getElementById("resetpallette"),Dn=pn("p1x"),On=pn("p1c"),Bn=pn("p2x"),Un=pn("p2c"),qn=pn("p3x"),jn=pn("p3c"),Nn=pn("p4x"),Fn=pn("p4c"),Gn=pn("p5x"),Ln=pn("p5c");function Yn(){const e=Sn(zn.value),t=e[0],n=e[1],r=e[2],u=Sn(Pn.value),o=u[0],i=u[1],l=u[2],s=Sn(kn.value),c=s[0],f=s[1],a=s[2],y=Sn(Mn.value),d=y[0],h=y[1],w=y[2],g=Sn(Tn.value),p=g[0],v=g[1],m=g[2];mn([[vn(En.value),t,n,r],[vn(An.value),o,i,l],[vn(Cn.value),c,f,a],[vn(Rn.value),d,h,w],[vn(_n.value),p,v,m],[1,t,n,r]],!0),xn(It(e=>[1250*e[0],150*e[1],150*e[2],150*e[3]],mn()),!0),An.min=En.value,An.max=Cn.value,Cn.min=An.value,Cn.max=Rn.value,Rn.min=Cn.value,Rn.max=_n.value,_n.min=Rn.value;const x=En.value;document.cookie=Je(He("p1x=%s"))(x);const b=zn.value;document.cookie=Je(He("p1c=%s"))(b);const S=An.value;document.cookie=Je(He("p2x=%s"))(S);const E=Pn.value;document.cookie=Je(He("p2c=%s"))(E);const z=Cn.value;document.cookie=Je(He("p3x=%s"))(z);const A=kn.value;document.cookie=Je(He("p3c=%s"))(A);const P=Rn.value;document.cookie=Je(He("p4x=%s"))(P);const C=Mn.value;document.cookie=Je(He("p4c=%s"))(C);const k=_n.value;document.cookie=Je(He("p5x=%s"))(k);const R=Tn.value;document.cookie=Je(He("p5c=%s"))(R)}const Hn=document.getElementById("pallettecanv");Hn.width=1250,Hn.height=150;const Xn=Hn.getContext("2d"),Jn=[Bt([4,0,1,2]),Bt([0,1,2,3]),Bt([1,2,3,4]),Bt([2,3,4,0]),Bt([3,4,0,1])];function Vn(e){let t,n=0;for(;e>(t=xn()[n+1][0],t);)n+=1;n===xn().length-1&&(n-=1);const r=Jn[n],u=xn()[Nt(0,r)],o=xn()[Nt(1,r)];let i;if(n<4)i=xn()[Nt(2,r)];else{const e=xn()[Nt(2,r)];i=[e[0]+1250,e[1],e[2],e[3]]}return[u,o,i,xn()[Nt(3,r)]]}function Zn(){const e=dt(zt(0,1,1250));try{for(;e["System.Collections.IEnumerator.MoveNext"]();){const t=e["System.Collections.Generic.IEnumerator`1.get_Current"](),n=Vn(t),r=n[3][1],u=n[3][2],o=n[3][3],i=n[2][0],l=n[2][1],s=n[2][2],c=n[2][3],f=n[1][0],a=n[1][1],y=n[1][2],d=n[1][3],h=n[0][1],w=n[0][2],g=n[0][3],p=(t-f)/(i-f),v=bn(h,a,l,r,p),m=bn(w,y,s,u,p),x=bn(g,d,c,o,p),b=x/150*255,S=m/150*255,E=v/150*255;Xn.fillStyle=Je(He("rgb(%f, %f, %f)"))(E)(S)(b),Xn.fillRect(t,0,1,150),Xn.fillStyle="rgb(255, 0, 0)",Xn.fillRect(t,150-v-1,1,1),Xn.fillStyle="rgb(0, 255, 0)",Xn.fillRect(t,150-m-1,1,1),Xn.fillStyle="rgb(0, 0, 255)",Xn.fillRect(t,150-x-1,1,1)}}finally{e.Dispose()}for(let e=0;e<=xn().length-1;e++){const t=xn()[e],n=t[0],r=t[1],u=t[2],o=t[3];Xn.fillStyle="rgb(255, 0, 0)",Xn.fillRect(n-3,150-r-3,5,5),Xn.fillStyle="rgb(0, 255, 0)",Xn.fillRect(n-3,150-u-3,5,5),Xn.fillStyle="rgb(0, 0, 255)",Xn.fillRect(n-3,150-o-3,5,5)}}function Wn(e){const t=Vn(e),n=t[3][1],r=t[3][2],u=t[3][3],o=t[2][0],i=t[2][1],l=t[2][2],s=t[2][3],c=t[1][0],f=t[1][1],a=t[1][2],y=t[1][3],d=t[0][1],h=t[0][2],w=t[0][3],g=(e-c)/(o-c);return[bn(d,f,i,n,g)/150*255,bn(h,a,l,r,g)/150*255,bn(w,y,s,u,g)/150*255]}function Qn(e){let t=[];const n=dt(zt(0,1250/e,1249));try{for(;n["System.Collections.IEnumerator.MoveNext"]();){t=Tt(t,[Wn(n["System.Collections.Generic.IEnumerator`1.get_Current"]())])}}finally{n.Dispose()}return t}function $n(){Yn(),Zn()}function Kn(e,t){const n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),n}function er(e,t,n){const r=e.getAttribLocation(t,n);return e.enableVertexAttribArray(r),r}class tr{constructor(e){this.k=e}}function nr(e){return new tr(e)}function rr(e){return e.k}class ur extends tr{constructor(e,t,n,r){super(e),this.left=t,this.right=n,this.h=r}}function or(e,t,n,r){return new ur(e,t,n,r)}function ir(e){return e.left}function lr(e){return e.right}function sr(e){return e.h}function cr(e){return function e(t,n){e:for(;;){const r=t,u=n;if(null!=r){const o=r;if(o instanceof ur){t=ir(o),n=e(lr(o),u+1);continue e}return u+1|0}return 0|u}}(e,0)}function fr(e,t,n){let r;if(null!=e){const t=e;r=t instanceof ur?sr(t):1}else r=0;let u;if(null!=n){const e=n;u=e instanceof ur?sr(e):1}else u=0;const o=0|(r<u?u:r);return 0===o?nr(t):or(t,e,n,o+1)}function ar(e,t,n){let r,u,o,i,l;if(null!=e){const t=e;l=t instanceof ur?sr(t):1}else l=0;let s;if(null!=n){const e=n;s=e instanceof ur?sr(e):1}else s=0;if(s>l+2){const o=tt(n);if(o instanceof ur){if(r=ir(o),(null!=r?(u=r,u instanceof ur?sr(u):1):0)>l+1){const n=tt(ir(o));if(n instanceof ur)return fr(fr(e,t,ir(n)),rr(n),fr(lr(n),rr(o),lr(o)));throw new Error("internal error: Set.rebalance")}return fr(fr(e,t,ir(o)),rr(o),lr(o))}throw new Error("internal error: Set.rebalance")}if(l>s+2){const r=tt(e);if(r instanceof ur){if(o=lr(r),(null!=o?(i=o,i instanceof ur?sr(i):1):0)>s+1){const e=tt(lr(r));if(e instanceof ur)return fr(fr(ir(r),rr(r),ir(e)),rr(e),fr(lr(e),t,n));throw new Error("internal error: Set.rebalance")}return fr(ir(r),rr(r),fr(lr(r),t,n))}throw new Error("internal error: Set.rebalance")}return fr(e,t,n)}function yr(e,t,n){if(null!=n){const r=n,u=0|e.Compare(t,rr(r));if(r instanceof ur)return u<0?ar(yr(e,t,ir(r)),rr(r),lr(r)):0===u?n:ar(ir(r),rr(r),yr(e,t,lr(r)));{const u=0|e.Compare(t,rr(r));return u<0?or(t,void 0,n,2):0===u?n:or(t,n,void 0,2)}}return nr(t)}function dr(e,t,n){if(null!=n){const r=n,u=0|e.Compare(t,rr(r));if(r instanceof ur){if(u<0)return ar(dr(e,t,ir(r)),rr(r),lr(r));if(0===u){if(null==ir(r))return lr(r);if(null==lr(r))return ir(r);{const e=function e(t){if(null!=t){const n=t;if(n instanceof ur){if(null==ir(n))return[rr(n),lr(n)];{const t=e(ir(n));return[t[0],fr(t[1],rr(n),lr(n))]}}return[rr(n),void 0]}throw new Error("internal error: Set.spliceOutSuccessor")}(lr(r));return fr(ir(r),e[0],e[1])}}return ar(ir(r),rr(r),dr(e,t,lr(r)))}return 0===u?void 0:n}return n}function hr(e,t,n){e:for(;;){const r=e,u=t,o=n;if(null!=o){const i=o,l=0|r.Compare(u,rr(i));if(i instanceof ur){if(l<0){e=r,t=u,n=ir(i);continue e}if(0===l)return!0;e=r,t=u,n=lr(i);continue e}return 0===l}return!1}}function wr(e,t){e:for(;;){const n=e,r=t;if(null!=r){const u=r;if(u instanceof ur){wr(n,ir(u)),n(rr(u)),e=n,t=lr(u);continue e}n(rr(u))}break}}class gr extends Ne{constructor(e,t){super(),this.stack=e,this.started=t}}function pr(e){e:for(;;){const t=e;if(null==t.tail)return new De;{const n=t.head,r=t.tail;if(null!=n){const u=n;if(u instanceof ur){e=new De(ir(u),new De(nr(rr(u)),new De(lr(u),r)));continue e}return t}e=r}}}function vr(e){return new gr(pr(new De(e,new De)),!1)}function mr(e){if(e.started){const t=e.stack;if(null==t.tail)return function(){throw new Error("Enumeration already started")}();if(null!=t.head){return rr(t.head)}throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}function xr(e){let t=vr(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>mr(t),"System.Collections.IEnumerator.get_Current":()=>mr(t),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const t=e.stack;if(null!=t.tail){if(null!=t.head){if(t.head instanceof ur)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=pr(t.tail),!(null==e.stack.tail)}throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return!1}return e.started=!0,!(null==e.stack.tail)}(t),"System.Collections.IEnumerator.Reset"(){t=vr(e)},Dispose(){}}}function br(e,t,n){return null==t?null==n?0:-1:null==n?1:0|function(e,t,n){e:for(;;){const r=e,u=t,o=n,i=[u,o];if(null==i[0].tail)return null==i[1].tail?0:-1;if(null==i[1].tail)return 1;if(null!=i[1].head)if(null!=i[0].head){const l=i[0].head,s=i[1].head;if(l instanceof ur)if(null==ir(l)){if(!(s instanceof ur)){const u=0|r.Compare(rr(l),rr(s));if(0!==u)return 0|u;e=r,t=new De(lr(l),i[0].tail),n=new De(void 0,i[1].tail);continue e}if(null==ir(s)){const u=0|r.Compare(rr(l),rr(s));if(0!==u)return 0|u;e=r,t=new De(lr(l),i[0].tail),n=new De(lr(s),i[1].tail);continue e}{const i=[u,o];let l,s,c,f,a;switch(null!=i[0].tail&&null!=i[0].head?(l=0,s=i[0].tail,c=i[0].head):null!=i[1].tail&&null!=i[1].head?(l=1,f=i[1].tail,a=i[1].head):l=2,l){case 0:if(c instanceof ur){e=r,t=new De(ir(c),new De(or(rr(c),void 0,lr(c),0),s)),n=o;continue e}e=r,t=new De(void 0,new De(nr(rr(c)),s)),n=o;continue e;case 1:if(a instanceof ur){e=r,t=u,n=new De(ir(a),new De(or(rr(a),void 0,lr(a),0),f));continue e}e=r,t=u,n=new De(void 0,new De(nr(rr(a)),f));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const i=[u,o];let l,s,c,f,a;switch(null!=i[0].tail&&null!=i[0].head?(l=0,s=i[0].tail,c=i[0].head):null!=i[1].tail&&null!=i[1].head?(l=1,f=i[1].tail,a=i[1].head):l=2,l){case 0:if(c instanceof ur){e=r,t=new De(ir(c),new De(or(rr(c),void 0,lr(c),0),s)),n=o;continue e}e=r,t=new De(void 0,new De(nr(rr(c)),s)),n=o;continue e;case 1:if(a instanceof ur){e=r,t=u,n=new De(ir(a),new De(or(rr(a),void 0,lr(a),0),f));continue e}e=r,t=u,n=new De(void 0,new De(nr(rr(a)),f));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(!(s instanceof ur)){const u=0|r.Compare(rr(l),rr(s));if(0!==u)return 0|u;e=r,t=i[0].tail,n=i[1].tail;continue e}if(null==ir(s)){const u=0|r.Compare(rr(l),rr(s));if(0!==u)return 0|u;e=r,t=new De(void 0,i[0].tail),n=new De(lr(s),i[1].tail);continue e}{const i=[u,o];let l,s,c,f,a;switch(null!=i[0].tail&&null!=i[0].head?(l=0,s=i[0].tail,c=i[0].head):null!=i[1].tail&&null!=i[1].head?(l=1,f=i[1].tail,a=i[1].head):l=2,l){case 0:if(c instanceof ur){e=r,t=new De(ir(c),new De(or(rr(c),void 0,lr(c),0),s)),n=o;continue e}e=r,t=new De(void 0,new De(nr(rr(c)),s)),n=o;continue e;case 1:if(a instanceof ur){e=r,t=u,n=new De(ir(a),new De(or(rr(a),void 0,lr(a),0),f));continue e}e=r,t=u,n=new De(void 0,new De(nr(rr(a)),f));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}}else{i[1].head;const l=[u,o];let s,c,f,a,y;switch(null!=l[0].tail&&null!=l[0].head?(s=0,c=l[0].tail,f=l[0].head):null!=l[1].tail&&null!=l[1].head?(s=1,a=l[1].tail,y=l[1].head):s=2,s){case 0:if(f instanceof ur){e=r,t=new De(ir(f),new De(or(rr(f),void 0,lr(f),0),c)),n=o;continue e}e=r,t=new De(void 0,new De(nr(rr(f)),c)),n=o;continue e;case 1:if(y instanceof ur){e=r,t=u,n=new De(ir(y),new De(or(rr(y),void 0,lr(y),0),a));continue e}e=r,t=u,n=new De(void 0,new De(nr(rr(y)),a));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(null==i[0].head){e=r,t=i[0].tail,n=i[1].tail;continue e}{i[0].head;const l=[u,o];let s,c,f,a,y;switch(null!=l[0].tail&&null!=l[0].head?(s=0,c=l[0].tail,f=l[0].head):null!=l[1].tail&&null!=l[1].head?(s=1,a=l[1].tail,y=l[1].head):s=2,s){case 0:if(f instanceof ur){e=r,t=new De(ir(f),new De(or(rr(f),void 0,lr(f),0),c)),n=o;continue e}e=r,t=new De(void 0,new De(nr(rr(f)),c)),n=o;continue e;case 1:if(y instanceof ur){e=r,t=u,n=new De(ir(y),new De(or(rr(y),void 0,lr(y),0),a));continue e}e=r,t=u,n=new De(void 0,new De(nr(rr(y)),a));continue e;case 2:throw new Error("unexpected state in SetTree.compareStacks")}}}break}}(e,new De(t,new De),new De(n,new De))}function Sr(e,t,n){let r=0|n;wr(e=>{t[r]=e,r+=1},e)}class Er{constructor(e,t){this.comparer=e,this.tree=t}GetHashCode(){return 0|function(e){let t=0;const n=dt(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const e=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+we(e)+631}}finally{n.Dispose()}return 0|Math.abs(t)}(this)}Equals(e){return e instanceof Er&&0===br(Ar(this),Pr(this),Pr(e))}toString(){return"set ["+Qe("; ",Et(e=>Te(e),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}CompareTo(e){return 0|br(Ar(this),Pr(this),Pr(e))}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return hr(Ar(this),e,Pr(this))}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(e,t){Sr(Pr(this),e,t)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Mr(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|Mr(this)}GetEnumerator(){return xr(Pr(this))}[Symbol.iterator](){return ht(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return xr(Pr(this))}get size(){return 0|Mr(this)}add(e){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(e){throw new Error("Set cannot be mutated")}has(e){return _r(this,e)}keys(){return Et(e=>e,this)}values(){return Et(e=>e,this)}entries(){return Et(e=>[e,e],this)}forEach(e,t){const n=this;St(t=>{e(t,t,n)},n)}}function zr(e,t){return new Er(e,t)}function Ar(e){return e.comparer}function Pr(e){return e.tree}function Cr(e){return zr(e,void 0)}function kr(e,t){return zr(Ar(e),yr(Ar(e),t,Pr(e)))}function Rr(e,t){return zr(Ar(e),dr(Ar(e),t,Pr(e)))}function Mr(e){return cr(Pr(e))}function _r(e,t){return hr(Ar(e),t,Pr(e))}var Tr=n(0);const Ir=function(){const e=function(e){const t=[];let n=0,r=0;for(let u=0;u<e.length;++u){const o=255^e[u];r+=(127&o)<<7*n,n++,0!=(128&o)&&(t.push(r-1),n=r=0)}return t}(Tr.a().getBytes("~~^a}i{g}i{h}l}i}e}i}m}i|qti|e{i|udh}i}l}f}n}f}ydh}e}l}e}~]a}i}gzd}i}f}d}w}j}e}}}d}f}d}e}o|f}y}i|f}o}w}k}o{i}uge}uwyfe}yvu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u|y}u}y}u}y{u|y}u}y}u|y}u{y|uzy}u|y}u{y{u|y}u|y}u}y}u}y}u|y}u}y|u}y}u|y}u{y}u}y}u|y|w}u}y{wzu}v}y}u}v}y}u}v}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|u}v}y}u}y}u{y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}ywu|y}u|y|u}y}uzy}u}y}u}y}u}y}u}y9w}ycxlfzxrfpxyfwx}f}x}fmru}y}u}y}x}f}u}y}||x}y{i}u}|zf|u}i}u{|}u}|}u|y}um|}uuy[u}y|u{y{u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}yyu}y}e}u}y}u|y|uKyNu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}d}rys|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u|y}u}y}u}y}u}y}u}y}u}y}u}y|u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}|}uX||x}ix|}yW|}i}m}||d|g}|}rQm}r}i}r|i}r|i}r}|vwc|yw{i||s}xe{i|g}i|d|rsi}}}|}i|w^x}wtriqtizw|r}wi}w}rw}}d}rxx|r|d}rzw|qtw{d|w}ip|}}}w}r}w`rc||w%rsw}|pqtw]rux|d}i{x}|ywhrzx}rux}r{x}ry||io|}wer{||i}|=wi|}wv|hrp}}r^t}wHr}t}r}w}t{rvtzr}t|w}rwwtr|i|qti}x}wor}t||}wv||w|||wh|}ww|}w}|{wz||r}w}t{rz||t|||t|r}w}|vt}|zw||}w{r|||qtw|g|oxd}g}|yr|t}|}wx|zw|||wh|}ww|}w||}w||}w|||r}|}t{r||zr|||r{|{r}|wwz|}w}|wqtr|w{r}|sr|t}|}wu|}w{|}wh|}ww|}w||}wy||r}w}t{ry|}r|t}|}t|r}||w}|ow|r|||qti}g}|ww}|wr}t||}wv||w|||wh|}ww|}w||}wy||r}w}t}r}t}rz||t|||t|r}|vr}t}|zw||}w{r|||qtd}w}ox|tr}w}|}wx|{w{|}wz|{w||}w}|}w||{w||{w{|{wr|zt|r}t||{t{|}t{r}||w}|xt}|pqto{dxg}d}|yr}t{|}wv|}w{|}wg|}wn|{w}r{tz|}r{|}rz|wr||}w{|yw|r|||qt|vowd}w}r}t||}wv|}w{|}wg|}wt|}wy||r}w}t}r}ty|}r}t||}t|r||wt||ww}|}w|r|||qt|}w||pr}t||}wv|}w{|}wU||w}t{rz|}t{|}t{r}w}d}|zw{t}oww{r|||qtoud}wx||t||}wl|{wf|}wu|}w}||ww|{r}|zt{r{|}r}|}tv|xqt||t|i}|rwNr}w|rw|zg}wxx}rvi}qti||Yw||}w}||w||}w}||w}|xwz|}ww|}w{|}w}|}w}||w||}wzr}w|rx|}r|w}||wy|}x}|}rx||qt||wz|^w}d{iod}i}d{r|dxqtotd}r}d}r}d}r}h}l}h}l}t|wv|}wZ|zrpt}ryi}r|wyrs|}rZ|}dvr}dx|}d|iydzi||YwSt|rzt}rxt}r|t|r|w}qtixwxt|r|wzr{w}t{w|tww{rzwqr}t|r|txr}w}t}qtt{r}d|uX|}u}|yu}||wSi}x}w�}|}wz||ww|}w}|}wz||wU|}wz||w]|}wz||ww|}w}|}wz||wo|}wE|}wz||w;||r{iuoj|{wndt|xu(||yx||m}w�{i|wma}wdh}l}|{w3i{p{wv|wwq|}wzr{|swlr{i||uwlr||rwq|}w{|}r||rwJr|t}rwtvr}t|rsi{x}i{g}w}r}||qt|xot|xixm}izr{}}|}qt|xw[x}wJ|vwyr|w\\r}w}|yw8|tw_|}r{tzr|t{|zt|r}txr{|zd}|{i|qtw`||wy|swR|zwd|xqto}|{d\\wgr|t|r}||i|wIt}r}t}rw|}r}t}r}t|rvtxrt||r}qt|xqt|xiwx}ix||rps}|=rzt}wOr}t}ryt}r}tyr}t|ww|zqtiwdtrudu|{r|t}w`t}rzt|r|t}r{w|qtwRr}t}r|t{r}t}r{t||vizwZtvrvt|r||{iyqt|{w{qtw`xxi|yu|Giv|vr{i}rqt}rwwzr}wzt|r}w||}r||xyRx?yqx}y\\xYrH|yryu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}yuu}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}yuuvyx||ux||yvuvyvuvyx||ux||yv|}u}|}u}|}u}|}u}yvuvyp||yvvvyvvvyvvvyy|}y|uzv}f}y}f{y{|}y|uzv}f{yz||y|uz|}f{yvuyf{||y{|}y|uzv}f||}as}ymxi|j}k}h}j|k}h}j}ivc}b}}ya}iuj}k}izn|i{e}h}l}ise}i}n}ita}}y|}}to}x}||oxe{h}l}x}ote{h}l}|}xq|{g_|mrqszr}s{rr|od|u}dzu}d|y}u{y|u{y}d}u}d|e}uydxu}d}u}d}u}d}uzd}y}uzy}wzy}d|y|u|eyu}yzd}e}d|y}d}onp[u}y}pzo}d||zeydye|dze}d|e}d|e}dwe}d_e|d|e}d}e}d_e�}dvh}l}h}l}dje|dwh}l}d-e}d`eedVexda|}dW|eds|ioBd0ohd�~e}due}dHevde}d�~h}l}h}l}h}l}h}l}h}l}h}l}h}l}o`dReyh}l}e_h}l}h}l}h}l}h}l}h}l}end�}e�~h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}e?h}l}h}l}e^h}l}e�}dNeid|exdW||d^||d\\|{dr|}dv|ddz|nuO|}yO|}u}y}u{y|u}y}u}y}u}y}uzy}u}y|u}yxx|u{y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y|dxu}y}u}y}r{u}y}|yizo}i|yX|}y}|yy}||wF|wx}i}|pr}wg|uww|}ww|}ww|}ww|}ww|}ww|}ww|}ww|}r^i|j}k}j}k}i{j}k}i}j}k}ium}i|m}i}j}k}i|j}k}h}l}h}l}h}l}h}l}iyx}itm|izm}i}h}i||Cdd|}d%|rd�~|ddr|za}i{d}x}w}p}h}l}h}l}h}l}h}l}h}l}d|h}l}h}l}h}l}h}l}m}h}l|d}purzt|m}xyd|p{x}w}i}d||}w(||r|f|x|w}m}w$i}x{w}|ywU|{w |}d|ozdtwc|ydZ|rwnd_|}otd`ovd}ood^otdWood?|}d�}w�L|td>w��~|Twix}w�w|{dG|uwVxxi|w�}x}i{wnqtw||ju}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}w}r}s{i}rti}x}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}x|r|w8ptr|ix|vfgxuf|u}y}u}y}u}y}u}y}u}y}u}y}u}y{u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}x}yvu}y}u}y}u|y}u}y}u}y}u}y}u}y}x}f|u}y}u}y}w}u}y}u}y{u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}u}y}uy|}uyy}u}y}|?w}x|y}wwr}w{r}wzr}wgt|r|t}dz|zoxd|g}d}|xwJiz|vt|wLtnr||vi|qt|xrlwxi{w}i}w}||qtwbrvi|wgrst||si}wa|{r{t}wOr}t|rzt|r}tziq|}x}qt|zi|wyr}x}wuqtwy|}wUrxt|r|t|r||uw{r}wvr}t}||qt||izwnx}wxd{w}t}r}t}wLr}w}r{w|r|wyr|w}r}w}|fw|x}i|wst}r|t|i|w}x|t}r}|twx||wx||wx|uww|}ww|}ySf}xzyx|ty.w[t|r}t|r}t|i}t}r}||qt|xw�(|rwg|zwM|zz�o{�Mw�}||w|Xyw|ryy|yw}r}wte}wq|}wy|}w}|}w||}w||}wfn|mw�}l}h}|nw>||wH|Vwrg}d}||rniwh}l}i}|xrni}m|n|h}l}h}l}h}l}h}l}h}l}h}l}h}l}h}l}i|h}l}izn{i{|}izm}h}l}h}l}h}l}i{e}m}e{|}i}g}i||zwy|}w�~||}}|}i{g}i{h}l}i}e}i}m}i|qti|e{i|udh}i}l}f}n}f}ydh}e}l}e}h}l}i}h}l}i|wtx}wQx|w_|{wx||wx||wx||w{|{g|e}f}d}g||}d}ezd||t}{d|||wr|}wd|}wk|}w||}wo||wp|\\w|yi{|zoQ|{dupIozdmo|d{|}dr|zd}|OdQr}|�~wa|{wM|or}oc|zw^oz|rwmp}wvp}|ywXry|yw`|}i}wZ|zwvi}py|TuVyVw0||qt|xuZ|zyZ|zwV|vwJ|si}|�~w�}|uwh|twv|�~wx||w}|}wR|}w||{w}||wg|}i}ovwgd|oww_|vou|Nwk|}w||yoywhox|{i}wd|yi}|>wF|zo|w|on||oPw}r{|}r||yrzwz|}w{|}wc|zr{|zr}ov|viu|wwao|i}wao{|^wvd}wbr||zoyiw|uwH|{iwwh||ovwk|yovwl|wiz|row|.w5|GuK|qyK|wox|�}o_|�|t}r}t}wIroiw|zojqt|or{t}wQt{rzt|r|i|}}iz|pwe|wqt|xr{wZryt}rv|}qtiz|rw[r}i|w}|ur|t}wNt{rut|wziyr{i}||qtw}i}w}i{|}oj|swl|}wet{r{t|r}t}r|ixr}|=ww|}w}|}wz|}wo|}wti}|xwOr}t{rv|yqt|xr|t||}wv||w|||wh|}ww|}w||}wy||r}w}t|r}tz||t|||t{||w}|xt}|ywyt|||rw|{ry|�~wIt{rvt|r{t}r}wziyqt|}i}|}i}|\\wNt{rxt}r}tzr|t}r|w|i}w}|vqt|�~wOt{rz||tzr|t}r|igwzr||\\wNt{rvt|r}t}r|i{w}|sqt|xiq|kwSr}t}r}t|rxt}r}|vqt|Hwd|{r{t|rzt}ry|zqto|i{d}|�}u^y^qtou|rw}|�|wE|�}wu|}wYt}rw|}rxt}r}w}iy|tqtok|{i|w`||rh|}t}rwt}r|t}r||�yw�x|p|}iy|sw�~|�jw�w|�`w�{|�<w�{|ww_|}qt|zi||w`||ryi}|twNrwiydzxzi}d}|tqt|}ow|}wi|ywk|�yw9|sw}tP|nrzxq|>x}|_w�P|kw�z|�5w||�hw|ywq|{wu|wwt||d}r|i}}z|�Yd�~|tdW||dBt|r{d{tx}vrvd|rwd`rzdC|gd<r{d}|�~d'|uol|�~udydudyw|}yludydu}|}u|||u}||u|||uz|}uvyz|}y}|}yw|}ysudydu||}uz||uv|}uw|}ydu||}uz|}uy|}u}|{uw|}ydudydudydudydudydudydudyb||uee}yee}yxuee}yee}yxuee}yee}yxuee}yee}yxuee}yee}yxu}y}||qLd�{rGdzrLdvr}dpr}d|iy|ory|}ro|�urw|}rm||rw|}r||}ry|�pw�~||ourw|Uu\\y\\rw|yqt|zi||�vwz|}wc|}w||}w}||w}|}wt|}wz|}w}|}w}|xw}|zw}|}w}|}w}|}w{|}w||}w}||w}|}w}|}w}|}w}|}w}|}w||}w}||wz|}ww|}wz|}wz|}w}|}wt|}wm|yw{|}wy|}wm|Je||�}dR|zd|rdo||do|}do|}dY|toq|{d_|}dB|zdA|Eda|qdR|zdu|wd||�~d�~fyd�z|qdq|{dw|ud\n|rd)|Sdr|zdF|vdt|xdV|vd`|do|}dv|vd}||dr|}dr|zdo|]dl|Pd}|�sw��}|Uw�_|sw�~||w�R|�-w�{|��S}}|`}|�~r�~|�|{��|||{��||")),t=new Uint32Array(e.length/2),n=new Uint8Array(e.length/2),r=new Uint8Array([14,15,29,17,16,1,3,4,2,0,6,7,5,8,9,10,18,19,21,23,22,24,20,26,27,25,28,12,13,11]);let u=0;for(let r=0;r<e.length;r+=2)t[r/2]=u+=e[r],n[r/2]=e[r+1];return e=>{let u=t.length,o=0;for(;u-o>1;){const n=Math.floor((u+o)/2),r=t[n];if(e<r)u=n;else{if(e===r){u=o=n;break}r<e&&(o=n)}}return r[n[o]]}}();function Dr(e,t){if(t>=0&&t<e.length)return e.charCodeAt(t);throw new Error("Index out of range.")}const Or=e=>function(e,t){return 0!=(1<<Br(e,t)&256)}(e,0);function Br(e,t){const n=Dr(e,t);return Ir(n)}const Ur=1280,qr=720,jr=[[0,.8],[.37,.1],[.355,.355],[-.54,.54],[-.4,-.59],[.34,-.05],[-.687,.312],[-.673,.312],[-.75,-.15],[.355534,.337292]];function Nr(e){return document.querySelector(Je(He("#%s"))(e))}const Fr=Nr("pallettemaker"),Gr=Nr("settingsmandelbrot"),Lr=Nr("settingsmandelbox"),Yr=Nr("settingsjulia");function Hr(e){return document.querySelector(Je(He("#%s"))(e))}const Xr=Hr("zoom"),Jr=Hr("x"),Vr=Hr("y"),Zr=Hr("palletteoffset"),Wr=Hr("fractal"),Qr=Hr("mandelbrot"),$r=Hr("burningship"),Kr=Hr("mandelbox"),eu=Hr("mandelbrotpower"),tu=Hr("mandelboxscale"),nu=Hr("julia"),ru=Hr("juliax"),uu=Hr("juliay"),ou=Hr("usedoub"),iu=document.querySelector("#juliapresets");function lu(e){return document.querySelector(Je(He("#%s"))(e))}const su=lu("fullscreen"),cu=lu("pallettebutton"),fu=lu("centre"),au=lu("reset"),yu=lu("saveimage"),du=pn("x"),hu=pn("y"),wu=pn("zoom"),gu=pn("palletteoffset"),pu=pn("generator"),vu=pn("mandelbrotpower"),mu=pn("mandelboxscale"),xu=pn("jx"),bu=pn("jy"),Su=pn("usedoub");function Eu(){if([du,hu,wu,gu,pu,vu,mu,xu,bu,Su,Dn,On,Bn,Un,qn,jn,Nn,Fn,Gn,Ln].every(e=>!(null==e)))try{Jr.value=tt(du),Vr.value=tt(hu),Xr.value=tt(wu),Zr.value=tt(gu);switch(tt(pu)){case"1":Qr.checked=!0,Gr.hidden=!1;break;case"2":nu.checked=!0,Yr.hidden=!1;break;case"3":$r.checked=!0;break;case"4":Kr.checked=!0,Lr.hidden=!1}eu.value=tt(vu),tu.value=tt(mu),ru.value=tt(xu),uu.value=tt(bu),ou.checked="true"===tt(bu),En.value=tt(Dn),zn.value=tt(On),An.value=tt(Bn),Pn.value=tt(Un),Cn.value=tt(qn),kn.value=tt(jn),Rn.value=tt(Nn),Mn.value=tt(Fn),_n.value=tt(Gn),Tn.value=tt(Ln)}catch(e){}}Eu();const zu=Ee(vn(Xr.value)),Au=Ee(vn(Jr.value)),Pu=Ee(vn(Vr.value)),Cu=Ee(vn(Zr.value)),ku=Ee(Qr.checked?1:nu.checked?2:$r.checked?3:Kr.checked?4:-1),Ru=Ee(vn(eu.value)),Mu=Ee(vn(tu.value)),_u=Ee(vn(ru.value)),Tu=Ee(vn(uu.value)),Iu=Ee(ou.checked),Du=document.querySelector("#canv");Du.width=Ur,Du.height=qr;const Ou=Du.getContext("webgl");var Bu;(Bu=Ou).clearColor(0,0,0,0),Bu.clearDepth(1),Bu.enable(Bu.DEPTH_TEST),Bu.depthFunc(Bu.LEQUAL),Bu.clear(Bu.COLOR_BUFFER_BIT),Bu.clear(Bu.DEPTH_BUFFER_BIT);const Uu=function(e,t,n){let r,u;const o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,t),e.compileShader(o),""!==e.getShaderInfoLog(o)&&(window.alert(et((r=e.getShaderInfoLog(o),Je(He("VERTEX SHADER LOG: %s"))(r)))),console.error(et("VERTEX SHADER LOG:"),e.getShaderInfoLog(o)));const i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,n),e.compileShader(i),""!==e.getShaderInfoLog(i)&&(window.alert(et((u=e.getShaderInfoLog(i),Je(He("FRAGMENT SHADER LOG: %s"))(u)))),console.error(et("FRAGMENT SHADER LOG:"),e.getShaderInfoLog(i)));const l=e.createProgram();return e.attachShader(l,o),e.attachShader(l,i),e.linkProgram(l),l}(Ou,"\r\n    precision highp float;\r\n    precision highp int;\r\n\r\n    attribute vec4 aVertexPosition;\r\n    attribute vec2 aTextureCoord;\r\n    varying vec2 vTextureCoord;\r\n    void main() {\r\n        gl_Position = aVertexPosition;\r\n        vTextureCoord = aTextureCoord;\r\n    }\r\n    ","\r\n    precision highp float;\r\n    precision highp int;\r\n    \r\n    varying vec2 vTextureCoord;\r\n    uniform float uZoom;\r\n    uniform float xc;\r\n    uniform float yc;\r\n    uniform float uPalletteOffset;\r\n    uniform float uRatio;\r\n    uniform float uGenerator;\r\n    uniform float uMandelbrotPower;\r\n    uniform float uMandelboxScale;\r\n    uniform float uJuliaX;\r\n    uniform float uJuliaY;\r\n\r\n    uniform int uUseDoub;\r\n    uniform vec2 uZoomDoub;\r\n    uniform vec2 xcDoub;\r\n    uniform vec2 ycDoub;\r\n\r\n    uniform vec3 uPallette[76];\r\n\r\n    const float MAX = 1000.;\r\n\r\n    vec3 getPallette(int index) {\r\n        if (index == 0) { return uPallette[0] / 255.0; }\r\n        else if (index == 1) { return uPallette[1] / 255.0; }\r\n        else if (index == 2) { return uPallette[2] / 255.0; }\r\n        else if (index == 3) { return uPallette[3] / 255.0; }\r\n        else if (index == 4) { return uPallette[4] / 255.0; }\r\n        else if (index == 5) { return uPallette[5] / 255.0; }\r\n        else if (index == 6) { return uPallette[6] / 255.0; }\r\n        else if (index == 7) { return uPallette[7] / 255.0; }\r\n        else if (index == 8) { return uPallette[8] / 255.0; }\r\n        else if (index == 9) { return uPallette[9] / 255.0; }\r\n        else if (index == 10) { return uPallette[10] / 255.0; }\r\n        else if (index == 11) { return uPallette[11] / 255.0; }\r\n        else if (index == 12) { return uPallette[12] / 255.0; }\r\n        else if (index == 13) { return uPallette[13] / 255.0; }\r\n        else if (index == 14) { return uPallette[14] / 255.0; }\r\n        else if (index == 15) { return uPallette[15] / 255.0; }\r\n        else if (index == 16) { return uPallette[16] / 255.0; }\r\n        else if (index == 17) { return uPallette[17] / 255.0; }\r\n        else if (index == 18) { return uPallette[18] / 255.0; }\r\n        else if (index == 19) { return uPallette[19] / 255.0; }\r\n        else if (index == 20) { return uPallette[20] / 255.0; }\r\n        else if (index == 21) { return uPallette[21] / 255.0; }\r\n        else if (index == 22) { return uPallette[22] / 255.0; }\r\n        else if (index == 23) { return uPallette[23] / 255.0; }\r\n        else if (index == 24) { return uPallette[24] / 255.0; }\r\n        else if (index == 25) { return uPallette[25] / 255.0; }\r\n        else if (index == 26) { return uPallette[26] / 255.0; }\r\n        else if (index == 27) { return uPallette[27] / 255.0; }\r\n        else if (index == 28) { return uPallette[28] / 255.0; }\r\n        else if (index == 29) { return uPallette[29] / 255.0; }\r\n        else if (index == 30) { return uPallette[30] / 255.0; }\r\n        else if (index == 31) { return uPallette[31] / 255.0; }\r\n        else if (index == 32) { return uPallette[32] / 255.0; }\r\n        else if (index == 33) { return uPallette[33] / 255.0; }\r\n        else if (index == 34) { return uPallette[34] / 255.0; }\r\n        else if (index == 35) { return uPallette[35] / 255.0; }\r\n        else if (index == 36) { return uPallette[36] / 255.0; }\r\n        else if (index == 37) { return uPallette[37] / 255.0; }\r\n        else if (index == 38) { return uPallette[38] / 255.0; }\r\n        else if (index == 39) { return uPallette[39] / 255.0; }\r\n        else if (index == 40) { return uPallette[40] / 255.0; }\r\n        else if (index == 41) { return uPallette[41] / 255.0; }\r\n        else if (index == 42) { return uPallette[42] / 255.0; }\r\n        else if (index == 43) { return uPallette[43] / 255.0; }\r\n        else if (index == 44) { return uPallette[44] / 255.0; }\r\n        else if (index == 45) { return uPallette[45] / 255.0; }\r\n        else if (index == 46) { return uPallette[46] / 255.0; }\r\n        else if (index == 47) { return uPallette[47] / 255.0; }\r\n        else if (index == 48) { return uPallette[48] / 255.0; }\r\n        else if (index == 49) { return uPallette[49] / 255.0; }\r\n        else if (index == 50) { return uPallette[50] / 255.0; }\r\n        else if (index == 51) { return uPallette[51] / 255.0; }\r\n        else if (index == 52) { return uPallette[52] / 255.0; }\r\n        else if (index == 53) { return uPallette[53] / 255.0; }\r\n        else if (index == 54) { return uPallette[54] / 255.0; }\r\n        else if (index == 55) { return uPallette[55] / 255.0; }\r\n        else if (index == 56) { return uPallette[56] / 255.0; }\r\n        else if (index == 57) { return uPallette[57] / 255.0; }\r\n        else if (index == 58) { return uPallette[58] / 255.0; }\r\n        else if (index == 59) { return uPallette[59] / 255.0; }\r\n        else if (index == 60) { return uPallette[60] / 255.0; }\r\n        else if (index == 61) { return uPallette[61] / 255.0; }\r\n        else if (index == 62) { return uPallette[62] / 255.0; }\r\n        else if (index == 63) { return uPallette[63] / 255.0; }\r\n        else if (index == 64) { return uPallette[64] / 255.0; }\r\n        else if (index == 65) { return uPallette[65] / 255.0; }\r\n        else if (index == 66) { return uPallette[66] / 255.0; }\r\n        else if (index == 67) { return uPallette[67] / 255.0; }\r\n        else if (index == 68) { return uPallette[68] / 255.0; }\r\n        else if (index == 69) { return uPallette[69] / 255.0; }\r\n        else if (index == 70) { return uPallette[70] / 255.0; }\r\n        else if (index == 71) { return uPallette[71] / 255.0; }\r\n        else if (index == 72) { return uPallette[72] / 255.0; }\r\n        else if (index == 73) { return uPallette[73] / 255.0; }\r\n        else if (index == 74) { return uPallette[74] / 255.0; }\r\n        else if (index == 75) { return uPallette[75] / 255.0; }\r\n    }\r\n\r\n    vec3 getPalletteSmall(int index) {\r\n        if (index == 0) { return vec3(0.01253, 0.08452, 0.51573); }\r\n        else if (index == 1) { return vec3(0.06352, 0.26197, 0.69032); }\r\n        else if (index == 2) { return vec3(0.13598, 0.43791, 0.80556); }\r\n        else if (index == 3) { return vec3(0.30453, 0.60977, 0.87876); }\r\n        else if (index == 4) { return vec3(0.55496, 0.79061, 0.94006); }\r\n        else if (index == 5) { return vec3(0.79353, 0.93555, 0.98271); }\r\n        else if (index == 6) { return vec3(0.92651, 0.99970, 0.99992); }\r\n        else if (index == 7) { return vec3(0.95905, 0.96668, 0.83293); }\r\n        else if (index == 8) { return vec3(0.98314, 0.87426, 0.44273); }\r\n        else if (index == 9) { return vec3(0.99720, 0.75086, 0.08820); }\r\n        else if (index == 10) { return vec3(0.97248, 0.61366, 0.00000); }\r\n        else if (index == 11) { return vec3(0.66576, 0.38345, 0.00000); }\r\n        else if (index == 12) { return vec3(0.24680, 0.13969, 0.00000); }\r\n        else if (index == 13) { return vec3(0.00368, 0.00974, 0.00000); }\r\n        else if (index == 14) { return vec3(0.00000, 0.01095, 0.09399); }\r\n        else if (index == 15) { return vec3(0.00000, 0.02126, 0.31171); }\r\n    }\r\n\r\n    vec3 linearInterpolate(vec3 v1, vec3 v2, float f) {\r\n        return v1 * (1.0 - f) + v2 * f;\r\n    }\r\n\r\n    vec3 cosineInterpolate(vec3 v1, vec3 v2, float f) {\r\n        float f2 = (1.0 - cos(f * 3.15159)) / 2.0;\r\n        return v1 * (1.0 - f2) + v2 * f2;\r\n    }\r\n\r\n    vec2 doubOfFloat(float upper) {\r\n        return vec2(upper, 0.0);\r\n    }\r\n\r\n    vec2 doubAddDoub(vec2 doubA, vec2 doubB) {\r\n        vec2 doubC;\r\n        float t1, t2, e;\r\n\r\n        t1 = doubA.x + doubB.x;\r\n        e = t1 - doubA.x;\r\n        t2 = ((doubB.x - e) + (doubA.x - (t1 - e))) + doubA.y + doubB.y;\r\n\r\n        doubC.x = t1 + t2;\r\n        doubC.y = t2 - (doubC.x - t1);\r\n        return doubC;\r\n    }\r\n\r\n    vec2 doubAddFloat(vec2 doub, float f) {\r\n        return doubAddDoub(doub, doubOfFloat(f));\r\n    }\r\n\r\n    vec2 doubMulDoub(vec2 doubA, vec2 doubB) {\r\n        vec2 doubC;\r\n        float c11, c21, c2, e, t1, t2;\r\n        float a1, a2, b1, b2, cona, conb, split = 8193.;\r\n\r\n        cona = doubA.x * split;\r\n        conb = doubB.x * split;\r\n        a1 = cona - (cona - doubA.x);\r\n        b1 = conb - (conb - doubB.x);\r\n        a2 = doubA.x - a1;\r\n        b2 = doubB.x - b1;\r\n\r\n        c11 = doubA.x * doubB.x;\r\n        c21 = a2 * b2 + (a2 * b1 + (a1 * b2 + (a1 * b1 - c11)));\r\n\r\n        c2 = doubA.x * doubB.y + doubA.y * doubB.x;\r\n\r\n        t1 = c11 + c2;\r\n        e = t1 - c11;\r\n        t2 = doubA.y * doubB.y + ((c2 - e) + (c11 - (t1 - e))) + c21;\r\n\r\n        doubC.x = t1 + t2;\r\n        doubC.y = t2 - (doubC.x - t1);\r\n        return doubC;\r\n    }\r\n\r\n    vec2 doubMulFloat(vec2 doub, float f) {\r\n        return doubMulDoub(doub, doubOfFloat(f));\r\n    }\r\n\r\n    vec2 doubDot(vec2 x, vec2 y) {\r\n        return doubAddDoub(doubMulDoub(x, x), doubMulDoub(y, y));\r\n    }\r\n\r\n    vec2 compPower(vec2 z, float n) {\r\n        return vec2(\r\n            pow(z.x * z.x + z.y * z.y, n / 2.0) * cos(n * atan(z.y, z.x)),\r\n            pow(z.x * z.x + z.y * z.y, n / 2.0) * sin(n * atan(z.y, z.x))\r\n        );\r\n    }\r\n\r\n    float mandelbrot(float x, float y) {\r\n        vec2 c = vec2(x, y);\r\n        vec2 z = c;\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > sqrt(8.0)) {\r\n                float l = log(abs(uMandelbrotPower));\r\n                return float(i) - log(log(dot(z, z)) / l) / l + 4.0;\r\n            }\r\n            if (uMandelbrotPower == 2.0) {\r\n                z = vec2(z.x*z.x - z.y*z.y + c.x, 2.0*z.x*z.y + c.y);\r\n            } else {\r\n                z = compPower(z, uMandelbrotPower) + c;\r\n            }\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float mandelbrotDoub(vec2 x, vec2 y) {\r\n        vec2 zx = x;\r\n        vec2 zy = y;\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(zy, zy)).x > 4096.0) {\r\n                return float(i) - log2(log2(doubDot(zx, zy).x)) + 4.0;\r\n            }\r\n            vec2 zxTemp = doubAddDoub(doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(doubOfFloat(-1.0), doubMulDoub(zy, zy))), x);\r\n            zy = doubAddDoub(doubMulFloat(doubMulDoub(zx, zy), 2.0), y);\r\n            zx = zxTemp;\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float julia(float x, float y) {\r\n        vec2 c = vec2(uJuliaX, uJuliaY);\r\n        vec2 z = vec2(x, y);\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 4096.) {\r\n                return float(i) - log2(log(dot(z, z)) / log(10.0)) + 2.0;\r\n            }\r\n            z = vec2(z.x*z.x - z.y*z.y + c.x, 2.0*z.x*z.y + c.y);\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float juliaDoub(vec2 x, vec2 y) {\r\n        vec2 zx = x;\r\n        vec2 zy = y;\r\n        vec2 cx = doubOfFloat(uJuliaX);\r\n        vec2 cy = doubOfFloat(uJuliaY);\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(zy, zy)).x > 4096.0) {\r\n                return float(i) + 1.0 - log2(log(sqrt(doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(zy, zy)).x)));\r\n            }\r\n            vec2 zxTemp = doubAddDoub(doubAddDoub(doubMulDoub(zx, zx), doubMulDoub(doubOfFloat(-1.0), doubMulDoub(zy, zy))), cx);\r\n            zy = doubAddDoub(doubMulFloat(doubMulDoub(zx, zy), 2.0), cy);\r\n            zx = zxTemp;\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float burningShip(float x, float y) {\r\n        vec2 c = vec2(x, -y);\r\n        vec2 z = c;\r\n\r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 4096.) {\r\n                return float(i) - log2(log2(dot(z, z))) + 4.0;\r\n            }\r\n            z = vec2(z.x*z.x - z.y*z.y + c.x, abs(2.0*z.x*z.y) + c.y);\r\n        }\r\n        return MAX;\r\n    }\r\n\r\n    float mandelbox(float x, float y) {\r\n        vec2 c = vec2(x, y);\r\n        vec2 z = c;\r\n        \r\n        for (int i = 0; i <= int(MAX); i++) {\r\n            if (length(z) > 4096.) {\r\n                return float(i) - log2(log2(dot(z, z))) + 4.0;\r\n            }\r\n\r\n            if (z.x > 1.) {\r\n                z.x = 2. - z.x;\r\n            } else if (z.x < -1.) {\r\n                z.x = -2. - z.x;\r\n            }\r\n            if (z.y > 1.) {\r\n                z.y = 2. - z.y;\r\n            } else if (z.y < -1.) {\r\n                z.y = -2. - z.y;\r\n            }\r\n\r\n            float mag = length(z);\r\n            if (mag < .5) {\r\n                z *= 4.;\r\n            } else if (mag < 1.) {\r\n                z /= mag * mag;\r\n            }\r\n\r\n            z = uMandelboxScale * z + c;\r\n        }\r\n        return 0.;\r\n    }\r\n\r\n    void main() {\r\n        bool useDoub = uUseDoub == 1 ? true : false;\r\n        \r\n        float m = 0.0;\r\n        if (useDoub) {\r\n            vec2 x = doubAddDoub(xcDoub, doubMulFloat(uZoomDoub, uRatio * (vTextureCoord.x - 0.5)));\r\n            vec2 y = doubAddDoub(ycDoub, doubMulFloat(uZoomDoub, vTextureCoord.y - 0.5));\r\n            if (uGenerator == 1.0) {\r\n                m = mandelbrotDoub(x, y);\r\n            } else if (uGenerator == 2.0) {\r\n                m = juliaDoub(x, y);\r\n            } else if (uGenerator == 3.0) {\r\n                m = burningShip(x.x, y.x);\r\n            } else if (uGenerator == 4.0) {\r\n                m = mandelbox(x.x, y.x);\r\n            } else {\r\n                gl_FragColor = vec4(vTextureCoord.x, vTextureCoord.y, 0.0, 1.);\r\n                return;\r\n            }\r\n        } else {\r\n            float x = xc + (vTextureCoord.x - 0.5) * uZoom * uRatio;\r\n            float y = yc + (vTextureCoord.y - 0.5) * uZoom;\r\n            if (uGenerator == 1.0) {\r\n                m = mandelbrot(x, y);\r\n            } else if (uGenerator == 2.0) {\r\n                m = julia(x, y);\r\n            } else if (uGenerator == 3.0) {\r\n                m = burningShip(x, y);\r\n            } else if (uGenerator == 4.0) {\r\n                m = mandelbox(x, y);\r\n            } else {\r\n                gl_FragColor = vec4(vTextureCoord.x, vTextureCoord.y, 0.0, 1.);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // Colouring\r\n        vec3 col = vec3(0., 0., 0.);\r\n        if (m != MAX) {\r\n            if (uGenerator == 4.0) {  // Mandelbox\r\n                m = mod(m + uPalletteOffset, 16.0);\r\n                col = getPalletteSmall(int(m));\r\n            } else {\r\n                m = mod(m + uPalletteOffset, 75.0);\r\n                vec3 col1 = getPallette(int(m));\r\n                vec3 col2 = getPallette(int(m) + 1);\r\n                float f = mod(m, 1.0);\r\n                col = linearInterpolate(col1, col2, f);\r\n            }\r\n        }\r\n        gl_FragColor = vec4(col.xyz, 1.0);\r\n    }\r\n    ");$n();const qu=Ee(Qn(76));function ju(){let e;const t=zu();document.cookie=Je(He("zoom=%f;"))(t);const n=Au();document.cookie=Je(He("x=%f;"))(n);const r=Pu();document.cookie=Je(He("y=%f;"))(r);const u=Cu();document.cookie=Je(He("palletteoffset=%f"))(u);const o=0|ku();document.cookie=Je(He("generator=%i"))(o);const i=Ru();document.cookie=Je(He("mandelbrotpower=%f"))(i);const l=Mu();document.cookie=Je(He("mandelboxscale=%f"))(l);const s=_u();document.cookie=Je(He("jx=%f"))(s);const c=Tu();document.cookie=Je(He("jy=%f"))(c);const f=Iu();document.cookie=Je(He("usedoub=%b"))(f),Jr.value=Au().toString(),Vr.value=Pu().toString(),Xr.value=zu().toString(),Zr.value=Cu().toString(),ou.checked=Iu(),eu.value=Ru().toString(),ru.value=_u().toString(),uu.value=Tu().toString(),tu.value=Mu().toString(),Jr.step=(.1*zu()).toString(),Vr.step=(.1*zu()).toString(),Xr.step=(.1*zu()).toString();const a=function(e){return[Kn(new Float64Array([-1,-1,1,-1,-1,1,1,1]),e),Kn(new Float64Array([0,0,1,0,0,1,1,1]),e)]}(Ou),y=a[0],d=a[1],h=er(Ou,Uu,"aVertexPosition"),w=er(Ou,Uu,"aTextureCoord"),g=e=>function(e,t,n){return e.getUniformLocation(t,n)}(Ou,Uu,e),p=g("uZoom"),v=g("xc"),m=g("yc"),x=g("uPalletteOffset"),b=g("uRatio"),S=g("uGenerator"),E=g("uMandelbrotPower"),z=g("uMandelboxScale"),A=g("uJuliaX"),P=g("uJuliaY"),C=(g("uZoomDoub"),g("xcDoub"),g("ycDoub"),g("uUseDoub")),k=g("uPallette");(e=>{const t=e.clientWidth,n=e.clientHeight;(e.width!==t||e.height!==n)&&(e.width=window.innerWidth*window.devicePixelRatio,e.height=window.innerHeight*window.devicePixelRatio)})(Ou.canvas),Ou.viewport(0,0,Ou.canvas.width,Ou.canvas.height),Ou.useProgram(Uu),Ou.bindBuffer(Ou.ARRAY_BUFFER,y),Ou.vertexAttribPointer(h,2,Ou.FLOAT,!1,0,0),Ou.bindBuffer(Ou.ARRAY_BUFFER,d),Ou.vertexAttribPointer(w,2,Ou.FLOAT,!1,0,0);const R=Ou.canvas.width/Ou.canvas.height;Ou.uniform1f(p,zu()),Ou.uniform1f(v,Au()),Ou.uniform1f(m,Pu()),Ou.uniform1f(x,Cu()),Ou.uniform1f(b,R),Ou.uniform1f(S,ku()),Ou.uniform1f(E,Ru()),Ou.uniform1f(z,Mu()),Ou.uniform1f(A,_u()),Ou.uniform1f(P,Tu()),Ou.uniform1i(C,Iu()?1:0),Ou.uniform3fv(k,(e=Dt(It(e=>{const t=e[0],n=e[1],r=e[2];return new Float64Array([t,n,r])},qu()),Float64Array),new Float32Array(e))),Ou.drawArrays(Ou.TRIANGLE_STRIP,0,4),Ou.useProgram(Uu)}ju(),Xr.oninput=e=>{zu(vn(Xr.value),!0),ju()},Jr.oninput=e=>{Au(vn(Jr.value),!0),ju()},Vr.oninput=e=>{Pu(vn(Vr.value),!0),ju()},eu.oninput=e=>{Ru(vn(eu.value),!0),ju()},tu.oninput=e=>{Mu(vn(tu.value),!0),ju()},Zr.oninput=e=>{Cu(vn(Zr.value),!0),ju()},ru.oninput=e=>{_u(vn(ru.value),!0),ju()},uu.oninput=e=>{Tu(vn(uu.value),!0),ju()},Qr.oninput=e=>{ku(1,!0),Gr.hidden=!1,Lr.hidden=!0,Yr.hidden=!0,ju()},nu.oninput=e=>{ku(2,!0),Gr.hidden=!0,Yr.hidden=!1,Lr.hidden=!0,ju()},$r.oninput=e=>{ku(3,!0),Gr.hidden=!0,Lr.hidden=!0,Yr.hidden=!0,ju()},Kr.oninput=e=>{ku(4,!0),Gr.hidden=!0,Yr.hidden=!0,Lr.hidden=!1,ju()},iu.oninput=e=>{const t=0|i(iu.value,511,!1,32);if(-1!==t){const e=jr[t];ru.value=e[0].toString(),uu.value=e[1].toString(),_u(e[0],!0),Tu(e[1],!0)}ju()},ou.oninput=e=>{Iu(ou.checked,!0),ju()},En.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},zn.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},An.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},Pn.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},Cn.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},kn.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},Rn.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},Mn.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},_n.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()},Tn.oninput=e=>{Yn(),Zn(),qu(Qn(76),!0),ju()};const Nu=Ee(Cr({Compare:xe}));document.onkeydown=e=>{switch(e.key){case"w":case"s":case"a":case"d":case"q":case"e":Nu(kr(Nu(),e.key),!0)}const t=dt(Nu());try{for(;t["System.Collections.IEnumerator.MoveNext"]();){switch(t["System.Collections.Generic.IEnumerator`1.get_Current"]()){case"w":Pu(Pu()+.075*zu(),!0),ju();break;case"s":Pu(Pu()-.075*zu(),!0),ju();break;case"a":Au(Au()-.075*zu(),!0),ju();break;case"d":Au(Au()+.075*zu(),!0),ju();break;case"q":zu(zu()+.075*zu(),!0),ju();break;case"e":zu(zu()-.075*zu(),!0),ju()}}}finally{t.Dispose()}},document.onkeyup=e=>{switch(e.key){case"w":case"s":case"a":case"d":case"q":case"e":Nu(Rr(Nu(),e.key),!0)}const t=dt(Nu());try{for(;t["System.Collections.IEnumerator.MoveNext"]();){switch(t["System.Collections.Generic.IEnumerator`1.get_Current"]()){case"w":Pu(Pu()+.075*zu(),!0),ju();break;case"s":Pu(Pu()-.075*zu(),!0),ju();break;case"a":Au(Au()-.075*zu(),!0),ju();break;case"d":Au(Au()+.075*zu(),!0),ju();break;case"q":zu(zu()+.075*zu(),!0),ju();break;case"e":zu(zu()-.075*zu(),!0),ju()}}}finally{t.Dispose()}},su.onclick=e=>{Du.requestFullscreen()},cu.onclick=e=>{Fr.hidden=!Fr.hidden},fu.onclick=e=>{Au(0,!0),Pu(0,!0),ju()},au.onclick=e=>{Au(0,!0),Pu(0,!0),zu(2.5,!0),Cu(0,!0),Iu(!1,!0),_u(0,!0),Tu(0,!0),Ru(2,!0),Mu(3,!0),ku(1,!0),iu.value=fe(-1),Qr.checked=!0,Gr.hidden=!1,Lr.hidden=!0,Yr.hidden=!0,ju()},In.onclick=e=>{En.value=(0).toString(),zn.value="#000764",An.value=.16.toString(),Pn.value="#206bcb",Cn.value=.42.toString(),kn.value="#edffff",Rn.value=.64.toString(),Mn.value="#ffaa00",_n.value=.855.toString(),Tn.value="#000200",$n(),qu(Qn(76),!0),ju()},yu.onclick=e=>{const t=window.prompt("Save resolution width:");if(null!=t){const e=window.prompt("Save resolution height:");if(null!=e&&xt(Or,e.split(""))&&xt(Or,t.split(""))){Du.width=vn(t),Du.height=vn(e),ju(),ju();const o=Qr.checked?"Mandelbrot":nu.checked?"Julia":$r.checked?"BurningShip":"Mandelbox";let i;const l=Zr.value,s=Xr.value,c=Vr.value,f=Jr.value;i=Je(He("%s x=%s,y=%s,zoom=%s,offset=%s %sx%s.png"))(o)(f)(c)(s)(l)(t)(e);const a=document.querySelector("#link");a.setAttribute("download",i),a.setAttribute("href",(n=Du.toDataURL("png"),r="image/png",u="image/octet-stream",n.replace(new RegExp(Me(r),"g"),u))),a.click(),Du.width=Ur,Du.height=qr}}var n,r,u},document.onfullscreenchange=e=>{null==document.fullscreenElement&&(Du.width=Ur,Du.height=qr,ju())},window.onresize=e=>{ju(),ju()}}]);